
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for admin-vue/dist-pro/assets/LoginForm.vue_vue_type_script_setup_true_lang-Db1K09Ho.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../index.html">All files</a> / <a href="index.html">admin-vue/dist-pro/assets</a> LoginForm.vue_vue_type_script_setup_true_lang-Db1K09Ho.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >var v=(m,P,d)=&gt;new Promise((w,l)=&gt;{var r=n=&gt;{try{f(d.next(n))}catch(p){l(p)}},a=n=&gt;{try{f(d.throw(n))}catch(p){l(p)}},f=n=&gt;n.done?w(n.value):Promise.resolve(n.value).then(r,a);f((d=d.apply(m,P)).next())});import{F as O}from"./Form-B_DENmkD.js";import{u as T,k as $,d as G,a as H,h as z,I as R,l as J,m as Q,n as W}from"./index-BEu9Qr3B.js";/* empty css                    *//* empty css                */import{u as X}from"./useForm-CCE0J8jW.js";import{x as Y,aA as Z,l as ee,V as s,I as C,r as S,j as oe,w as te,u as y,K as se,z as re,a7 as ae}from"./vue-chunks-Cb_T6hIW.js";import{u as ne}from"./useValidator-Bqj8vU0a.js";import{C as le,x as ie}from"./element-plus-BmofUjmf.js";function A(m){return typeof m=="function"||Object.prototype.toString.call(m)==="[object Object]"&amp;&amp;!ae(m)}const k=30,b="#999",I="var(--el-color-primary)",ve=Y({__name:"LoginForm",emits:["to-register","to-forget-password"],setup(m,{emit:P}){const{required:d}=ne(),w=P,l=T(),r=$(),a=G(),{currentRoute:f,addRoute:n,push:p}=Z(),{t:i}=H(),D={username:[d()],password:[d()]},F=ee([{field:"title",colProps:{span:24},formItemProps:{slots:{default:()=&gt;s("h2",{class:"text-2xl font-bold text-center w-[100%]"},[i("login.login")])}}},{field:"email",label:i("login.email"),component:"Input",colProps:{span:24},componentProps:{placeholder:"Enter your email address"}},{field:"password",label:i("login.password"),component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},placeholder:"admin or test",onKeydown:e=&gt;{e.key==="Enter"&amp;&amp;(e.stopPropagation(),E())}}},{field:"tool",colProps:{span:24},formItemProps:{slots:{default:()=&gt;{let e;return s(C,null,[s("div",{class:"flex justify-between items-center w-[100%]"},[s(le,{modelValue:h.value,"onUpdate:modelValue":t=&gt;h.value=t,label:i("login.remember"),size:"small"},null),s(ie,{type:"primary",underline:!1,onClick:()=&gt;w("to-forget-password")},A(e=i("login.forgetPassword"))?e:{default:()=&gt;[e]})])])}}}},{field:"login",colProps:{span:24},formItemProps:{slots:{default:()=&gt;{let e,t;return s(C,null,[s("div",{class:"w-[100%]"},[s(z,{loading:_.value,type:"primary",class:"w-[100%]",onClick:E},A(e=i("login.login"))?e:{default:()=&gt;[e]})]),s("div",{class:"w-[100%] mt-15px"},[s(z,{class:"w-[100%]",onClick:B},A(t=i("login.register"))?t:{default:()=&gt;[t]})])])}}}},{field:"other",component:"Divider",label:i("login.otherLogin"),componentProps:{contentPosition:"center"}},{field:"otherIcon",colProps:{span:24},formItemProps:{slots:{default:()=&gt;s(C,null,[s("div",{class:"flex justify-between w-[100%]"},[s(R,{icon:"vi-ant-design:github-filled",size:k,class:"cursor-pointer ant-icon",color:b,hoverColor:I},null),s(R,{icon:"vi-ant-design:wechat-filled",size:k,class:"cursor-pointer ant-icon",color:b,hoverColor:I},null),s(R,{icon:"vi-ant-design:alipay-circle-filled",size:k,color:b,hoverColor:I,class:"cursor-pointer ant-icon"},null),s(R,{icon:"vi-ant-design:weibo-circle-filled",size:k,color:b,hoverColor:I,class:"cursor-pointer ant-icon"},null)])])}}}]),h=S(r.getRememberMe),L=()=&gt;{const e=r.getLoginInfo;if(e){const{username:t,password:c}=e;q({username:t,password:c})}};oe(()=&gt;{L()});const{formRegister:V,formMethods:j}=X(),{getFormData:M,getElFormExpose:U,setValues:q}=j,_=S(!1),x=S("");te(()=&gt;f.value,e=&gt;{var t;x.value=(t=e==null?void 0:e.query)==null?void 0:t.redirect},{immediate:!0});const E=()=&gt;v(null,null,function*(){const e=yield U();yield e==null?void 0:e.validate(t=&gt;v(null,null,function*(){if(t){_.value=!0;const c=yield M();try{const o=yield J(c);if(o){let u,g;o.token&amp;&amp;o.user?(u=o.token,g=o.user):o.ac</span></span>cess_token?(u=o.access_token,g=o.user||o):o.data?(u=o.data.token||o.data.access_token,g=o.data.user||o.data):(u=o.token||o.access_token,g=o.user||o),r.setToken(u),y(h)?r.setLoginInfo({email:c.email,password:c.password}):r.setLoginInfo(void 0),r.setRememberMe(y(h)),r.setUserInfo(g),l.getDynamicRouter?N():(yield a.generateRoutes("static").catch(()=&gt;{}),a.getAddRouters.forEach(K=&gt;{n(K)}),a.setIsAddRouters(!0),p({path:x.value||a.addRouters[0].path}))}}finally{_.value=!1}}}))}),N=()=&gt;v(null,null,function*(){const e=r.getUserInfo(),t={roleName:(e==null?void 0:e.name)||(e==null?void 0:e.email)},c=l.getDynamicRouter&amp;&amp;l.getServerDynamicRouter?yield Q(t):yield W(t);if(c){const o=c.data||[];r.setRoleRouters(o),l.getDynamicRouter&amp;&amp;l.getServerDynamicRouter?yield a.generateRoutes("server",o).catch(()=&gt;{}):yield a.generateRoutes("frontEnd",o).catch(()=&gt;{}),a.getAddRouters.forEach(u=&gt;{n(u)}),a.setIsAddRouters(!0),p({path:x.value||a.addRouters[0].path})}}),B=()=&gt;{w("to-register")};return(e,t)=&gt;(re(),se(y(O),{schema:F,rules:D,"label-position":"top","hide-required-asterisk":"",size:"large",class:"dark:border-1 dark:border-[var(--el-border-color)] dark:border-solid",onRegister:y(V)},null,8,["schema","onRegister"]))}});export{ve as _};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-08-25T04:37:24.182Z
            </div>
        <script src="../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../sorter.js"></script>
        <script src="../../../block-navigation.js"></script>
    </body>
</html>
    