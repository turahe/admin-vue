
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for admin-vue/dist-pro/assets/ImageCropping.vue_vue_type_script_setup_true_lang-BrFMtKxt.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../index.html">All files</a> / <a href="index.html">admin-vue/dist-pro/assets</a> ImageCropping.vue_vue_type_script_setup_true_lang-BrFMtKxt.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >var kt=(l,t,e)=&gt;new Promise((s,i)=&gt;{var n=h=&gt;{try{a(e.next(h))}catch(r){i(r)}},c=h=&gt;{try{a(e.throw(h))}catch(r){i(r)}},a=h=&gt;h.done?s(h.value):Promise.resolve(h.value).then(n,c);a((e=e.apply(l,t)).next())});import{x as de,c as xt,r as V,j as ue,w as fe,R as pe,u as b,y as dt,z as ut,J as $e,C as z,H as Ot,Q as j,S as ge,T as me,V as S,L as _,ai as be,n as ve}from"./vue-chunks-Cb_T6hIW.js";import{b as Ce,h as W,E as Ee}from"./index-BEu9Qr3B.js";/* empty css                   *//* empty css                    *//* empty css                  */import{a5 as L,O as ye,n as we,b as Se}from"./element-plus-BmofUjmf.js";const lt=typeof window!="undefined"&amp;&amp;typeof window.document!="undefined",P=lt?window:{},gt=lt?"ontouchstart"in P.document.documentElement:!1,mt=lt?"PointerEvent"in P:!1,Y="cropper",F=`${Y}-canvas`,Ae=`${Y}-crosshair`,Te=`${Y}-grid`,ke=`${Y}-handle`,K=`${Y}-image`,M=`${Y}-selection`,xe=`${Y}-shade`,Oe=`${Y}-viewer`,rt="select",ae="move",Z="scale",pt="rotate",ct="transform",X="none",_t="n-resize",Nt="e-resize",Rt="s-resize",It="w-resize",J="ne-resize",Q="nw-resize",tt="se-resize",et="sw-resize",_e="action",Ne=gt?"touchend touchcancel":"mouseup",Re=gt?"touchmove":"mousemove",Ie=gt?"touchstart":"mousedown",zt=mt?"pointerdown":Ie,Pt=mt?"pointermove":Re,Mt=mt?"pointerup pointercancel":Ne,Dt="error",Wt="keydown",q="load",Lt="wheel",G="action",U="actionend",ze="actionmove",B="actionstart",H="change",$t="transform";function at(l){return typeof l=="string"}const oe=Number.isNaN||P.isNaN;function g(l){return typeof l=="number"&amp;&amp;!oe(l)}function I(l){return g(l)&amp;&amp;l&gt;0&amp;&amp;l&lt;1/0}function Pe(l){return typeof l=="undefined"}function re(l){return typeof l=="object"&amp;&amp;l!==null}const{hasOwnProperty:Me}=Object.prototype;function ht(l){if(!re(l))return!1;try{const{constructor:t}=l,{prototype:e}=t;return t&amp;&amp;e&amp;&amp;Me.call(e,"isPrototypeOf")}catch(t){return!1}}function bt(l){return typeof l=="function"}function st(l){return typeof l=="object"&amp;&amp;l!==null&amp;&amp;l.nodeType===1}const De=/([a-z\d])([A-Z])/g;function Xt(l){return String(l).replace(De,"$1-$2").toLowerCase()}const We=/-[A-z\d]/g;function Ht(l){return l.replace(We,t=&gt;t.slice(1).toUpperCase())}const ce=/\s\s*/;function k(l,t,e,s){t.trim().split(ce).forEach(i=&gt;{l.removeEventListener(i,e,s)})}function x(l,t,e,s){t.trim().split(ce).forEach(i=&gt;{l.addEventListener(i,e,s)})}function Yt(l,t,e,s){x(l,t,e,Object.assign(Object.assign({},s),{once:!0}))}const Le={bubbles:!0,cancelable:!0,composed:!0};function Xe(l,t,e,s){return l.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign(Object.assign({},Le),{detail:e}),s)))}const Ut=Promise.resolve();function He(l,t){return t?Ut.then(l?t.bind(l):t):Ut}function Bt(l){const{documentElement:t}=l.ownerDocument,e=l.getBoundingClientRect();return{left:e.left+(P.pageXOffset-t.clientLeft),top:e.top+(P.pageYOffset-t.clientTop)}}const Ye=/deg|g?rad|turn$/i;function ft(l){const t=parseFloat(l)||0;if(t!==0){const[e="rad"]=String(l).match(Ye)||[];switch(e.toLowerCase()){case"deg":return t/360*(Math.PI*2);case"grad":return t/400*(Math.PI*2);case"turn":return t*(Math.PI*2)}}return t}const jt="contain",Ue="cover";function ot(l,t=jt){const{aspectRatio:e}=l;let{width:s,height:i}=l;const n=I(s),c=I(i);if(n&amp;&amp;c){const a=i*e;t===jt&amp;&amp;a&gt;s||t===Ue&amp;&amp;a&lt;s?i=s/e:s=i*e}else n?i=s/e:c&amp;&amp;(s=i*e);return{width:s,height:i}}function he(l,...t){if(t.length===0)return l;const[e,s,i,n,c,a]=l,[h,r,o,p,u,m]=t[0];return l=[e*h+i*r,s*h+n*r,e*o+i*p,s*o+n*p,e*u+i*m+c,s*u+n*m+a],he(l,...t.slice(1))}var Be=":host([hidden]){display:none!important}";const je=/left|top|width|height/i,qt="open",it=new WeakMap,nt=new WeakMap,Kt=new Map,Zt=P.document&amp;&amp;Array.isArray(P.document.adoptedStyleSheets)&amp;&amp;"replaceSync"in P.CSSStyleSheet.prototype;class D extends HTMLElement{get $sharedStyle(){return`${this.themeColor?`:host{--theme-color: ${this.themeColor};}`:""}${Be}`}constructor(){var t,e;super(),this.shadowRootMode=qt,this.slottable=!0;const s=(e=(t=Object.getPrototypeOf(this))===null||t===void 0?void 0:t.constructor)===null||e===void 0?void 0:e.$name;s&amp;&amp;Kt.set(s,this.tagName.toLowerCase())}static get observedAttributes(){return["shadow-root-mode","slottable","theme-color"]}attributeChangedCallback(t,e,s){if(Object.is(s,e))return;const i=Ht(t),n=this[i];let c=s;switch(typeof n){case"boolean":c=s!==null&amp;&amp;s!=="false";break;case"number":c=Number(s);break}switch(this[i]=c,t){case"theme-color":{const a=nt.get(this),h=this.$sharedStyle;a&amp;&amp;h&amp;&amp;(Zt?a.replaceSync(h):a.textContent=h);break}}}$propertyChangedCallback(t,e,s){if(!Object.is(s,e))switch(t=Xt(t),typeof s){case"boolean":s===!0?this.hasAttribute(t)||this.setAttribute(t,""):this.removeAttribute(t);break;case"number":oe(s)?s="":s=String(s);default:s?this.getAttribute(t)!==s&amp;&amp;this.setAttribute(t,s):this.removeAttribute(t)}}connectedCallback(){Object.getPrototypeOf(this).constructor.observedAttributes.forEach(e=&gt;{const s=Ht(e);let i=this[s];Pe(i)||this.$propertyChangedCallback(s,void 0,i),Object.defineProperty(this,s,{enumerable:!0,configurable:!0,get(){return i},set(n){const c=i;i=n,this.$propertyChangedCallback(s,c,n)}})});const t=this.attachShadow({mode:this.shadowRootMode||qt});if(this.shadowRoot||it.set(this,t),nt.set(this,this.$addStyles(this.$sharedStyle)),this.$style&amp;&amp;this.$addStyles(this.$style),this.$template){const e=document.createElement("template");e.innerHTML=this.$template,t.appendChild(e.content)}if(this.slottable){const e=document.createElement("slot");t.appendChild(e)}}disconnectedCallback(){nt.has(this)&amp;&amp;nt.delete(this),it.has(this)&amp;&amp;it.delete(this)}$getTagNameOf(t){var e;return(e=Kt.get(t))!==null&amp;&amp;e!==void 0?e:t}$setStyles(t){return Object.keys(t).forEach(e=&gt;{let s=t[e];g(s)&amp;&amp;(s!==0&amp;&amp;je.test(e)?s=`${s}px`:s=String(s)),this.style[e]=s}),this}$getShadowRoot(){return this.shadowRoot||it.get(this)}$addStyles(t){let e;const s=this.$getShadowRoot();return Zt?(e=new CSSStyleSheet,e.replaceSync(t),s.adoptedStyleSheets=s.adoptedStyleSheets.concat(e)):(e=document.createElement("style"),e.textContent=t,s.appendChild(e)),e}$emit(t,e,s){return Xe(this,t,e,s)}$nextTick(t){return He(this,t)}static $define(t,e){re(t)&amp;&amp;(e=t,t=""),t||(t=this.$name||this.name),t=Xt(t),lt&amp;&amp;P.customElements&amp;&amp;!P.customElements.get(t)&amp;&amp;customElements.define(t,this,e)}}D.$version="2.0.0";var qe=':host{display:block;min-height:100px;min-width:200px;overflow:hidden;position:relative;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([background]){background-color:#fff;background-image:repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc),repeating-linear-gradient(45deg,#ccc 25%,transparent 0,transparent 75%,#ccc 0,#ccc);background-image:repeating-conic-gradient(#ccc 0 25%,#fff 0 50%);background-position:0 0,.5rem .5rem;background-size:1rem 1rem}:host([disabled]){pointer-events:none}:host([disabled]):after{bottom:0;content:"";cursor:not-allowed;display:block;left:0;pointer-events:none;position:absolute;right:0;top:0}';class vt extends D{constructor(){super(...arguments),this.$onPointerDown=null,this.$onPointerMove=null,this.$onPointerUp=null,this.$onWheel=null,this.$wheeling=!1,this.$pointers=new Map,this.$style=qe,this.$action=X,this.background=!1,this.disabled=!1,this.scaleStep=.1,this.themeColor="#39f"}static get observedAttributes(){return super.observedAttributes.concat(["background","disabled","scale-step"])}connectedCallback(){super.connectedCallback(),this.disabled||this.$bind()}disconnectedCallback(){this.disabled||this.$unbind(),super.disconnectedCallback()}$propertyChangedCallback(t,e,s){if(!Object.is(s,e))switch(super.$propertyChangedCallback(t,e,s),t){case"disabled":s?this.$unbind():this.$bind();break}}$bind(){this.$onPointerDown||(this.$onPointerDown=this.$handlePointerDown.bind(this),x(this,zt,this.$onPointerDown)),this.$onPointerMove||(this.$onPointerMove=this.$handlePointerMove.bind(this),x(this.ownerDocument,Pt,this.$onPointerMove)),this.$onPointerUp||(this.$onPointerUp=this.$handlePointerUp.bind(this),x(this.ownerDocument,Mt,this.$onPointerUp)),this.$onWheel||(this.$onWheel=this.$handleWheel.bind(this),x(this,Lt,this.$onWheel,{passive:!1,capture:!0}))}$unbind(){this.$onPointerDown&amp;&amp;(k(this,zt,this.$onPointerDown),this.$onPointerDown=null),this.$onPointerMove&amp;&amp;(k(this.ownerDocument,Pt,this.$onPointerMove),this.$onPointerMove=null),this.$onPointerUp&amp;&amp;(k(this.ownerDocument,Mt,this.$onPointerUp),this.$onPointerUp=null),this.$onWheel&amp;&amp;(k(this,Lt,this.$onWheel,{capture:!0}),this.$onWheel=null)}$handlePointerDown(t){const{buttons:e,button:s,type:i}=t;if(this.disabled||(i==="pointerdown"&amp;&amp;t.pointerType==="mouse"||i==="mousedown")&amp;&amp;(g(e)&amp;&amp;e!==1||g(s)&amp;&amp;s!==0||t.ctrlKey))return;const{$pointers:n}=this;let c="";if(t.changedTouches)Array.from(t.changedTouches).forEach(({identifier:a,pageX:h,pageY:r})=&gt;{n.set(a,{startX:h,startY:r,endX:h,endY:r})});else{const{pointerId:a=0,pageX:h,pageY:r}=t;n.set(a,{startX:h,startY:r,endX:h,endY:r})}n.size&gt;1?c=ct:st(t.target)&amp;&amp;(c=t.target.action||t.target.getAttribute(_e)||""),this.$emit(B,{action:c,relatedEvent:t})!==!1&amp;&amp;(t.preventDefault(),this.$action=c,this.style.willChange="transform")}$handlePointerMove(t){const{$action:e,$pointers:s}=this;if(this.disabled||e===X||s.size===0||this.$emit(ze,{action:e,relatedEvent:t})===!1)return;if(t.preventDefault(),t.changedTouches)Array.from(t.changedTouches).forEach(({identifier:n,pageX:c,pageY:a})=&gt;{const h=s.get(n);h&amp;&amp;Object.assign(h,{endX:c,endY:a})});else{const{pointerId:n=0,pageX:c,pageY:a}=t,h=s.get(n);h&amp;&amp;Object.assign(h,{endX:c,endY:a})}const i={action:e,relatedEvent:t};if(e===ct){const n=new Map(s);let c=0,a=0,h=0,r=0,o=t.pageX,p=t.pageY;s.forEach(($,O)=&gt;{n.delete(O),n.forEach(T=&gt;{let C=T.startX-$.startX,w=T.startY-$.startY,E=T.endX-$.endX,y=T.endY-$.endY,d=0,f=0,v=0,A=0;if(C===0?w&lt;0?v=Math.PI*2:w&gt;0&amp;&amp;(v=Math.PI):C&gt;0?v=Math.PI/2+Math.atan(w/C):C&lt;0&amp;&amp;(v=Math.PI*1.5+Math.atan(w/C)),E===0?y&lt;0?A=Math.PI*2:y&gt;0&amp;&amp;(A=Math.PI):E&gt;0?A=Math.PI/2+Math.atan(y/E):E&lt;0&amp;&amp;(A=Math.PI*1.5+Math.atan(y/E)),A&gt;0||v&gt;0){const N=A-v,R=Math.abs(N);R&gt;c&amp;&amp;(c=R,h=N,o=($.startX+T.startX)/2,p=($.startY+T.startY)/2)}if(C=Math.abs(C),w=Math.abs(w),E=Math.abs(E),y=Math.abs(y),C&gt;0&amp;&amp;w&gt;0?d=Math.sqrt(C*C+w*w):C&gt;0?d=C:w&gt;0&amp;&amp;(d=w),E&gt;0&amp;&amp;y&gt;0?f=Math.sqrt(E*E+y*y):E&gt;0?f=E:y&gt;0&amp;&amp;(f=y),d&gt;0&amp;&amp;f&gt;0){const N=(f-d)/d,R=Math.abs(N);R&gt;a&amp;&amp;(a=R,r=N,o=($.startX+T.startX)/2,p=($.startY+T.startY)/2)}})});const u=c&gt;0,m=a&gt;0;u&amp;&amp;m?(i.rotate=h,i.scale=r,i.centerX=o,i.centerY=p):u?(i.action=pt,i.rotate=h,i.centerX=o,i.centerY=p):m?(i.action=Z,i.scale=r,i.centerX=o,i.centerY=p):i.action=X}else{const[n]=Array.from(s.values());Object.assign(i,n)}s.forEach(n=&gt;{n.startX=n.endX,n.startY=n.endY}),i.action!==X&amp;&amp;this.$emit(G,i,{cancelable:!1})}$handlePointerUp(t){const{$action:e,$pointers:s}=this;if(!(this.disabled||e===X)&amp;&amp;this.$emit(U,{action:e,relatedEvent:t})!==!1){if(t.preventDefault(),t.changedTouches)Array.from(t.changedTouches).forEach(({identifier:i})=&gt;{s.delete(i)});else{const{pointerId:i=0}=t;s.delete(i)}s.size===0&amp;&amp;(this.style.willChange="",this.$action=X)}}$handleWheel(t){if(this.disabled||(t.preventDefault(),this.$wheeling))return;this.$wheeling=!0,setTimeout(()=&gt;{this.$wheeling=!1},50);const s=(t.deltaY&gt;0?-1:1)*this.scaleStep;this.$emit(G,{action:Z,scale:s,relatedEvent:t},{cancelable:!1})}$setAction(t){return at(t)&amp;&amp;(this.$action=t),this}$toCanvas(t){return new Promise((e,s)=&gt;{if(!this.isConnected){s(new Error("The current element is not connected to the DOM."));return}const i=document.createElement("canvas");let n=this.offsetWidth,c=this.offsetHeight,a=1;ht(t)&amp;&amp;(I(t.width)||I(t.height))&amp;&amp;({width:n,height:c}=ot({aspectRatio:n/c,width:t.width,height:t.height}),a=n/this.offsetWidth),i.width=n,i.height=c;const h=this.querySelector(this.$getTagNameOf(K));if(!h){e(i);return}h.$ready().then(r=&gt;{const o=i.getContext("2d");if(o){const[p,u,m,$,O,T]=h.$getTransform();let C=O,w=T,E=r.naturalWidth,y=r.naturalHeight;a!==1&amp;&amp;(C*=a,w*=a,E*=a,y*=a);const d=E/2,f=y/2;o.fillStyle="transparent",o.fillRect(0,0,n,c),ht(t)&amp;&amp;bt(t.beforeDraw)&amp;&amp;t.beforeDraw.call(this,o,i),o.save(),o.translate(d,f),o.transform(p,u,m,$,C,w),o.translate(-d,-f),o.drawImage(r,0,0,E,y),o.restore()}e(i)}).catch(s)})}}vt.$name=F;vt.$version="2.0.0";var Ke=":host{display:inline-block}img{display:block;height:100%;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}";const Gt=new WeakMap,Ft=["alt","crossorigin","decoding","importance","loading","referrerpolicy","sizes","src","srcset"];class Ct extends D{constructor(){super(...arguments),this.$matrix=[1,0,0,1,0,0],this.$onLoad=null,this.$onCanvasAction=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$actionStartTarget=null,this.$style=Ke,this.$image=new Image,this.initialCenterSize="contain",this.rotatable=!1,this.scalable=!1,this.skewable=!1,this.slottable=!1,this.translatable=!1}set $canvas(t){Gt.set(this,t)}get $canvas(){return Gt.get(this)}static get observedAttributes(){return super.observedAttributes.concat(Ft,["initial-center-size","rotatable","scalable","skewable","translatable"])}attributeChangedCallback(t,e,s){Object.is(s,e)||(super.attributeChangedCallback(t,e,s),Ft.includes(t)&amp;&amp;this.$image.setAttribute(t,s))}$propertyChangedCallback(t,e,s){if(!Object.is(s,e))switch(super.$propertyChangedCallback(t,e,s),t){case"initialCenterSize":this.$nextTick(()=&gt;{this.$center(s)});break}}connectedCallback(){super.connectedCallback();const{$image:t}=this,e=this.closest(this.$getTagNameOf(F));e&amp;&amp;(this.$canvas=e,this.$setStyles({display:"block",position:"absolute"}),this.$onCanvasActionStart=s=&gt;{var i,n;this.$actionStartTarget=(n=(i=s.detail)===null||i===void 0?void 0:i.relatedEvent)===null||n===void 0?void 0:n.target},this.$onCanvasActionEnd=()=&gt;{this.$actionStartTarget=null},this.$onCanvasAction=this.$handleAction.bind(this),x(e,B,this.$onCanvasActionStart),x(e,U,this.$onCanvasActionEnd),x(e,G,this.$onCanvasAction)),this.$onLoad=this.$handleLoad.bind(this),x(t,q,this.$onLoad),this.$getShadowRoot().appendChild(t)}disconnectedCallback(){const{$image:t,$canvas:e}=this;e&amp;&amp;(this.$onCanvasActionStart&amp;&amp;(k(e,B,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&amp;&amp;(k(e,U,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&amp;&amp;(k(e,G,this.$onCanvasAction),this.$onCanvasAction=null)),t&amp;&amp;this.$onLoad&amp;&amp;(k(t,q,this.$onLoad),this.$onLoad=null),this.$getShadowRoot().removeChild(t),super.disconnectedCallback()}$handleLoad(){const{$image:t}=this;this.$setStyles({width:t.naturalWidth,height:t.naturalHeight}),this.$canvas&amp;&amp;this.$center(this.initialCenterSize)}$handleAction(t){if(this.hidden||!(this.rotatable||this.scalable||this.translatable))return;const{$canvas:e}=this,{detail:s}=t;if(s){const{relatedEvent:i}=s;let{action:n}=s;switch(n===ct&amp;&amp;(!this.rotatable||!this.scalable)&amp;&amp;(this.rotatable?n=pt:this.scalable?n=Z:n=X),n){case ae:if(this.translatable){let c=null;i&amp;&amp;(c=i.target.closest(this.$getTagNameOf(M))),c||(c=e.querySelector(this.$getTagNameOf(M))),c&amp;&amp;c.multiple&amp;&amp;!c.active&amp;&amp;(c=e.querySelector(`${this.$getTagNameOf(M)}[active]`)),(!c||c.hidden||!c.movable||c.dynamic||!(this.$actionStartTarget&amp;&amp;c.contains(this.$actionStartTarget)))&amp;&amp;this.$move(s.endX-s.startX,s.endY-s.startY)}break;case pt:if(this.rotatable)if(i){const{x:c,y:a}=this.getBoundingClientRect();this.$rotate(s.rotate,i.clientX-c,i.clientY-a)}else this.$rotate(s.rotate);break;case Z:if(this.scalable)if(i){const c=i.target.closest(this.$getTagNameOf(M));if(!c||!c.zoomable||c.zoomable&amp;&amp;c.dynamic){const{x:a,y:h}=this.getBoundingClientRect();this.$zoom(s.scale,i.clientX-a,i.clientY-h)}}else this.$zoom(s.scale);break;case ct:if(this.rotatable&amp;&amp;this.scalable){const{rotate:c}=s;let{scale:a}=s;a&lt;0?a=1/(1-a):a+=1;const h=Math.cos(c),r=Math.sin(c),[o,p,u,m]=[h*a,r*a,-r*a,h*a];if(i){const $=this.getBoundingClientRect(),O=i.clientX-$.x,T=i.clientY-$.y,[C,w,E,y]=this.$matrix,d=$.width/2,f=$.height/2,v=O-d,A=T-f,N=(v*y-E*A)/(C*y-E*w),R=(A*C-w*v)/(C*y-E*w);this.$transform(o,p,u,m,N*(1-o)+R*u,R*(1-m)+N*p)}else this.$transform(o,p,u,m,0,0)}break}}}$ready(t){const{$image:e}=this,s=new Promise((i,n)=&gt;{const c=new Error("Failed to load the image source");if(e.complete)e.naturalWidth&gt;0&amp;&amp;e.naturalHeight&gt;0?i(e):n(c);else{const a=()=&gt;{k(e,Dt,h),i(e)},h=()=&gt;{k(e,q,a),n(c)};Yt(e,q,a),Yt(e,Dt,h)}});return bt(t)&amp;&amp;s.then(i=&gt;(t(i),i)),s}$center(t){const{parentElement:e}=this;if(!e)return this;const s=e.getBoundingClientRect(),i=s.width,n=s.height,{x:c,y:a,width:h,height:r}=this.getBoundingClientRect(),o=c+h/2,p=a+r/2,u=s.x+i/2,m=s.y+n/2;if(this.$move(u-o,m-p),t&amp;&amp;(h!==i||r!==n)){const $=i/h,O=n/r;switch(t){case"cover":this.$scale(Math.max($,O));break;case"contain":this.$scale(Math.min($,O));break}}return this}$move(t,e=t){if(this.translatable&amp;&amp;g(t)&amp;&amp;g(e)){const[s,i,n,c]=this.$matrix,a=(t*c-n*e)/(s*c-n*i),h=(e*s-i*t)/(s*c-n*i);this.$translate(a,h)}return this}$moveTo(t,e=t){if(this.translatable&amp;&amp;g(t)&amp;&amp;g(e)){const[s,i,n,c]=this.$matrix,a=(t*c-n*e)/(s*c-n*i),h=(e*s-i*t)/(s*c-n*i);this.$setTransform(s,i,n,c,a,h)}return this}$rotate(t,e,s){if(this.rotatable){const i=ft(t),n=Math.cos(i),c=Math.sin(i),[a,h,r,o]=[n,c,-c,n];if(g(e)&amp;&amp;g(s)){const[p,u,m,$]=this.$matrix,{width:O,height:T}=this.getBoundingClientRect(),C=O/2,w=T/2,E=e-C,y=s-w,d=(E*$-m*y)/(p*$-m*u),f=(y*p-u*E)/(p*$-m*u);this.$transform(a,h,r,o,d*(1-a)-f*r,f*(1-o)-d*h)}else this.$transform(a,h,r,o,0,0)}return this}$zoom(t,e,s){if(!this.scalable||t===0)return this;if(t&lt;0?t=1/(1-t):t+=1,g(e)&amp;&amp;g(s)){const[i,n,c,a]=this.$matrix,{width:h,height:r}=this.getBoundingClientRect(),o=h/2,p=r/2,u=e-o,m=s-p,$=(u*a-c*m)/(i*a-c*n),O=(m*i-n*u)/(i*a-c*n);this.$transform(t,0,0,t,$*(1-t),O*(1-t))}else this.$scale(t);return this}$scale(t,e=t){return this.scalable&amp;&amp;this.$transform(t,0,0,e,0,0),this}$skew(t,e=0){if(this.skewable){const s=ft(t),i=ft(e);this.$transform(1,Math.tan(i),Math.tan(s),1,0,0)}return this}$translate(t,e=t){return this.translatable&amp;&amp;g(t)&amp;&amp;g(e)&amp;&amp;this.$transform(1,0,0,1,t,e),this}$transform(t,e,s,i,n,c){return g(t)&amp;&amp;g(e)&amp;&amp;g(s)&amp;&amp;g(i)&amp;&amp;g(n)&amp;&amp;g(c)?this.$setTransform(he(this.$matrix,[t,e,s,i,n,c])):this}$setTransform(t,e,s,i,n,c){if((this.rotatable||this.scalable||this.skewable||this.translatable)&amp;&amp;(Array.isArray(t)&amp;&amp;([t,e,s,i,n,c]=t),g(t)&amp;&amp;g(e)&amp;&amp;g(s)&amp;&amp;g(i)&amp;&amp;g(n)&amp;&amp;g(c))){const a=[...this.$matrix],h=[t,e,s,i,n,c];if(this.$emit($t,{matrix:h,oldMatrix:a})===!1)return this;this.$matrix=h,this.style.transform=`matrix(${h.join(", ")})`}return this}$getTransform(){return this.$matrix.slice()}$resetTransform(){return this.$setTransform([1,0,0,1,0,0])}}Ct.$name=K;Ct.$version="2.0.0";var Ze=":host{display:block;height:0;left:0;outline:var(--theme-color) solid 1px;position:relative;top:0;width:0}:host([transparent]){outline-color:transparent}";const Vt=new WeakMap;class Et extends D{constructor(){super(...arguments),this.$onCanvasChange=null,this.$onCanvasActionEnd=null,this.$onCanvasActionStart=null,this.$style=Ze,this.x=0,this.y=0,this.width=0,this.height=0,this.slottable=!1,this.themeColor="rgba(0, 0, 0, 0.65)"}set $canvas(t){Vt.set(this,t)}get $canvas(){return Vt.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["height","width","x","y"])}connectedCallback(){super.connectedCallback();const t=this.closest(this.$getTagNameOf(F));if(t){this.$canvas=t,this.style.position="absolute";const e=t.querySelector(this.$getTagNameOf(M));e&amp;&amp;(this.$onCanvasActionStart=s=&gt;{e.hidden&amp;&amp;s.detail.action===rt&amp;&amp;(this.hidden=!1)},this.$onCanvasActionEnd=s=&gt;{e.hidden&amp;&amp;s.detail.action===rt&amp;&amp;(this.hidden=!0)},this.$onCanvasChange=s=&gt;{const{x:i,y:n,width:c,height:a}=s.detail;this.$change(i,n,c,a),(e.hidden||i===0&amp;&amp;n===0&amp;&amp;c===0&amp;&amp;a===0)&amp;&amp;(this.hidden=!0)},x(t,B,this.$onCanvasActionStart),x(t,U,this.$onCanvasActionEnd),x(t,H,this.$onCanvasChange))}this.$render()}disconnectedCallback(){const{$canvas:t}=this;t&amp;&amp;(this.$onCanvasActionStart&amp;&amp;(k(t,B,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&amp;&amp;(k(t,U,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasChange&amp;&amp;(k(t,H,this.$onCanvasChange),this.$onCanvasChange=null)),super.disconnectedCallback()}$change(t,e,s=this.width,i=this.height){return!g(t)||!g(e)||!g(s)||!g(i)||t===this.x&amp;&amp;e===this.y&amp;&amp;s===this.width&amp;&amp;i===this.height?this:(this.hidden&amp;&amp;(this.hidden=!1),this.x=t,this.y=e,this.width=s,this.height=i,this.$render())}$reset(){return this.$change(0,0,0,0)}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height,outlineWidth:P.innerWidth})}}Et.$name=xe;Et.$version="2.0.0";var Ge=':host{background-color:var(--theme-color);display:block}:host([action=move]),:host([action=select]){height:100%;left:0;position:absolute;top:0;width:100%}:host([action=move]){cursor:move}:host([action=select]){cursor:crosshair}:host([action$=-resize]){background-color:transparent;height:15px;position:absolute;width:15px}:host([action$=-resize]):after{background-color:var(--theme-color);content:"";display:block;height:5px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:5px}:host([action=n-resize]),:host([action=s-resize]){cursor:ns-resize;left:50%;transform:translateX(-50%);width:100%}:host([action=n-resize]){top:-8px}:host([action=s-resize]){bottom:-8px}:host([action=e-resize]),:host([action=w-resize]){cursor:ew-resize;height:100%;top:50%;transform:translateY(-50%)}:host([action=e-resize]){right:-8px}:host([action=w-resize]){left:-8px}:host([action=ne-resize]){cursor:nesw-resize;right:-8px;top:-8px}:host([action=nw-resize]){cursor:nwse-resize;left:-8px;top:-8px}:host([action=se-resize]){bottom:-8px;cursor:nwse-resize;right:-8px}:host([action=se-resize]):after{height:15px;width:15px}@media (pointer:coarse){:host([action=se-resize]):after{height:10px;width:10px}}@media (pointer:fine){:host([action=se-resize]):after{height:5px;width:5px}}:host([action=sw-resize]){bottom:-8px;cursor:nesw-resize;left:-8px}:host([plain]){background-color:transparent}';class yt extends D{constructor(){super(...arguments),this.$onCanvasCropEnd=null,this.$onCanvasCropStart=null,this.$style=Ge,this.action=X,this.plain=!1,this.slottable=!1,this.themeColor="rgba(51, 153, 255, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["action","plain"])}}yt.$name=ke;yt.$version="2.0.0";var Fe=':host{display:block;left:0;position:relative;right:0}:host([outlined]){outline:1px solid var(--theme-color)}:host([multiple]){outline:1px dashed hsla(0,0%,100%,.5)}:host([multiple]):after{bottom:0;content:"";cursor:pointer;display:block;left:0;position:absolute;right:0;top:0}:host([multiple][active]){outline-color:var(--theme-color);z-index:1}:host([multiple])&gt;*{visibility:hidden}:host([multiple][active])&gt;*{visibility:visible}:host([multiple][active]):after{display:none}';const Jt=new WeakMap;class wt extends D{constructor(){super(...arguments),this.$onCanvasAction=null,this.$onCanvasActionStart=null,this.$onCanvasActionEnd=null,this.$onDocumentKeyDown=null,this.$action="",this.$actionStartTarget=null,this.$changing=!1,this.$style=Fe,this.$initialSelection={x:0,y:0,width:0,height:0},this.x=0,this.y=0,this.width=0,this.height=0,this.aspectRatio=NaN,this.initialAspectRatio=NaN,this.initialCoverage=NaN,this.active=!1,this.linked=!1,this.dynamic=!1,this.movable=!1,this.resizable=!1,this.zoomable=!1,this.multiple=!1,this.keyboard=!1,this.outlined=!1,this.precise=!1}set $canvas(t){Jt.set(this,t)}get $canvas(){return Jt.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["active","aspect-ratio","dynamic","height","initial-aspect-ratio","initial-coverage","keyboard","linked","movable","multiple","outlined","precise","resizable","width","x","y","zoomable"])}$propertyChangedCallback(t,e,s){if(!Object.is(s,e))switch(super.$propertyChangedCallback(t,e,s),t){case"x":case"y":case"width":case"height":this.$changing||this.$nextTick(()=&gt;{this.$change(this.x,this.y,this.width,this.height,this.aspectRatio,!0)});break;case"aspectRatio":case"initialAspectRatio":this.$nextTick(()=&gt;{this.$initSelection()});break;case"initialCoverage":this.$nextTick(()=&gt;{I(s)&amp;&amp;s&lt;=1&amp;&amp;this.$initSelection(!0,!0)});break;case"keyboard":this.$nextTick(()=&gt;{this.$canvas&amp;&amp;(s?this.$onDocumentKeyDown||(this.$onDocumentKeyDown=this.$handleKeyDown.bind(this),x(this.ownerDocument,Wt,this.$onDocumentKeyDown)):this.$onDocumentKeyDown&amp;&amp;(k(this.ownerDocument,Wt,this.$onDocumentKeyDown),this.$onDocumentKeyDown=null))});break;case"multiple":this.$nextTick(()=&gt;{if(this.$canvas){const i=this.$getSelections();s?(i.forEach(n=&gt;{n.active=!1}),this.active=!0,this.$emit(H,{x:this.x,y:this.y,width:this.width,height:this.height})):(this.active=!1,i.slice(1).forEach(n=&gt;{this.$removeSelection(n)}))}});break;case"precise":this.$nextTick(()=&gt;{this.$change(this.x,this.y)});break;case"linked":s&amp;&amp;(this.dynamic=!0);break}}connectedCallback(){super.connectedCallback();const t=this.closest(this.$getTagNameOf(F));t?(this.$canvas=t,this.$setStyles({position:"absolute",transform:`translate(${this.x}px, ${this.y}px)`}),this.hidden||this.$render(),this.$initSelection(!0),this.$onCanvasActionStart=this.$handleActionStart.bind(this),this.$onCanvasActionEnd=this.$handleActionEnd.bind(this),this.$onCanvasAction=this.$handleAction.bind(this),x(t,B,this.$onCanvasActionStart),x(t,U,this.$onCanvasActionEnd),x(t,G,this.$onCanvasAction)):this.$render()}disconnectedCallback(){const{$canvas:t}=this;t&amp;&amp;(this.$onCanvasActionStart&amp;&amp;(k(t,B,this.$onCanvasActionStart),this.$onCanvasActionStart=null),this.$onCanvasActionEnd&amp;&amp;(k(t,U,this.$onCanvasActionEnd),this.$onCanvasActionEnd=null),this.$onCanvasAction&amp;&amp;(k(t,G,this.$onCanvasAction),this.$onCanvasAction=null)),super.disconnectedCallback()}$getSelections(){let t=[];return this.parentElement&amp;&amp;(t=Array.from(this.parentElement.querySelectorAll(this.$getTagNameOf(M)))),t}$initSelection(t=!1,e=!1){const{initialCoverage:s,parentElement:i}=this;if(I(s)&amp;&amp;i){const n=this.aspectRatio||this.initialAspectRatio;let c=(e?0:this.width)||i.offsetWidth*s,a=(e?0:this.height)||i.offsetHeight*s;I(n)&amp;&amp;({width:c,height:a}=ot({aspectRatio:n,width:c,height:a})),this.$change(this.x,this.y,c,a),t&amp;&amp;this.$center(),this.$initialSelection={x:this.x,y:this.y,width:this.width,height:this.height}}}$createSelection(){const t=this.cloneNode(!0);return this.hasAttribute("id")&amp;&amp;t.removeAttribute("id"),t.initialCoverage=NaN,this.active=!1,this.parentElement&amp;&amp;this.parentElement.insertBefore(t,this.nextSibling),t}$removeSelection(t=this){if(this.parentElement){const e=this.$getSelections();if(e.length&gt;1){const s=e.indexOf(t),i=e[s+1]||e[s-1];i&amp;&amp;(t.active=!1,this.parentElement.removeChild(t),i.active=!0,i.$emit(H,{x:i.x,y:i.y,width:i.width,height:i.height}))}else this.$clear()}}$handleActionStart(t){var e,s;const i=(s=(e=t.detail)===null||e===void 0?void 0:e.relatedEvent)===null||s===void 0?void 0:s.target;this.$action="",this.$actionStartTarget=i,!this.hidden&amp;&amp;this.multiple&amp;&amp;!this.active&amp;&amp;i===this&amp;&amp;this.parentElement&amp;&amp;(this.$getSelections().forEach(n=&gt;{n.active=!1}),this.active=!0,this.$emit(H,{x:this.x,y:this.y,width:this.width,height:this.height}))}$handleAction(t){const{currentTarget:e,detail:s}=t;if(!e||!s)return;const{relatedEvent:i}=s;let{action:n}=s;if(!n&amp;&amp;this.multiple&amp;&amp;(n=this.$action||(i==null?void 0:i.target.action),this.$action=n),!n||this.hidden&amp;&amp;n!==rt||this.multiple&amp;&amp;!this.active&amp;&amp;n!==Z)return;const c=s.endX-s.startX,a=s.endY-s.startY,{width:h,height:r}=this;let{aspectRatio:o}=this;switch(!I(o)&amp;&amp;i.shiftKey&amp;&amp;(o=I(h)&amp;&amp;I(r)?h/r:1),n){case rt:if(c!==0&amp;&amp;a!==0){const{$canvas:p}=this,u=Bt(e);(this.multiple&amp;&amp;!this.hidden?this.$createSelection():this).$change(s.startX-u.left,s.startY-u.top,Math.abs(c),Math.abs(a),o),c&lt;0?a&lt;0?n=Q:a&gt;0&amp;&amp;(n=et):c&gt;0&amp;&amp;(a&lt;0?n=J:a&gt;0&amp;&amp;(n=tt)),p&amp;&amp;(p.$action=n)}break;case ae:this.movable&amp;&amp;(this.dynamic||this.$actionStartTarget&amp;&amp;this.contains(this.$actionStartTarget))&amp;&amp;this.$move(c,a);break;case Z:if(i&amp;&amp;this.zoomable&amp;&amp;(this.dynamic||this.contains(i.target))){const p=Bt(e);this.$zoom(s.scale,i.pageX-p.left,i.pageY-p.top)}break;default:this.$resize(n,c,a,o)}}$handleActionEnd(){this.$action="",this.$actionStartTarget=null}$handleKeyDown(t){if(this.hidden||!this.keyboard||this.multiple&amp;&amp;!this.active||t.defaultPrevented)return;const{activeElement:e}=document;if(!(e&amp;&amp;(["INPUT","TEXTAREA"].includes(e.tagName)||["true","plaintext-only"].includes(e.contentEditable))))switch(t.key){case"Backspace":t.metaKey&amp;&amp;(t.preventDefault(),this.$removeSelection());break;case"Delete":t.preventDefault(),this.$removeSelection();break;case"ArrowLeft":t.preventDefault(),this.$move(-1,0);break;case"ArrowRight":t.preventDefault(),this.$move(1,0);break;case"ArrowUp":t.preventDefault(),this.$move(0,-1);break;case"ArrowDown":t.preventDefault(),this.$move(0,1);break;case"+":t.preventDefault(),this.$zoom(.1);break;case"-":t.preventDefault(),this.$zoom(-.1);break}}$center(){const{parentElement:t}=this;if(!t)return this;const e=(t.offsetWidth-this.width)/2,s=(t.offsetHeight-this.height)/2;return this.$change(e,s)}$move(t,e=t){return this.$moveTo(this.x+t,this.y+e)}$moveTo(t,e=t){return this.movable?this.$change(t,e):this}$resize(t,e=0,s=0,i=this.aspectRatio){if(!this.resizable)return this;const n=I(i),{$canvas:c}=this;let{x:a,y:h,width:r,height:o}=this;switch(t){case _t:h+=s,o-=s,o&lt;0&amp;&amp;(t=Rt,o=-o,h-=o),n&amp;&amp;(e=s*i,a+=e/2,r-=e,r&lt;0&amp;&amp;(r=-r,a-=r));break;case Nt:r+=e,r&lt;0&amp;&amp;(t=It,r=-r,a-=r),n&amp;&amp;(s=e/i,h-=s/2,o+=s,o&lt;0&amp;&amp;(o=-o,h-=o));break;case Rt:o+=s,o&lt;0&amp;&amp;(t=_t,o=-o,h-=o),n&amp;&amp;(e=s*i,a-=e/2,r+=e,r&lt;0&amp;&amp;(r=-r,a-=r));break;case It:a+=e,r-=e,r&lt;0&amp;&amp;(t=Nt,r=-r,a-=r),n&amp;&amp;(s=e/i,h+=s/2,o-=s,o&lt;0&amp;&amp;(o=-o,h-=o));break;case J:n&amp;&amp;(s=-e/i),h+=s,o-=s,r+=e,r&lt;0&amp;&amp;o&lt;0?(t=et,r=-r,o=-o,a-=r,h-=o):r&lt;0?(t=Q,r=-r,a-=r):o&lt;0&amp;&amp;(t=tt,o=-o,h-=o);break;case Q:n&amp;&amp;(s=e/i),a+=e,h+=s,r-=e,o-=s,r&lt;0&amp;&amp;o&lt;0?(t=tt,r=-r,o=-o,a-=r,h-=o):r&lt;0?(t=J,r=-r,a-=r):o&lt;0&amp;&amp;(t=et,o=-o,h-=o);break;case tt:n&amp;&amp;(s=e/i),r+=e,o+=s,r&lt;0&amp;&amp;o&lt;0?(t=Q,r=-r,o=-o,a-=r,h-=o):r&lt;0?(t=et,r=-r,a-=r):o&lt;0&amp;&amp;(t=J,o=-o,h-=o);break;case et:n&amp;&amp;(s=-e/i),a+=e,r-=e,o+=s,r&lt;0&amp;&amp;o&lt;0?(t=J,r=-r,o=-o,a-=r,h-=o):r&lt;0?(t=tt,r=-r,a-=r):o&lt;0&amp;&amp;(t=Q,o=-o,h-=o);break}return c&amp;&amp;c.$setAction(t),this.$change(a,h,r,o)}$zoom(t,e,s){if(!this.zoomable||t===0)return this;t&lt;0?t=1/(1-t):t+=1;const{width:i,height:n}=this,c=i*t,a=n*t;let h=this.x,r=this.y;return g(e)&amp;&amp;g(s)?(h-=(c-i)*((e-this.x)/i),r-=(a-n)*((s-this.y)/n)):(h-=(c-i)/2,r-=(a-n)/2),this.$change(h,r,c,a)}$change(t,e,s=this.width,i=this.height,n=this.aspectRatio,c=!1){return this.$changing||!g(t)||!g(e)||!g(s)||!g(i)||s&lt;0||i&lt;0?this:(I(n)&amp;&amp;({width:s,height:i}=ot({aspectRatio:n,width:s,height:i},"cover")),this.precise||(t=Math.round(t),e=Math.round(e),s=Math.round(s),i=Math.round(i)),t===this.x&amp;&amp;e===this.y&amp;&amp;s===this.width&amp;&amp;i===this.height&amp;&amp;Object.is(n,this.aspectRatio)&amp;&amp;!c?this:(this.hidden&amp;&amp;(this.hidden=!1),this.$emit(H,{x:t,y:e,width:s,height:i})===!1?this:(this.$changing=!0,this.x=t,this.y=e,this.width=s,this.height=i,this.$changing=!1,this.$render())))}$reset(){const{x:t,y:e,width:s,height:i}=this.$initialSelection;return this.$change(t,e,s,i)}$clear(){return this.$change(0,0,0,0,NaN,!0),this.hidden=!0,this}$render(){return this.$setStyles({transform:`translate(${this.x}px, ${this.y}px)`,width:this.width,height:this.height})}$toCanvas(t){return new Promise((e,s)=&gt;{if(!this.isConnected){s(new Error("The current element is not connected to the DOM."));return}const i=document.createElement("canvas");let{width:n,height:c}=this,a=1;if(ht(t)&amp;&amp;(I(t.width)||I(t.height))&amp;&amp;({width:n,height:c}=ot({aspectRatio:n/c,width:t.width,height:t.height}),a=n/this.width),i.width=n,i.height=c,!this.$canvas){e(i);return}const h=this.$canvas.querySelector(this.$getTagNameOf(K));if(!h){e(i);return}h.$ready().then(r=&gt;{const o=i.getContext("2d");if(o){const[p,u,m,$,O,T]=h.$getTransform(),C=-this.x,w=-this.y,E=(C*$-m*w)/(p*$-m*u),y=(w*p-u*C)/(p*$-m*u);let d=p*E+m*y+O,f=u*E+$*y+T,v=r.naturalWidth,A=r.naturalHeight;a!==1&amp;&amp;(d*=a,f*=a,v*=a,A*=a);const N=v/2,R=A/2;o.fillStyle="transparent",o.fillRect(0,0,n,c),ht(t)&amp;&amp;bt(t.beforeDraw)&amp;&amp;t.beforeDraw.call(this,o,i),o.save(),o.translate(N,R),o.transform(p,u,m,$,d,f),o.translate(-N,-R),o.drawImage(r,0,0,v,A),o.restore()}e(i)}).catch(s)})}}wt.$name=M;wt.$version="2.0.0";var Ve=":host{display:flex;flex-direction:column;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host([bordered]){border:1px dashed var(--theme-color)}:host([covered]){bottom:0;left:0;position:absolute;right:0;top:0}:host&gt;span{display:flex;flex:1}:host&gt;span+span{border-top:1px dashed var(--theme-color)}:host&gt;span&gt;span{flex:1}:host&gt;span&gt;span+span{border-left:1px dashed var(--theme-color)}";class St extends D{constructor(){super(...arguments),this.$style=Ve,this.bordered=!1,this.columns=3,this.covered=!1,this.rows=3,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["bordered","columns","covered","rows"])}$propertyChangedCallback(t,e,s){Object.is(s,e)||(super.$propertyChangedCallback(t,e,s),(t==="rows"||t==="columns")&amp;&amp;this.$nextTick(()=&gt;{this.$render()}))}connectedCallback(){super.connectedCallback(),this.$render()}$render(){const t=this.$getShadowRoot(),e=document.createDocumentFragment();for(let s=0;s&lt;this.rows;s+=1){const i=document.createElement("span");i.setAttribute("role","row");for(let n=0;n&lt;this.columns;n+=1){const c=document.createElement("span");c.setAttribute("role","gridcell"),i.appendChild(c)}e.appendChild(i)}t&amp;&amp;(t.innerHTML="",t.appendChild(e))}}St.$name=Te;St.$version="2.0.0";var Je=':host{display:inline-block;height:1em;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;width:1em}:host:after,:host:before{background-color:var(--theme-color);content:"";display:block;position:absolute}:host:before{height:1px;left:0;top:50%;transform:translateY(-50%);width:100%}:host:after{height:100%;left:50%;top:0;transform:translateX(-50%);width:1px}:host([centered]){left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}';class At extends D{constructor(){super(...arguments),this.$style=Je,this.centered=!1,this.slottable=!1,this.themeColor="rgba(238, 238, 238, 0.5)"}static get observedAttributes(){return super.observedAttributes.concat(["centered"])}}At.$name=Ae;At.$version="2.0.0";var Qe=":host{display:block;height:100%;overflow:hidden;position:relative;width:100%}";const Qt=new WeakMap,te=new WeakMap,ee=new WeakMap,se=new WeakMap,ts="both",es="horizontal",ie="vertical",ss="none";class Tt extends D{constructor(){super(...arguments),this.$onSelectionChange=null,this.$onSourceImageLoad=null,this.$onSourceImageTransform=null,this.$scale=1,this.$style=Qe,this.resize=ie,this.selection="",this.slottable=!1}set $image(t){te.set(this,t)}get $image(){return te.get(this)}set $sourceImage(t){se.set(this,t)}get $sourceImage(){return se.get(this)}set $canvas(t){Qt.set(this,t)}get $canvas(){return Qt.get(this)}set $selection(t){ee.set(this,t)}get $selection(){return ee.get(this)}static get observedAttributes(){return super.observedAttributes.concat(["resize","selection"])}connectedCallback(){super.connectedCallback();let t=null;if(this.selection?t=this.ownerDocument.querySelector(this.selection):t=this.closest(this.$getTagNameOf(M)),st(t)){this.$selection=t,this.$onSelectionChange=this.$handleSelectionChange.bind(this),x(t,H,this.$onSelectionChange);const e=t.closest(this.$getTagNameOf(F));if(e){this.$canvas=e;const s=e.querySelector(this.$getTagNameOf(K));s&amp;&amp;(this.$sourceImage=s,this.$image=s.cloneNode(!0),this.$getShadowRoot().appendChild(this.$image),this.$onSourceImageLoad=this.$handleSourceImageLoad.bind(this),this.$onSourceImageTransform=this.$handleSourceImageTransform.bind(this),x(s.$image,q,this.$onSourceImageLoad),x(s,$t,this.$onSourceImageTransform))}this.$render()}}disconnectedCallback(){const{$selection:t,$sourceImage:e}=this;t&amp;&amp;this.$onSelectionChange&amp;&amp;(k(t,H,this.$onSelectionChange),this.$onSelectionChange=null),e&amp;&amp;this.$onSourceImageLoad&amp;&amp;(k(e.$image,q,this.$onSourceImageLoad),this.$onSourceImageLoad=null),e&amp;&amp;this.$onSourceImageTransform&amp;&amp;(k(e,$t,this.$onSourceImageTransform),this.$onSourceImageTransform=null),super.disconnectedCallback()}$handleSelectionChange(t){this.$render(t.detail)}$handleSourceImageLoad(){const{$image:t,$sourceImage:e}=this,s=t.getAttribute("src"),i=e.getAttribute("src");i&amp;&amp;i!==s&amp;&amp;(t.setAttribute("src",i),t.$ready(()=&gt;{setTimeout(()=&gt;{this.$render()},50)}))}$handleSourceImageTransform(t){this.$render(void 0,t.detail.matrix)}$render(t,e){const{$canvas:s,$selection:i}=this;!t&amp;&amp;!i.hidden&amp;&amp;(t=i),(!t||t.x===0&amp;&amp;t.y===0&amp;&amp;t.width===0&amp;&amp;t.height===0)&amp;&amp;(t={x:0,y:0,width:s.offsetWidth,height:s.offsetHeight});const{x:n,y:c,width:a,height:h}=t,r={},{clientWidth:o,clientHeight:p}=this;let u=o,m=p,$=NaN;switch(this.resize){case ts:$=1,u=a,m=h,r.width=a,r.height=h;break;case es:$=h&gt;0?p/h:0,u=a*$,r.width=u;break;case ie:$=a&gt;0?o/a:0,m=h*$,r.height=m;break;case ss:default:o&gt;0?$=a&gt;0?o/a:0:p&gt;0&amp;&amp;($=h&gt;0?p/h:0)}this.$scale=$,this.$setStyles(r),this.$sourceImage&amp;&amp;this.$transformImageByOffset(e!=null?e:this.$sourceImage.$getTransform(),-n,-c)}$transformImageByOffset(t,e,s){const{$image:i,$scale:n,$sourceImage:c}=this;if(c&amp;&amp;i&amp;&amp;n&gt;=0){const[a,h,r,o,p,u]=t,m=(e*o-r*s)/(a*o-r*h),$=(s*a-h*e)/(a*o-r*h),O=a*m+r*$+p,T=h*m+o*$+u;i.$ready(C=&gt;{this.$setStyles.call(i,{width:C.naturalWidth*n,height:C.naturalHeight*n})}),i.$setTransform(a,h,r,o,O*n,T*n)}}}Tt.$name=Oe;Tt.$version="2.0.0";/*! Cropper.js v2.0.0 | (c) 2015-present Chen Fengyuan | MIT */var is='&lt;cropper-canvas background&gt;&lt;cropper-image rotatable scalable skewable translatable&gt;&lt;/cropper-image&gt;&lt;cropper-shade hidden&gt;&lt;/cropper-shade&gt;&lt;cropper-handle action="select" plain&gt;&lt;/cropper-handle&gt;&lt;cropper-selection initial-coverage="0.5" movable resizable&gt;&lt;cropper-grid role="grid" bordered covered&gt;&lt;/cropper-grid&gt;&lt;cropper-crosshair centered&gt;&lt;/cropper-crosshair&gt;&lt;cropper-handle action="move" theme-color="rgba(255, 255, 255, 0.35)"&gt;&lt;/cropper-handle&gt;&lt;cropper-handle action="n-resize"&gt;&lt;/cropper-handle&gt;&lt;cropper-handle action="e-resize"&gt;&lt;/cropper-handle&gt;&lt;cropper-handle action="s-resize"&gt;&lt;/cropper-handle&gt;&lt;cropper-handle action="w-resize"&gt;&lt;/cropper-handle&gt;&lt;cropper-handle action="ne-resize"&gt;&lt;/cropper-handle&gt;&lt;cropper-handle action="nw-resize"&gt;&lt;/cropper-handle&gt;&lt;cropper-handle action="se-resize"&gt;&lt;/cropper-handle&gt;&lt;cropper-handle action="sw-resize"&gt;&lt;/cropper-handle&gt;&lt;/cropper-selection&gt;&lt;/cropper-canvas&gt;';const ns=/^img|canvas$/,as=/&lt;(\/?(?:script|style)[^&gt;]*)&gt;/gi,ne={template:is};vt.$define();At.$define();St.$define();yt.$define();Ct.$define();wt.$define();Et.$define();Tt.$define();class le{constructor(t,e){if(this.options=ne,at(t)&amp;&amp;(t=document.querySelector(t)),!st(t)||!ns.test(t.localName))throw new Error("The first argument is required and must be an &lt;img&gt; or &lt;canvas&gt; element.");this.element=t,e=Object.assign(Object.assign({},ne),e),this.options=e;const{ownerDocument:s}=t;let{container:i}=e;if(i&amp;&amp;(at(i)&amp;&amp;(i=s.querySelector(i)),!st(i)))throw new Error("The `container` option must be an element or a valid selector.");st(i)||(t.parentElement?i=t.parentElement:i=s.body),this.container=i;const n=t.localName;let c="";n==="img"?{src:c}=t:n==="canvas"&amp;&amp;window.HTMLCanvasElement&amp;&amp;(c=t.toDataURL());const{template:a}=e;if(a&amp;&amp;at(a)){const h=document.createElement("template"),r=document.createDocumentFragment();h.innerHTML=a.replace(as,"&amp;lt;$1&amp;gt;"),r.appendChild(h.content),Array.from(r.querySelectorAll(K)).forEach(o=&gt;{o.setAttribute("src",c),o.setAttribute("alt",t.alt||"The image to crop")}),t.parentElement?(t.style.display="none",i.insertBefore(r,t.nextSibling)):i.appendChild(r)}}getCropperCanvas(){return this.container.querySelector(F)}getCropperImage(){return this.container.querySelector(K)}getCropperSelection(){return this.container.querySelector(M)}getCropperSelections(){return this.container.querySelectorAll(M)}}le.version="2.0.0";const os=["src"],rs={key:0,class:"mt-10px flex items-center"},cs={class:"flex items-center"},hs={class:"flex items-center justify-end flex-1"},ls={key:0,class:"ml-20px"},ds={class:"flex justify-center items-center"},us=["src"],fs={class:"flex justify-center items-center"},ps=["src"],$s=["src"],gs=["src"],ms=["src"],As=de({__name:"ImageCropping",props:{imageUrl:{type:String,default:"",required:!0},cropBoxWidth:{type:Number,default:200},cropBoxHeight:{type:Number,default:200},boxWidth:{type:[Number,String],default:425},boxHeight:{type:[Number,String],default:320},showResult:{type:Boolean,default:!0},showActions:{type:Boolean,default:!0}},setup(l,{expose:t}){const{getPrefixCls:e}=Ce(),s=e("image-cropping"),i=l,n=Ee(()=&gt;{var d,f,v;o.value=(v=(f=(d=b(u))==null?void 0:d.getCroppedCanvas())==null?void 0:f.toDataURL())!=null?v:""},80),c=()=&gt;{var f,v,A,N,R;const d=(f=b(u))==null?void 0:f.getContainerData();(v=b(u))==null||v.setCropBoxData({width:i.cropBoxWidth,height:i.cropBoxHeight,left:((d==null?void 0:d.width)||0)/2-100,top:((d==null?void 0:d.height)||0)/2-100}),o.value=(R=(N=(A=b(u))==null?void 0:A.getCroppedCanvas())==null?void 0:N.toDataURL())!=null?R:""},a=xt(()=&gt;({width:`${i.boxWidth}px`,height:`${i.boxHeight}px`})),h=xt(()=&gt;({width:`${i.cropBoxWidth}px`,height:`${i.cropBoxHeight}px`})),r=d=&gt;({width:i.cropBoxWidth*d+"px",height:i.cropBoxHeight*d+"px"}),o=V(""),p=V(),u=V(),m=()=&gt;{if(!b(p))return;const d=b(p);u.value=new le(d,{aspectRatio:1,viewMode:1,dragMode:"move",toggleDragModeOnDblclick:!1,checkCrossOrigin:!1,ready(){c()},cropmove(){n()},zoom(){n()},crop(){n()}})},$=d=&gt;{var v,A;if(((v=d==null?void 0:d.raw)==null?void 0:v.type.indexOf("image"))===-1){Se.error("请上传图片格式的文件");return}if(!d.raw)return;const f=URL.createObjectURL(d.raw);(A=b(u))==null||A.replace(f)},O=()=&gt;{var d;(d=b(u))==null||d.reset()},T=d=&gt;{var f;(f=b(u))==null||f.rotate(d)},C=V(1),w=V(1),E=d=&gt;{var f,v;d==="scaleX"?(C.value=C.value===1?-1:1,(f=b(u))==null||f[d](b(C))):(w.value=w.value===1?-1:1,(v=b(u))==null||v[d](b(w)))},y=d=&gt;{var f;(f=b(u))==null||f.zoom(d)};return ue(()=&gt;{m()}),fe(()=&gt;i.imageUrl,d=&gt;kt(null,null,function*(){var f;d&amp;&amp;((f=b(u))==null||f.replace(d),yield ve(),c())})),pe(()=&gt;{var d;(d=b(u))==null||d.destroy()}),t({cropperExpose:u}),(d,f)=&gt;{const v=be("Icon");return ut(),dt("div",{class:$e({[b(s)]:!0,"flex items-center":l.showResult})},[z("div",null,[z("div",{style:j(a.value),class:"flex justify-center items-center"},[ge(z("img",{ref_key:"imgRef",ref:p,src:l.imageUrl,class:"block max-w-full",crossorigin:"anonymous",alt:"",srcset:""},null,8,os),[[me,l.imageUrl]])],4),l.showActions?(ut(),dt("div",rs,[z("div",cs,[S(b(L),{content:"选择文件",placement:"bottom"},{default:_(()=&gt;[S(b(ye),{action:"''",accept:"image/*","auto-upload":!1,"show-file-list":!1,"on-change":$},{default:_(()=&gt;[S(b(W),{size:"small",type:"primary",class:"mt-2px"},{default:_(()=&gt;[S(v,{icon:"vi-ep:upload-filled"})]),_:1})]),_:1})]),_:1})]),z("div",hs,[S(b(L),{content:"重置",placement:"bottom"},{default:_(()=&gt;[S(b(W),{size:"small",type:"primary",onClick:O},{default:_(()=&gt;[S(v,{icon:"vi-ep:refresh"})]),_:1})]),_:1}),S(b(L),{content:"逆时针旋转",placement:"bottom"},{default:_(()=&gt;[S(b(W),{size:"small",type:"p</span></span>rimary",onClick:f[0]||(f[0]=A=&gt;T(-45))},{default:_(()=&gt;[S(v,{icon:"vi-ant-design:rotate-left-outlined"})]),_:1})]),_:1}),S(b(L),{content:"顺时针旋转",placement:"bottom"},{default:_(()=&gt;[S(b(W),{size:"small",type:"primary",onClick:f[1]||(f[1]=A=&gt;T(45))},{default:_(()=&gt;[S(v,{icon:"vi-ant-design:rotate-right-outlined"})]),_:1})]),_:1}),S(b(L),{content:"水平翻转",placement:"bottom"},{default:_(()=&gt;[S(b(W),{size:"small",type:"primary",onClick:f[2]||(f[2]=A=&gt;E("scaleX"))},{default:_(()=&gt;[S(v,{icon:"vi-vaadin:arrows-long-h"})]),_:1})]),_:1}),S(b(L),{content:"垂直翻转",placement:"bottom"},{default:_(()=&gt;[S(b(W),{size:"small",type:"primary",onClick:f[3]||(f[3]=A=&gt;E("scaleY"))},{default:_(()=&gt;[S(v,{icon:"vi-vaadin:arrows-long-v"})]),_:1})]),_:1}),S(b(L),{content:"放大",placement:"bottom"},{default:_(()=&gt;[S(b(W),{size:"small",type:"primary",onClick:f[4]||(f[4]=A=&gt;y(.1))},{default:_(()=&gt;[S(v,{icon:"vi-ant-design:zoom-in-outlined"})]),_:1})]),_:1}),S(b(L),{content:"缩小",placement:"bottom"},{default:_(()=&gt;[S(b(W),{size:"small",type:"primary",onClick:f[5]||(f[5]=A=&gt;y(-.1))},{default:_(()=&gt;[S(v,{icon:"vi-ant-design:zoom-out-outlined"})]),_:1})]),_:1})])])):Ot("",!0)]),o.value&amp;&amp;l.showResult?(ut(),dt("div",ls,[z("div",ds,[z("img",{src:o.value,class:"rounded-[50%]",style:j(h.value)},null,12,us)]),S(b(we)),z("div",fs,[z("img",{src:o.value,class:"rounded-[50%]",style:j(r(.2))},null,12,ps),z("img",{src:o.value,class:"rounded-[50%] ml-20px",style:j(r(.25))},null,12,$s),z("img",{src:o.value,class:"rounded-[50%] ml-20px",style:j(r(.3))},null,12,gs),z("img",{src:o.value,class:"rounded-[50%] ml-20px",style:j(r(.35))},null,12,ms)])])):Ot("",!0)],2)}}});export{As as _};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-08-25T04:37:24.182Z
            </div>
        <script src="../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../sorter.js"></script>
        <script src="../../../block-navigation.js"></script>
    </body>
</html>
    