
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for admin-vue/dist-pro/assets/Write.vue_vue_type_script_setup_true_lang-DaGX0R_l.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../index.html">All files</a> / <a href="index.html">admin-vue/dist-pro/assets</a> Write.vue_vue_type_script_setup_true_lang-DaGX0R_l.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >var N=Object.defineProperty;var E=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var k=(i,s,a)=&gt;s in i?N(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,V=(i,s)=&gt;{for(var a in s||(s={}))M.call(s,a)&amp;&amp;k(i,a,s[a]);if(E)for(var a of E(s))O.call(s,a)&amp;&amp;k(i,a,s[a]);return i};var u=(i,s,a)=&gt;new Promise((d,b)=&gt;{var g=m=&gt;{try{f(a.next(m))}catch(n){b(n)}},C=m=&gt;{try{f(a.throw(m))}catch(n){b(n)}},f=m=&gt;m.done?d(m.value):Promise.resolve(m.value).then(g,C);f((a=a.apply(i,s)).next())});import{F as U}from"./Form-B_DENmkD.js";import{u as $}from"./useForm-CCE0J8jW.js";import{u as j}from"./useValidator-Bqj8vU0a.js";import{a as q,h as G}from"./index-BEu9Qr3B.js";import{g as K}from"./index-BNJT7Mkr.js";/* empty css                  */import"./IconPicker-DJ34ljX_.js";/* empty css                        *//* empty css                    *//* empty css               */import{_ as W}from"./AddButtonPermission.vue_vue_type_script_setup_true_lang-CQGxW4pS.js";import{aa as H,ab as v,F as L,r as J,d as x,ag as Q,c as X}from"./element-plus-BmofUjmf.js";import{x as Y,r as I,l as _,V as t,u as y,I as P,a5 as w,w as Z,y as ee,z as ae}from"./vue-chunks-Cb_T6hIW.js";const he=Y({__name:"Write",props:{currentRow:{type:Object,default:()=&gt;null}},setup(i,{expose:s}){const{t:a}=q(),{required:d}=j(),b=i,g=l=&gt;u(null,null,function*(){var o;const e=yield c();p({permissionList:(o=e==null?void 0:e.permissionList)==null?void 0:o.filter(S=&gt;S.value!==l.value)})}),C=l=&gt;u(null,null,function*(){n.value=V({},l)}),f=()=&gt;u(null,null,function*(){var o;const l=yield c(),e=(o=l==null?void 0:l.permissionList)==null?void 0:o.findIndex(S=&gt;S.id===n.value.id);e!==-1&amp;&amp;(l.permissionList[e]=V({},n.value),n.value=null)}),m=I(!1),n=I(null),F=_([{field:"type",label:"菜单类型",component:"RadioButton",value:0,colProps:{span:24},componentProps:{options:[{label:"目录",value:0},{label:"菜单",value:1}],on:{change:l=&gt;u(null,null,function*(){const e=yield c();l===1?(r([{field:"component",path:"componentProps.disabled",value:!1}]),p({component:y(h)})):(r([{field:"component",path:"componentProps.disabled",value:!0}]),e.parentId===void 0?p({component:"#"}):p({component:"##"}))})}}},{field:"parentId",label:"父级菜单",component:"TreeSelect",componentProps:{nodeKey:"id",props:{label:"title",value:"id",children:"children"},highlightCurrent:!0,expandOnClickNode:!1,checkStrictly:!0,checkOnClickNode:!0,clearable:!0,on:{change:l=&gt;u(null,null,function*(){var o;const e=yield c();l&amp;&amp;e.type===0?p({component:"##"}):!l&amp;&amp;e.type===0?p({component:"#"}):e.type===1&amp;&amp;p({component:(o=y(h))!=null?o:""})})}},optionApi:()=&gt;u(null,null,function*(){return(yield K()).data.list||[]})},{field:"meta.title",label:a("menu.menuName"),component:"Input"},{field:"component",label:"组件",component:"Input",value:"#",componentProps:{disabled:!0,placeholder:"#为顶级目录，##为子目录",on:{change:l=&gt;{h.value=l}}}},{field:"name",label:a("menu.name"),component:"Input"},{field:"meta.icon",label:a("menu.icon"),component:"Input"},{field:"path",label:a("menu.path"),component:"Input"},{field:"meta.activeMenu",label:a("menu.activeMenu"),component:"Input"},{field:"status",label:a("menu.status"),component:"Select",componentProps:{options:[{label:a("userDemo.disable"),value:0},{label:a("userDemo.enable"),value:1}]}},{field:"permissionList",label:a("menu.permission"),component:"CheckboxGroup",colProps:{span:24},formItemProps:{slots:{default:l=&gt;t(P,null,[t(G,{class:"m-t-5px",type:"primary",size:"small",onClick:()=&gt;m.value=!0},{default:()=&gt;[w("添加权限")]}),t(H,{data:l==null?void 0:l.permissionList},{default:()=&gt;[t(v,{type:"index",prop:"id"},null),t(v,{prop:"value",label:"Value"},{default:({row:e})=&gt;n.value&amp;&amp;n.value.id===e.id?t(L,{modelValue:n.value.value,"onUpdate:modelValue":o=&gt;n.value.value=o,size:"small"},null):t("span",null,[e.value])}),t(v,{prop:"label",label:"Label"},{default:({row:e})=&gt;n.value&amp;&amp;n.value.id===e.id?t(L,{modelValue:n.value.label,"onUpdate:modelValue":o=&gt;n.value.label=o,size:"small"},null):t(J,{class:"mr-1",key:e.value},{default:()=&gt;[e.label]})}),t(v,{label:"Operations",width:"180"},{default:({row:e})=&gt;n.value&amp;&amp;n.value.id===e.id?t(x,{size:"small",type:"primary",onClick:f},{default:()=&gt;[w("确定")]}):t(P,null,[t(x,{size:"small",type:"primary",onClick:()=&gt;C(e)},{default:()=&gt;[w("编辑")]}),t(Q,{title:"Are you sure to delete this?",onConfirm:()=&gt;g(e)},{reference:()=&gt;t(x,{size:"small",type:"danger"},{default:()=&gt;[w("删除")]})})])})]})])}}},{field:"meta.hidden",label:a("menu.hidden"),component:"Switch"},{fi</span></span>eld:"meta.alwaysShow",label:a("menu.alwaysShow"),component:"Switch"},{field:"meta.noCache",label:a("menu.noCache"),component:"Switch"},{field:"meta.breadcrumb",label:a("menu.breadcrumb"),component:"Switch"},{field:"meta.affix",label:a("menu.affix"),component:"Switch"},{field:"meta.noTagsView",label:a("menu.noTagsView"),component:"Switch"},{field:"meta.canTo",label:a("menu.canTo"),component:"Switch"}]),T=_({component:[d()],path:[d()],"meta.title":[d()]}),{formRegister:R,formMethods:z}=$(),{setValues:p,getFormData:c,getElFormExpose:D,setSchema:r}=z,B=()=&gt;u(null,null,function*(){const l=yield D();if(yield l==null?void 0:l.validate().catch(o=&gt;{}))return yield c()}),h=I("");Z(()=&gt;b.currentRow,l=&gt;{if(!l)return;const e=X(l);h.value=e.type===1?e.component:"",e.parentId===0?r([{field:"component",path:"componentProps.disabled",value:!0}]):r([{field:"component",path:"componentProps.disabled",value:!1}]),e.type===1?r([{field:"component",path:"componentProps.disabled",value:!1}]):r([{field:"component",path:"componentProps.disabled",value:!0}]),p(e)},{deep:!0,immediate:!0}),s({submit:B});const A=l=&gt;u(null,null,function*(){const e=yield c();p({permissionList:[...(e==null?void 0:e.permissionList)||[],l]})});return(l,e)=&gt;(ae(),ee(P,null,[t(y(U),{rules:T,onRegister:y(R),schema:F},null,8,["rules","onRegister","schema"]),t(W,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=o=&gt;m.value=o),onConfirm:A},null,8,["modelValue"])],64))}});export{he as _};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-08-25T04:37:24.182Z
            </div>
        <script src="../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../sorter.js"></script>
        <script src="../../../block-navigation.js"></script>
    </body>
</html>
    