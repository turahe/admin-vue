
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for admin-vue/dist-pro/assets/index-Bz5REIPY.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../index.html">All files</a> / <a href="index.html">admin-vue/dist-pro/assets</a> index-Bz5REIPY.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/225</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/225</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >var ln=Object.defineProperty,cn=Object.defineProperties;var fn=Object.getOwnPropertyDescriptors;var Vt=Object.getOwnPropertySymbols;var hn=Object.prototype.hasOwnProperty,dn=Object.prototype.propertyIsEnumerable;var jt=(o,a,r)=&gt;a in o?ln(o,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[a]=r,Wt=(o,a)=&gt;{for(var r in a||(a={}))hn.call(a,r)&amp;&amp;jt(o,r,a[r]);if(Vt)for(var r of Vt(a))dn.call(a,r)&amp;&amp;jt(o,r,a[r]);return o},Gt=(o,a)=&gt;cn(o,fn(a));var it=(o,a,r)=&gt;new Promise((t,e)=&gt;{var i=u=&gt;{try{s(r.next(u))}catch(l){e(l)}},n=u=&gt;{try{s(r.throw(u))}catch(l){e(l)}},s=u=&gt;u.done?t(u.value):Promise.resolve(u.value).then(i,n);s((r=r.apply(o,a)).next())});import{x as Si,r as _t,j as gn,w as pn,R as vn,u as de,y as mn,z as wi,n as xi,S as yn,T as _n,K as Cn,L as kn,C as zt,V as Ct,as as Tn}from"./vue-chunks-Cb_T6hIW.js";import{I as bn,i as En,G as Sn}from"./index-BEu9Qr3B.js";import{i as Pt,ac as wn}from"./element-plus-BmofUjmf.js";function Kt(o,a){var r=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);a&amp;&amp;(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),r.push.apply(r,t)}return r}function U(o){for(var a=1;a&lt;arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Kt(Object(r),!0).forEach(function(t){m(o,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})}return o}function K(o){"@babel/helpers - typeof";return K=typeof Symbol=="function"&amp;&amp;typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&amp;&amp;typeof Symbol=="function"&amp;&amp;a.constructor===Symbol&amp;&amp;a!==Symbol.prototype?"symbol":typeof a},K(o)}function E(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function Yt(o,a){for(var r=0;r&lt;a.length;r++){var t=a[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&amp;&amp;(t.writable=!0),Object.defineProperty(o,Pi(t.key),t)}}function S(o,a,r){return a&amp;&amp;Yt(o.prototype,a),r&amp;&amp;Yt(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}function m(o,a,r){return a=Pi(a),a in o?Object.defineProperty(o,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[a]=r,o}function w(o,a){if(typeof a!="function"&amp;&amp;a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&amp;&amp;a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),a&amp;&amp;kt(o,a)}function P(o){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P(o)}function kt(o,a){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kt(o,a)}function xn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function v(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function It(o,a){if(a&amp;&amp;(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(o)}function x(o){var a=xn();return function(){var t=P(o),e;if(a){var i=P(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return It(this,e)}}function Pn(o,a){for(;!Object.prototype.hasOwnProperty.call(o,a)&amp;&amp;(o=P(o),o!==null););return o}function I(){return typeof Reflect!="undefined"&amp;&amp;Reflect.get?I=Reflect.get.bind():I=function(a,r,t){var e=Pn(a,r);if(e){var i=Object.getOwnPropertyDescriptor(e,r);return i.get?i.get.call(arguments.length&lt;3?a:t):i.value}},I.apply(this,arguments)}function ee(o){return In(o)||An(o)||Ln(o)||Dn()}function In(o){if(Array.isArray(o))return Tt(o)}function An(o){if(typeof Symbol!="undefined"&amp;&amp;o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function Ln(o,a){if(o){if(typeof o=="string")return Tt(o,a);var r=Object.prototype.toString.call(o).slice(8,-1);if(r==="Object"&amp;&amp;o.constructor&amp;&amp;(r=o.constructor.name),r==="Map"||r==="Set")return Array.from(o);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tt(o,a)}}function Tt(o,a){(a==null||a&gt;o.length)&amp;&amp;(a=o.length);for(var r=0,t=new Array(a);r&lt;a;r++)t[r]=o[r];return t}function Dn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.</span></span></span>
<span class="cstat-no" title="statement not covered" >In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rn(o,a){if(typeof o!="object"||o===null)return o;var r=o[Symbol.toPrimitive];if(r!==void 0){var t=r.call(o,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}function Pi(o){var a=Rn(o,"string");return typeof a=="symbol"?a:String(a)}var nt={exports:{}},$t;function On(){return $t||($t=1,(function(o){var a=Object.prototype.hasOwnProperty,r="~";function t(){}Object.create&amp;&amp;(t.prototype=Object.create(null),new t().__proto__||(r=!1));function e(u,l,f){this.fn=u,this.context=l,this.once=f||!1}function i(u,l,f,h,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new e(f,h||u,d),p=r?r+l:l;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],g]:u._events[p].push(g):(u._events[p]=g,u._eventsCount++),u}function n(u,l){--u._eventsCount===0?u._events=new t:delete u._events[l]}function s(){this._events=new t,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],f,h;if(this._eventsCount===0)return l;for(h in f=this._events)a.call(f,h)&amp;&amp;l.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},s.prototype.listeners=function(l){var f=r?r+l:l,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,g=h.length,p=new Array(g);d&lt;g;d++)p[d]=h[d].fn;return p},s.prototype.listenerCount=function(l){var f=r?r+l:l,h=this._events[f];return h?h.fn?1:h.length:0},s.prototype.emit=function(l,f,h,d,g,p){var y=r?r+l:l;if(!this._events[y])return!1;var _=this._events[y],b=arguments.length,T,k;if(_.fn){switch(_.once&amp;&amp;this.removeListener(l,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,h),!0;case 4:return _.fn.call(_.context,f,h,d),!0;case 5:return _.fn.call(_.context,f,h,d,g),!0;case 6:return _.fn.call(_.context,f,h,d,g,p),!0}for(k=1,T=new Array(b-1);k&lt;b;k++)T[k-1]=arguments[k];_.fn.apply(_.context,T)}else{var D=_.length,A;for(k=0;k&lt;D;k++)switch(_[k].once&amp;&amp;this.removeListener(l,_[k].fn,void 0,!0),b){case 1:_[k].fn.call(_[k].context);break;case 2:_[k].fn.call(_[k].context,f);break;case 3:_[k].fn.call(_[k].context,f,h);break;case 4:_[k].fn.call(_[k].context,f,h,d);break;default:if(!T)for(A=1,T=new Array(b-1);A&lt;b;A++)T[A-1]=arguments[A];_[k].fn.apply(_[k].context,T)}}return!0},s.prototype.on=function(l,f,h){return i(this,l,f,h,!1)},s.prototype.once=function(l,f,h){return i(this,l,f,h,!0)},s.prototype.removeListener=function(l,f,h,d){var g=r?r+l:l;if(!this._events[g])return this;if(!f)return n(this,g),this;var p=this._events[g];if(p.fn)p.fn===f&amp;&amp;(!d||p.once)&amp;&amp;(!h||p.context===h)&amp;&amp;n(this,g);else{for(var y=0,_=[],b=p.length;y&lt;b;y++)(p[y].fn!==f||d&amp;&amp;!p[y].once||h&amp;&amp;p[y].context!==h)&amp;&amp;_.push(p[y]);_.length?this._events[g]=_.length===1?_[0]:_:n(this,g)}return this},s.prototype.removeAllListeners=function(l){var f;return l?(f=r?r+l:l,this._events[f]&amp;&amp;n(this,f)):(this._events=new t,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,o.exports=s})(nt)),nt.exports}var Ii=On();const Ai=Pt(Ii);var Mn=typeof window!="undefined"&amp;&amp;window.location&amp;&amp;window.location.href.indexOf("xgplayerdebugger=1")&gt;-1,rt={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},st="%c[xgplayer]",O={config:{debug:Mn?3:0},logInfo:function(a){for(var r,t=arguments.length,e=new Array(t&gt;1?t-1:0),i=1;i&lt;t;i++)e[i-1]=arguments[i];this.config.debug&gt;=3&amp;&amp;(r=console).log.apply(r,[st,rt.info,a].concat(e))},logWarn:function(a){for(var r,t=arguments.length,e=new Array(t&gt;1?t-1:0),i=1;i&lt;t;i++)e[i-1]=arguments[i];this.config.debug&gt;=1&amp;&amp;(r=console).warn.apply(r,[st,rt.warn,a].concat(e))},logError:function(a){var r;if(!(this.config.debug&lt;1)){for(var t=this.config.debug&gt;=2?"trace":"error",e=arguments.length,i=new Array(e&gt;1?e-1:0),n=1;n&lt;e;n++)i[n-1]=arguments[n];(r=console)[t].apply(r,[st,rt.error,a].concat(i))}}};function Nn(o){o.logInfo=O.logInfo.bind(o),o.logWarn=O.logWarn.bind(o),o.logError=O.logError.bind(o)}var Fn=(function(){function o(a){E(this,o),this.bufferedList=a}return S(o,[{key:"start",value:function(r){return this.bufferedList[r].start}},{key:"end",value:function(r){return this.bufferedList[r].end}},{key:"length",get:function(){return this.bufferedList.length}}]),o})(),c={};c.createDom=function(){var o=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:"div",a=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:"",r=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:{},t=arguments.length&gt;3&amp;&amp;arguments[3]!==void 0?arguments[3]:"",e=document.createElement(o);return e.className=t,e.innerHTML=a,Object.keys(r).forEach(function(i){var n=i,s=r[i];o==="video"||o==="audio"||o==="live-video"?s&amp;&amp;e.setAttribute(n,s):e.setAttribute(n,s)}),e};c.createDomFromHtml=function(o){var a=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{},r=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:"";try{var t=document.createElement("div");t.innerHTML=o;var e=t.children;return t=null,e.length&gt;0?(e=e[0],r&amp;&amp;c.addClass(e,r),a&amp;&amp;Object.keys(a).forEach(function(i){e.setAttribute(i,a[i])}),e):null}catch(i){return O.logError("util.createDomFromHtml",i),null}};c.hasClass=function(o,a){if(!o||!a)return!1;try{return Array.prototype.some.call(o.classList,function(t){return t===a})}catch(t){var r=o.className&amp;&amp;K(o.className)==="object"?o.getAttribute("class"):o.className;return r&amp;&amp;!!r.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}};c.addClass=function(o,a){if(!(!o||!a))try{a.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(r){r&amp;&amp;o.classList.add(r)})}catch(r){c.hasClass(o,a)||(o.className&amp;&amp;K(o.className)==="object"?o.setAttribute("class",o.getAttribute("class")+" "+a):o.className+=" "+a)}};c.removeClass=function(o,a){if(!(!o||!a))try{a.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(r){r&amp;&amp;o.classList.remove(r)})}catch(r){c.hasClass(o,a)&amp;&amp;a.split(/\s+/g).forEach(function(t){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");o.className&amp;&amp;K(o.className)==="object"?o.setAttribute("class",o.getAttribute("class").replace(e," ")):o.className=o.className.replace(e," ")})}};c.toggleClass=function(o,a){o&amp;&amp;a.split(/\s+/g).forEach(function(r){c.hasClass(o,r)?c.removeClass(o,r):c.addClass(o,r)})};c.classNames=function(){for(var o=arguments,a=[],r=function(i){c.typeOf(o[i])==="String"?a.push(o[i]):c.typeOf(o[i])==="Object"&amp;&amp;Object.keys(o[i]).map(function(n){o[i][n]&amp;&amp;a.push(n)})},t=0;t&lt;arguments.length;t++)r(t);return a.join(" ")};c.findDom=function(){var o=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:document,a=arguments.length&gt;1?arguments[1]:void 0,r;try{r=o.querySelector(a)}catch(t){O.logError("util.findDom",t),a.indexOf("#")===0&amp;&amp;(r=o.getElementById(a.slice(1)))}return r};c.getCss=function(o,a){return o.currentStyle?o.currentStyle[a]:document.defaultView.getComputedStyle(o,!1)[a]};c.padStart=function(o,a,r){for(var t=String(r),e=a&gt;&gt;0,i=Math.ceil(e/t.length),n=[],s=String(o);i--;)n.push(t);return n.join("").substring(0,e-s.length)+s};c.format=function(o){if(window.isNaN(o))return"";o=Math.round(o);var a=c.padStart(Math.floor(o/3600),2,0),r=c.padStart(Math.floor((o-a*3600)/60),2,0),t=c.padStart(Math.floor(o-a*3600-r*60),2,0);return(a==="00"?[r,t]:[a,r,t]).join(":")};c.event=function(o){if(o.touches){var a=o.touches[0]||o.changedTouches[0];o.clientX=a.clientX||0,o.clientY=a.clientY||0,o.offsetX=a.pageX-a.target.offsetLeft,o.offsetY=a.pageY-a.target.offsetTop}o._target=o.target||o.srcElement};c.typeOf=function(o){return Object.prototype.toString.call(o).match(/([^\s.*]+)(?=]$)/g)[0]};c.deepCopy=function(o,a){if(c.typeOf(a)==="Object"&amp;&amp;c.typeOf(o)==="Object")return Object.keys(a).forEach(function(r){c.typeOf(a[r])==="Object"&amp;&amp;!(a[r]instanceof Node)?o[r]===void 0||o[r]===void 0?o[r]=a[r]:c.deepCopy(o[r],a[r]):c.typeOf(a[r])==="Array"?o[r]=c.typeOf(o[r])==="Array"?o[r].concat(a[r]):a[r]:o[r]=a[r]}),o};c.deepMerge=function(o,a){return Object.keys(a).map(function(r){if(c.typeOf(a[r])==="Array"&amp;&amp;c.typeOf(o[r])==="Array"){if(c.typeOf(o[r])==="Array"){var t;(t=o[r]).push.apply(t,ee(a[r]))}}else c.typeOf(o[r])===c.typeOf(a[r])&amp;&amp;o[r]!==null&amp;&amp;c.typeOf(o[r])==="Object"&amp;&amp;!(a[r]instanceof window.Node)?c.deepMerge(o[r],a[r]):a[r]!==null&amp;&amp;(o[r]=a[r])}),o};c.getBgImage=function(o){var a=(o.currentStyle||window.getComputedStyle(o,null)).backgroundImage;if(!a||a==="none")return"";var r=document.createElement("a");return r.href=a.replace(/url\("|"\)/g,""),r.href};c.copyDom=function(o){if(o&amp;&amp;o.nodeType===1){var a=document.createElement(o.tagName);return Array.prototype.forEach.call(o.attributes,function(r){a.setAttribute(r.name,r.value)}),o.innerHTML&amp;&amp;(a.innerHTML=o.innerHTML),a}else return""};c.setInterval=function(o,a,r,t){o._interval[a]||(o._interval[a]=window.setInterval(r.bind(o),t))};c.clearInterval=function(o,a){clearInterval(o._interval[a]),o._interval[a]=null};c.setTimeout=function(o,a,r){o._timers||(o._timers=[]);var t=setTimeout(function(){a(),c.clearTimeout(o,t)},r);return o._timers.push(t),t};c.clearTimeout=function(o,a){var r=o._timers;if(c.typeOf(r)==="Array"){for(var t=0;t&lt;r.length;t++)if(r[t]===a){r.splice(t,1),clearTimeout(a);break}}else clearTimeout(a)};c.clearAllTimers=function(o){var a=o._timers;c.typeOf(a)==="Array"&amp;&amp;(a.map(function(r){clearTimeout(r)}),o._timerIds=[])};c.createImgBtn=function(o,a,r,t){var e=c.createDom("xg-".concat(o),"",{},"xgplayer-".concat(o,"-img"));if(e.style.backgroundImage='url("'.concat(a,'")'),r&amp;&amp;t){var i,n,s;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(u){return r.indexOf(u)&gt;-1&amp;&amp;t.indexOf(u)&gt;-1?(i=parseFloat(r.slice(0,r.indexOf(u)).trim()),n=parseFloat(t.slice(0,t.indexOf(u)).trim()),s=u,!1):!0}),e.style.width="".concat(i).concat(s),e.style.height="".concat(n).concat(s),e.style.backgroundSize="".concat(i).concat(s," ").concat(n).concat(s),o==="start"?e.style.margin="-".concat(n/2).concat(s," auto auto -").concat(i/2).concat(s):e.style.margin="auto 5px auto 5px"}return e};c.Hex2RGBA=function(o,a){var r=[];if(/^\#[0-9A-F]{3}$/i.test(o)){var t="#";o.replace(/[0-9A-F]/ig,function(e){t+=e+e}),o=t}return/^#[0-9A-F]{6}$/i.test(o)?(o.replace(/[0-9A-F]{2}/ig,function(e){r.push(parseInt(e,16))}),"rgba(".concat(r.join(","),", ").concat(a,")")):"rgba(255, 255, 255, 0.1)"};c.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};c.checkIsFunction=function(o){return o&amp;&amp;typeof o=="function"};c.checkIsObject=function(o){return o!==null&amp;&amp;K(o)==="object"};c.hide=function(o){o.style.display="none"};c.show=function(o,a){o.style.display=a||"block"};c.isUndefined=function(o){if(typeof o=="undefined"||o===null)return!0};c.isNotNull=function(o){return o!=null};c.setStyleFromCsstext=function(o,a){if(a)if(c.typeOf(a)==="String"){var r=a.replace(/\s+/g,"").split(";");r.map(function(t){if(t){var e=t.split(":");e.length&gt;1&amp;&amp;(o.style[e[0]]=e[1])}})}else Object.keys(a).map(function(t){o.style[t]=a[t]})};function Bn(o,a){for(var r=0,t=a.length;r&lt;t;r++)if(o.indexOf(a[r])&gt;-1)return!0;return!1}c.filterStyleFromText=function(o){var a=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],r=o.style.cssText;if(!r)return{};var t=r.replace(/\s+/g,"").split(";"),e={},i={};return t.map(function(n){if(n){var s=n.split(":");s.length&gt;1&amp;&amp;(Bn(s[0],a)?e[s[0]]=s[1]:i[s[0]]=s[1])}}),o.setAttribute("style",""),Object.keys(i).map(function(n){o.style[n]=i[n]}),e};c.getStyleFromCsstext=function(o){var a=o.style.cssText;if(!a)return{};var r=a.replace(/\s+/g,"").split(";"),t={};return r.map(function(e){if(e){var i=e.split(":");i.length&gt;1&amp;&amp;(t[i[0]]=i[1])}}),t};c.preloadImg=function(o){var a=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:function(){};if(o){var t=new window.Image;t.onload=function(e){t=null,a&amp;&amp;a(e)},t.onerror=function(e){t=null,r&amp;&amp;r(e)},t.src=o}};c.stopPropagation=function(o){o&amp;&amp;o.stopPropagation()};c.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};c.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};c.checkTouchSupport=function(){return"ontouchstart"in window};c.getBuffered2=function(o){for(var a=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:.5,r=[],t=0;t&lt;o.length;t++)r.push({start:o.start(t)&lt;.5?0:o.start(t),end:o.end(t)});r.sort(function(u,l){var f=u.start-l.start;return f||l.end-u.end});var e=[];if(a)for(var i=0;i&lt;r.length;i++){var n=e.length;if(n){var s=e[n-1].end;r[i].start-s&lt;a?r[i].end&gt;s&amp;&amp;(e[n-1].end=r[i].end):e.push(r[i])}else e.push(r[i])}else e=r;return new Fn(e)};c.getEventPos=function(o){var a=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:1;return o.touches&amp;&amp;o.touches.length&gt;0&amp;&amp;(o=o.touches[0]),{x:o.x/a,y:o.y/a,clientX:o.clientX/a,clientY:o.clientY/a,offsetX:o.offsetX/a,offsetY:o.offsetY/a,pageX:o.pageX/a,pageY:o.pageY/a}};c.requestAnimationFrame=function(o){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a)return a(o)};c.getHostFromUrl=function(o){if(c.typeOf(o)!=="String")return"";var a=o.split("/"),r="";return a.length&gt;3&amp;&amp;a[2]&amp;&amp;(r=a[2]),r};c.cancelAnimationFrame=function(o){var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;a&amp;&amp;a(o)};c.isMSE=function(o){return o.media&amp;&amp;(o=o.media),!o||!(o instanceof HTMLMediaElement)?!1:/^blob/.test(o.currentSrc)||/^blob/.test(o.src)};c.isBlob=function(o){return typeof o=="string"&amp;&amp;/^blob/.test(o)};c.generateSessionId=function(){var o=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:0,a=new Date().getTime();try{o=parseInt(o)}catch(t){o=0}a+=o,window.performance&amp;&amp;typeof window.performance.now=="function"&amp;&amp;(a+=parseInt(window.performance.now()));var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(t==="x"?e:e&amp;3|8).toString(16)});return r};c.createEvent=function(o){var a;return typeof window.Event=="function"?a=new Event(o):(a=document.createEvent("Event"),a.initEvent(o,!0,!0)),a};c.adjustTimeByDuration=function(o,a,r){return!a||!o?o:o&gt;a||r&amp;&amp;o&lt;a?a:o};c.createPositionBar=function(o,a){var r=c.createDom("xg-bar","",{"data-index":-1},o);return a.appendChild(r),r};c.getTransformStyle=function(){var o=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{x:0,y:0,scale:1,rotate:0},a=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:"",r={scale:"".concat(o.scale||1),translate:"".concat(o.x||0,"%, ").concat(o.y||0,"%"),rotate:"".concat(o.rotate||0,"deg")},t=Object.keys(r);return t.forEach(function(e){var i=new RegExp("".concat(e,"\\([^\\(]+\\)"),"g"),n="".concat(e,"(").concat(r[e],")");i.test(a)?(i.lastIndex=-1,a=a.replace(i,n)):a+="".concat(n," ")}),a};c.convertDeg=function(o){return Math.abs(o)&lt;=1?o*360:o%360};c.getIndexByTime=function(o,a){var r=a.length,t=-1;if(r&lt;1)return t;if(o&lt;=a[0].end||r&lt;2)t=0;else if(o&gt;a[r-1].end)t=r-1;else for(var e=1;e&lt;r;e++)if(o&gt;a[e-1].end&amp;&amp;o&lt;=a[e].end){t=e;break}return t};c.getOffsetCurrentTime=function(o,a){var r=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:-1,t=-1;if(r&gt;=0&amp;&amp;r&lt;a.length?t=r:t=c.getIndexByTime(o,a),t&lt;0)return-1;var e=a.length,i=a[t],n=i.start,s=i.end,u=i.cTime,l=i.offset;return o&lt;n?u:o&gt;=n&amp;&amp;o&lt;=s?o-l:o&gt;s&amp;&amp;t&gt;=e-1?s:-1};c.getCurrentTimeByOffset=function(o,a){var r=-1;if(!a||a.length&lt;0)return o;for(var t=0;t&lt;a.length;t++)if(o&lt;=a[t].duration){r=t;break}if(r!==-1){var e=a[r].start;return r-1&lt;0?e+o:e+(o-a[r-1].duration)}return o};function Li(o){var a=K(o);return o!==null&amp;&amp;(a==="object"||a==="function")}function Hn(o,a,r){var t,e,i,n,s,u,l=0,f=!1,h=!1,d=!0,g=!a&amp;&amp;a!==0&amp;&amp;typeof window.requestAnimationFrame=="function";if(typeof o!="function")throw new TypeError("Expected a function");a=+a||0,Li(r)&amp;&amp;(f=!!r.leading,h="maxWait"in r,i=h?Math.max(+r.maxWait||0,a):i,d="trailing"in r?!!r.trailing:d);function p(R){var $=t,J=e;return t=e=void 0,l=R,n=o.apply(J,$),n}function y(R,$){return g?(window.cancelAnimationFrame(s),window.requestAnimationFrame(R)):setTimeout(R,$)}function _(R){if(g)return window.cancelAnimationFrame(R);clearTimeout(R)}function b(R){return l=R,s=y(D,a),f?p(R):n}function T(R){var $=R-u,J=R-l,Q=a-$;return h?Math.min(Q,i-J):Q}function k(R){var $=R-u,J=R-l;return u===void 0||$&gt;=a||$&lt;0||h&amp;&amp;J&gt;=i}function D(){var R=Date.now();if(k(R))return A(R);s=y(D,T(R))}function A(R){return s=void 0,d&amp;&amp;t?p(R):(t=e=void 0,n)}function B(){s!==void 0&amp;&amp;_(s),l=0,t=u=e=s=void 0}function M(){return s===void 0?n:A(Date.now())}function j(){return s!==void 0}function V(){for(var R=Date.now(),$=k(R),J=arguments.length,Q=new Array(J),me=0;me&lt;J;me++)Q[me]=arguments[me];if(t=Q,e=this,u=R,$){if(s===void 0)return b(u);if(h)return s=y(D,a),p(u)}return s===void 0&amp;&amp;(s=y(D,a)),n}return V.cancel=B,V.flush=M,V.pending=j,V}function Un(o,a,r){var t=!0,e=!0;if(typeof o!="function")throw new TypeError("Expected a function");return Li(r)&amp;&amp;(t="leading"in r?!!r.leading:t,e="trailing"in r?!!r.trailing:e),Hn(o,a,{leading:t,trailing:e,maxWait:a})}function Vn(){var o=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return o==="zh-cn"&amp;&amp;(o="zh"),o}function jn(o,a,r){if(o){var t=o.getAttribute(r);return!!(t&amp;&amp;t===a&amp;&amp;(o.tagName==="VIDEO"||o.tagName==="AUDIO"))}}var Xt={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},Wn=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],L={get device(){var o=L.os;return o.isPc?"pc":"mobile"},get browser(){if(typeof navigator=="undefined")return"";var o=navigator.userAgent.toLowerCase(),a={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(a).filter(function(r){return a[r].test(o)}))[0]},get os(){if(typeof navigator=="undefined")return{};var o=navigator.userAgent,a=/(?:Windows Phone)/.test(o),r=/(?:SymbianOS)/.test(o)||a,t=/(?:Tizen)/ig.test(o),e=/(?:Web0S)/ig.test(o),i=/(?:Android)/.test(o),n=/(?:Firefox)/.test(o),s=/(?:iPad|PlayBook)/.test(o)||navigator.platform==="MacIntel"&amp;&amp;navigator.maxTouchPoints&gt;1,u=s||i&amp;&amp;!/(?:Mobile)/.test(o)||n&amp;&amp;/(?:Tablet)/.test(o),l=/(?:iPhone)/.test(o)&amp;&amp;!u,f=!l&amp;&amp;!i&amp;&amp;!r&amp;&amp;!u;return{isTablet:u,isPhone:l,isIpad:s,isIos:l||s,isAndroid:i,isPc:f,isSymbian:r,isWindowsPhone:a,isFireFox:n,isTizen:t,isWebOS:e}},get osVersion(){if(typeof navigator=="undefined")return 0;var o=navigator.userAgent,a="";/(?:iPhone)|(?:iPad|PlayBook)/.test(o)?a=Xt.ios:a=Xt.android;var r=a?a.exec(o):[];if(r&amp;&amp;r.length&gt;=3){var t=r[2].split(".");return t.length&gt;0?parseInt(t[0]):0}return 0},get isWeixin(){if(typeof navigator=="undefined")return!1;var o=/(micromessenger)\/([\d.]+)/,a=o.exec(navigator.userAgent.toLocaleLowerCase());return!!a},isSupportMP4:function(){var a={isSupport:!1,mime:""};if(typeof document=="undefined")return a;if(this.supportResult)return this.supportResult;var r=document.createElement("video");return typeof r.canPlayType=="function"&amp;&amp;Wn.map(function(t){r.canPlayType('video/mp4; codecs="'.concat(t,'"'))==="probably"&amp;&amp;(a.isSupport=!0,a.mime+="||".concat(t))}),this.supportResult=a,r=null,a},isMSESupport:function(){var a=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(typeof MediaSource=="undefined"||!MediaSource)return!1;try{return MediaSource.isTypeSupported(a)}catch(r){return this._logger.error(a,r),!1}},isHevcSupported:function(){return typeof MediaSource=="undefined"||!MediaSource.isTypeSupported?!1:MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')},probeConfigSupported:function(a){var r={supported:!1,smooth:!1,powerEfficient:!1};if(!a||typeof navigator=="undefined")return Promise.resolve(r);if(navigator.mediaCapabilities&amp;&amp;navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(a);var t=a.video||{},e=a.audio||{};try{var i=MediaSource.isTypeSupported(t.contentType),n=MediaSource.isTypeSupported(e.contentType);return Promise.resolve({supported:i&amp;&amp;n,smooth:!1,powerEfficient:!1})}catch(s){return Promise.resolve(r)}}},bt="3.0.23",qt={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},Zt={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},Ve=S(function o(a){var r=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};E(this,o);var t=a&amp;&amp;a.i18n?a.i18n.ERROR_TYPES:null;if(a.media){var e=r.mediaError?r.mediaError:a.media.error||{},i=a.duration,n=a.currentTime,s=a.ended,u=a.src,l=a.currentSrc,f=a.media,h=f.readyState,d=f.networkState,g=r.errorCode||e.code;Zt[g]&amp;&amp;(g=Zt[g]);var p={playerVersion:bt,currentTime:n,duration:i,ended:s,readyState:h,networkState:d,src:u||l,errorType:r.errorType,errorCode:g,message:r.errorMessage||e.message,mediaError:e,originError:r.originError?r.originError.stack:"",host:c.getHostFromUrl(u||l)};return r.ext&amp;&amp;Object.keys(r.ext).map(function(T){p[T]=r.ext[T]}),p}else if(arguments.length&gt;1){for(var y={playerVersion:bt,domain:document.domain},_=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],b=0;b&lt;arguments.length;b++)y[_[b]]=arguments[b];return y.ex=t?(t[arguments[0]]||{}).msg:"",y}}),Z="play",At="playing",Ce="ended",Ae="pause",Oe="error",Ze="seeking",ae="seeked",q="timeupdate",Me="waiting",se="canplay",Gn="canplaythrough",ue="durationchange",Di="volumechange",oe="loadeddata",zn="loadedmetadata",Ri="ratechange",Oi="progress",Lt="loadstart",ke="emptied",Kn="stalled",Yn="suspend",$n="abort",Xn="bufferedChange",Dt="focus",Mi="blur",Rt="ready",Ni="urlNull",_e="autoplay_started",Ot="autoplay_was_prevented",Je="complete",je="replay",Mt="destroy",Qe="urlchange",Et="download_speed_change",Fi="leaveplayer",Bi="enterplayer",Hi="loading",re="fullscreen_change",We="cssFullscreen_change",Ge="mini_state_change",Nt="definition_change",qn="before_definition_change",St="after_definition_change",Zn="SEI_PARSED",Jn="retry",ge="video_resize",wt="pip_change",Ui="rotate",Vi="screenShot",ze="playnext",ji="shortcut",Wi="xglog",Ke="user_action",et="reset",Gi="source_error",zi="source_success",Qn="switch_subtitle",Ki=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],Yi={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},$i="fps_stuck";const er=Object.freeze(Object.defineProperty({__proto__:null,ABORT:$n,AFTER_DEFINITION_CHANGE:St,AUTOPLAY_PREVENTED:Ot,AUTOPLAY_STARTED:_e,BEFORE_DEFINITION_CHANGE:qn,BUFFER_CHANGE:Xn,CANPLAY:se,CANPLAY_THROUGH:Gn,COMPLETE:Je,CSS_FULLSCREEN_CHANGE:We,DEFINITION_CHANGE:Nt,DESTROY:Mt,DOWNLOAD_SPEED_CHANGE:Et,DURATION_CHANGE:ue,EMPTIED:ke,ENDED:Ce,ENTER_PLAYER:Bi,ERROR:Oe,FPS_STUCK:$i,FULLSCREEN_CHANGE:re,LEAVE_PLAYER:Fi,LOADED_DATA:oe,LOADED_METADATA:zn,LOADING:Hi,LOAD_START:Lt,MINI_STATE_CHANGE:Ge,PAUSE:Ae,PIP_CHANGE:wt,PLAY:Z,PLAYER_BLUR:Mi,PLAYER_FOCUS:Dt,PLAYING:At,PLAYNEXT:ze,PROGRESS:Oi,RATE_CHANGE:Ri,READY:Rt,REPLAY:je,RESET:et,RETRY:Jn,ROTATE:Ui,SCREEN_SHOT:Vi,SEEKED:ae,SEEKING:Ze,SEI_PARSED:Zn,SHORTCUT:ji,SOURCE_ERROR:Gi,SOURCE_SUCCESS:zi,STALLED:Kn,STATS_EVENTS:Yi,SUSPEND:Yn,SWITCH_SUBTITLE:Qn,TIME_UPDATE:q,URL_CHANGE:Qe,URL_NULL:Ni,USER_ACTION:Ke,VIDEO_EVENTS:Ki,VIDEO_RESIZE:ge,VOLUME_CHANGE:Di,WAITING:Me,XGLOG:Wi},Symbol.toStringTag,{value:"Module"}));function at(o,a){!this||!this.emit||(o==="error"?this.errorHandler(o,a.error):this.emit(o,a))}function tr(o,a){return function(r,t){var e={player:a,eventName:o,originalEvent:r,detail:r.detail||{},timeStamp:r.timeStamp,currentTime:a.currentTime,duration:a.duration,paused:a.paused,ended:a.ended,isInternalOp:!!a._internalOp[r.type],muted:a.muted,volume:a.volume,host:c.getHostFromUrl(a.currentSrc),vtype:a.vtype};if(a.removeInnerOP(r.type),o==="timeupdate"&amp;&amp;(a._currentTime=a.media&amp;&amp;a.media.currentTime),o==="ratechange"){var i=a.media?a.media.playbackRate:0;if(i&amp;&amp;a._rate===i)return;a._rate=a.media&amp;&amp;a.media.playbackRate}if(o==="durationchange"&amp;&amp;(a._duration=a.media.duration),o==="volumechange"&amp;&amp;(e.isMutedChange=a._lastMuted!==a.muted,a._lastMuted=a.muted),o==="error"&amp;&amp;(e.error=t||a.video.error),a.mediaEventMiddleware[o]){var n=at.bind(a,o,e);try{a.mediaEventMiddleware[o].call(a,e,n)}catch(s){throw at.call(a,o,e),s}}else at.call(a,o,e)}}var ir=(function(o){w(r,o);var a=x(r);function r(t){var e;E(this,r),e=a.call(this,t),e._hasStart=!1,e._currentTime=0,e._duration=0,e._internalOp={},e._lastMuted=!1,e.vtype="MP4",e._rate=-1,e.mediaConfig=Object.assign({},{controls:!1,autoplay:t.autoplay,playsinline:t.playsinline,"x5-playsinline":t.playsinline,"webkit-playsinline":t.playsinline,"x5-video-player-fullscreen":t["x5-video-player-fullscreen"]||t.x5VideoPlayerFullscreen,"x5-video-orientation":t["x5-video-orientation"]||t.x5VideoOrientation,airplay:t.airplay,"webkit-airplay":t.airplay,tabindex:t.tabindex|0,mediaType:t.mediaType||"video","data-index":-1},t.videoConfig,t.videoAttributes);var i=t["x5-video-player-type"]||t.x5VideoPlayerType;return L.isWeixin&amp;&amp;L.os.isAndroid&amp;&amp;i&amp;&amp;(e.mediaConfig["x5-video-player-type"]=i,delete e.mediaConfig.playsinline,delete e.mediaConfig["webkit-playsinline"],delete e.mediaConfig["x5-playsinline"]),t.loop&amp;&amp;(e.mediaConfig.loop="loop"),t.autoplayMuted&amp;&amp;!Object.prototype.hasOwnProperty.call(e.mediaConfig,"muted")&amp;&amp;(e.mediaConfig.muted=!0),e.media=t.mediaEl instanceof HTMLMediaElement?t.mediaEl:typeof t.mediaEl=="function"?t.mediaEl(e.mediaConfig):c.createDom(e.mediaConfig.mediaType,"",e.mediaConfig,""),t.defaultPlaybackRate&amp;&amp;(e.media.defaultPlaybackRate=e.media.playbackRate=t.defaultPlaybackRate),c.typeOf(t.volume)==="Number"&amp;&amp;(e.volume=t.volume),t.autoplayMuted&amp;&amp;(e.media.muted=!0,e._lastMuted=!0),t.autoplay&amp;&amp;(e.media.autoplay=!0),t.playsinline&amp;&amp;(e.media.playsinline=!0),e._interval={},e.mediaEventMiddleware={},e.attachVideoEvents(),e}return S(r,[{key:"setEventsMiddleware",value:function(e){var i=this;Object.keys(e).map(function(n){i.mediaEventMiddleware[n]=e[n]})}},{key:"removeEventsMiddleware",value:function(e){var i=this;Object.keys(e).map(function(n){delete i.mediaEventMiddleware[n]})}},{key:"attachVideoEvents",value:function(){var e=this,i=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers||(this._evHandlers=Ki.map(function(n){var s="on".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));return typeof e[s]=="function"&amp;&amp;e.on(n,e[s]),m({},n,tr(n,e))})),this._evHandlers.forEach(function(n){var s=Object.keys(n)[0];i.addEventListener(s,n[s],!1)})}},{key:"detachVideoEvents",value:function(){var e=this,i=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers.forEach(function(n){var s=Object.keys(n)[0];i.removeEventListener(s,n[s],!1)}),this._evHandlers.forEach(function(n){var s=Object.keys(n)[0],u="on".concat(s.charAt(0).toUpperCase()).concat(s.slice(1));typeof e[u]=="function"&amp;&amp;e.off(s,e[u])}),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(e,i){var n=this;e.removeAttribute("src"),e.load(),i.forEach(function(h,d){n.media.appendChild(c.createDom("source","",{src:"".concat(h.src),type:"".concat(h.type||""),"data-index":d+1}))});var s=e.children;if(s){this._videoSourceCount=s.length,this._videoSourceIndex=s.length,this._vLoadeddata=function(h){n.emit(zi,{src:h.target.currentSrc,host:c.getHostFromUrl(h.target.currentSrc)})};for(var u=null,l=0;l&lt;this._evHandlers.length;l++)if(Object.keys(this._evHandlers[l])[0]==="error"){u=this._evHandlers[l];break}!this._sourceError&amp;&amp;(this._sourceError=function(h){var d=parseInt(h.target.getAttribute("data-index"),10);if(n._videoSourceIndex--,n._videoSourceIndex===0||d&gt;=n._videoSourceCount){var g={code:4,message:"sources_load_error"};u?u.error(h,g):n.errorHandler("error",g)}var p=qt[4];n.emit(Gi,new Ve(n,{errorType:p,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:h.target.src}))});for(var f=0;f&lt;s.length;f++)s[f].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var i=e.children;if(!(!i||i.length===0||!this._sourceError)){for(var n=0;n&lt;i.length;n++)i[n].removeEventListener("error",this._sourceError);for(;i.length&gt;0;)e.removeChild(i[0]);this._vLoadeddata&amp;&amp;e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:null;if(this.media&amp;&amp;(this.media.error||i)){var n=this.media.error||i,s=n.code?qt[n.code]:"other",u=n.message;this.media.currentSrc||this.media.srcObject||(u="empty_src",n={code:6,message:u}),this.emit(e,new Ve(this,{errorType:s,errorCode:n.code,errorMessage:n.message||"",mediaError:n}))}}},{key:"destroy",value:function(){this.media&amp;&amp;(this.media.pause&amp;&amp;(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null;for(var e in this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&amp;&amp;(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){var e=this.media?this.media.play():null;return e}},{key:"pause",value:function(){this.media&amp;&amp;this.media.pause()}},{key:"load",value:function(){this.media&amp;&amp;this.media.load()}},{key:"canPlayType",value:function(e){return this.media?this.media.canPlayType(e):!1}},{key:"getBufferedRange",value:function(e){var i=[0,0];if(!this.media)return i;e||(e=this.media.buffered);var n=this.media.currentTime;if(e)for(var s=0,u=e.length;s&lt;u&amp;&amp;(i[0]=e.start(s),i[1]=e.end(s),!(i[0]&lt;=n&amp;&amp;n&lt;=i[1]));s++);return i[0]-n&lt;=0&amp;&amp;n-i[1]&lt;=0?i:[0,0]}},{key:"autoplay",get:function(){return this.media?this.media.autoplay:!1},set:function(e){this.media&amp;&amp;(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&amp;&amp;this.media.buffered?c.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var i=this.media.buffered;if(!i||i.length===0)return e;for(var n=0;n&lt;i.length;n++)if((i.start(n)&lt;=this.currentTime||i.start(n)&lt;.1)&amp;&amp;i.end(n)&gt;=this.currentTime)return{start:i.start(n),end:i.end(n)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&amp;&amp;(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&amp;&amp;(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?this.media.currentTime!==void 0?this.media.currentTime:this._currentTime:0},set:function(e){this.media&amp;&amp;(this.media.currentTime=e)}},{key:"defaultMuted",get:function(){return this.media?this.media.defaultMuted:!1},set:function(e){this.media&amp;&amp;(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this.media?this.media.ended:!1}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){var e=this.media.error;if(!e)return"";var i=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];return i[this.media.error.code-1]}},{key:"loop",get:function(){return this.media?this.media.loop:!1},set:function(e){this.media&amp;&amp;(this.media.loop=e)}},{key:"muted",get:function(){return this.media?this.media.muted:!1},set:function(e){!this.media||this.media.muted===e||(this._lastMuted=this.media.muted,this.media.muted=e)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return this.media?this.media.paused:!0}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){!this.media||e===1/0||(this.media.defaultPlaybackRate=e,this.media.playbackRate=e)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return this.media?this.media.preload:!1},set:function(e){this.media&amp;&amp;(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return this.media?this.media.seekable:!1}},{key:"seeking",get:function(){return this.media?this.media.seeking:!1}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){if(this.media){if(this.emit(Qe,e),this.emit(Me),this._currentTime=0,this._duration=0,c.isMSE(this.media)){this.onWaiting();return}this._detachSourceEvents(this.media),c.typeOf(e)==="Array"?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()}}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){e===1/0||!this.media||(this.media.volume=e)}},{key:"aspectRatio",get:function(){return this.media?this.media.videoWidth/this.media.videoHeight:0}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,i){for(var n,s=arguments.length,u=new Array(s&gt;2?s-2:0),l=2;l&lt;s;l++)u[l-2]=arguments[l];(n=I(P(r.prototype),"emit",this)).call.apply(n,[this,e,i].concat(u))}},{key:"on",value:function(e,i){for(var n,s=arguments.length,u=new Array(s&gt;2?s-2:0),l=2;l&lt;s;l++)u[l-2]=arguments[l];(n=I(P(r.prototype),"on",this)).call.apply(n,[this,e,i].concat(u))}},{key:"once",value:function(e,i){for(var n,s=arguments.length,u=new Array(s&gt;2?s-2:0),l=2;l&lt;s;l++)u[l-2]=arguments[l];(n=I(P(r.prototype),"once",this)).call.apply(n,[this,e,i].concat(u))}},{key:"off",value:function(e,i){for(var n,s=arguments.length,u=new Array(s&gt;2?s-2:0),l=2;l&lt;s;l++)u[l-2]=arguments[l];(n=I(P(r.prototype),"off",this)).call.apply(n,[this,e,i].concat(u))}},{key:"offAll",value:function(){I(P(r.prototype),"removeAllListeners",this).call(this)}}]),r})(Ai),nr=(function(){function o(){var a=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};E(this,o),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=a}return S(o,[{key:"openDB",value:function(r){var t=this,e=this,i=this.myDB.version||1,n=e.indexedDB.open(e.myDB.name,i);n.onerror=function(s){},n.onsuccess=function(s){t.myDB.db=s.target.result,r.call(e)},n.onupgradeneeded=function(s){var u=s.target.result;s.target.transaction,u.objectStoreNames.contains(e.myDB.ojstore.name)||u.createObjectStore(e.myDB.ojstore.name,{keyPath:e.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){var r=this;r.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(r,t){for(var e=this.myDB.db.transaction(r,"readwrite").objectStore(r),i,n=0;n&lt;t.length;n++)i=e.add(t[n]),i.onerror=function(){},i.onsuccess=function(){}}},{key:"putData",value:function(r,t){for(var e=this.myDB.db.transaction(r,"readwrite").objectStore(r),i,n=0;n&lt;t.length;n++)i=e.put(t[n]),i.onerror=function(){},i.onsuccess=function(){}}},{key:"getDataByKey",value:function(r,t,e){var i=this,n=this.myDB.db.transaction(r,"readwrite").objectStore(r),s=n.get(t);s.onerror=function(){e.call(i,null)},s.onsuccess=function(u){var l=u.target.result;e.call(i,l)}}},{key:"deleteData",value:function(r,t){var e=this.myDB.db.transaction(r,"readwrite").objectStore(r);e.delete(t)}},{key:"clearData",value:function(r){var t=this.myDB.db.transaction(r,"readwrite").objectStore(r);t.clear()}}]),o})(),Jt=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],Qt=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],ei=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],he="data-xgplayerid";function Ne(o,a,r){for(var t=arguments.length,e=new Array(t&gt;3?t-3:0),i=3;i&lt;t;i++)e[i-3]=arguments[i];var n=a.call.apply(a,[o].concat(e));!r||typeof r!="function"||(n&amp;&amp;n.then?n.then(function(){for(var s=arguments.length,u=new Array(s),l=0;l&lt;s;l++)u[l]=arguments[l];r.call.apply(r,[o].concat(u))}):r.call.apply(r,[o].concat(e)))}function Ye(o,a){var r=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[o]&amp;&amp;(this.__hooks[o]=null),function(){var t=arguments,e=this;if(r.pre)try{var i;(i=r.pre).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))}catch(s){throw s.message="[pluginName: ".concat(this.pluginName,":").concat(o,":pre error] &gt;&gt; ").concat(s.message),s}if(this.__hooks&amp;&amp;this.__hooks[o])try{var n=ne.apply(void 0,[this,o,a].concat(Array.prototype.slice.call(arguments)));n?n.then?n.then(function(s){s!==!1&amp;&amp;Ne.apply(void 0,[e,a,r.next].concat(ee(t)))}).catch(function(s){throw s}):Ne.apply(void 0,[this,a,r.next].concat(Array.prototype.slice.call(arguments))):n===void 0&amp;&amp;Ne.apply(void 0,[this,a,r.next].concat(Array.prototype.slice.call(arguments)))}catch(s){throw s.message="[pluginName: ".concat(this.pluginName,":").concat(o,"] &gt;&gt; ").concat(s.message),s}else Ne.apply(void 0,[this,a,r.next].concat(Array.prototype.slice.call(arguments)))}.bind(this)}function Xi(o,a){var r=this.__hooks;if(!r||!Array.isArray(r[o]))return-1;for(var t=r[o],e=0;e&lt;t.length;e++)if(t[e]===a)return e;return-1}function $e(o,a){var r=this.__hooks;if(r)return r.hasOwnProperty(o)?(Array.isArray(r[o])||(r[o]=[]),Xi.call(this,o,a)===-1&amp;&amp;r[o].push(a),!0):(console.warn("has no supported hook which name [".concat(o,"]")),!1)}function Xe(o,a){var r=this.__hooks;if(r)if(Array.isArray(r[o])){var t=r[o],e=Xi.call(this,o,a);e!==-1&amp;&amp;t.splice(e,1)}else r[o]&amp;&amp;(r[o]=null)}function ti(o){if(!(!this.plugins||!this.plugins[o.toLowerCase()])){for(var a=this.plugins[o.toLowerCase()],r=arguments.length,t=new Array(r&gt;1?r-1:0),e=1;e&lt;r;e++)t[e-1]=arguments[e];return a.useHooks&amp;&amp;a.useHooks.apply(a,t)}}function ii(o){if(!(!this.plugins||!this.plugins[o.toLowerCase()])){var a=this.plugins[o.toLowerCase()];if(a){for(var r=arguments.length,t=new Array(r&gt;1?r-1:0),e=1;e&lt;r;e++)t[e-1]=arguments[e];return a.removeHooks&amp;&amp;a.removeHooks.apply(a,t)}}}function qi(o){var a=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:[];o.__hooks={},a&amp;&amp;a.map(function(r){o.__hooks[r]=null}),Object.defineProperty(o,"hooks",{get:function(){return o.__hooks&amp;&amp;Object.keys(o.__hooks).map(function(t){if(o.__hooks[t])return t})}})}function Zi(o){o.__hooks=null}function ne(o,a,r){for(var t=arguments.length,e=new Array(t&gt;3?t-3:0),i=3;i&lt;t;i++)e[i-3]=arguments[i];if(o.__hooks&amp;&amp;Array.isArray(o.__hooks[a])){var n=o.__hooks[a],s=-1,u=function l(f,h,d){for(var g=arguments.length,p=new Array(g&gt;3?g-3:0),y=3;y&lt;g;y++)p[y-3]=arguments[y];if(s++,n.length===0||s===n.length)return d.call.apply(d,[f,f].concat(p));var _=n[s],b=_.call.apply(_,[f,f].concat(p));if(b&amp;&amp;b.then)return b.then(function(T){return T===!1?null:l.apply(void 0,[f,h,d].concat(p))}).catch(function(T){console.warn("[runHooks]".concat(h," reject"),T.message)});if(b!==!1)return l.apply(void 0,[f,h,d].concat(p));if(b===!1)return!1};return u.apply(void 0,[o,a,r].concat(e))}else return r.call.apply(r,[o,o].concat(e))}function ot(o,a){O.logError("[".concat(o,"] event or callback cant be undefined or null when call ").concat(a))}var pe=(function(){function o(a){E(this,o),c.checkIsFunction(this.beforeCreate)&amp;&amp;this.beforeCreate(a),qi(this),this.__args=a,this.__events={},this.__onceEvents={},this.config=a.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(a)}return S(o,[{key:"beforeCreate",value:function(r){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(r){this.player=r.player,this.playerConfig=r.player&amp;&amp;r.player.config,this.pluginName=r.pluginName?r.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=r.player&amp;&amp;r.player.logger}},{key:"updateLang",value:function(r){r||(r=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var r=c.checkTouchSupport()?"touch":"mouse";return this.playerConfig&amp;&amp;(this.playerConfig.domEventType==="touch"||this.playerConfig.domEventType==="mouse")&amp;&amp;(r=this.playerConfig.domEventType),r}},{key:"on",value:function(r,t){var e=this;if(!r||!t||!this.player){ot(this.pluginName,"plugin.on(event, callback)");return}typeof r=="string"?(this.__events[r]=t,this.player.on(r,t)):Array.isArray(r)&amp;&amp;r.forEach(function(i){e.__events[i]=t,e.player.on(i,t)})}},{key:"once",value:function(r,t){var e=this;if(!r||!t||!this.player){ot(this.pluginName,"plugin.once(event, callback)");return}typeof r=="string"?(this.__onceEvents[r]=t,this.player.once(r,t)):Array.isArray(r)&amp;&amp;r.forEach(function(i){e.__onceEvents[i]=t,e.player.once(r,t)})}},{key:"off",value:function(r,t){var e=this;if(!r||!t||!this.player){ot(this.pluginName,"plugin.off(event, callback)");return}typeof r=="string"?(delete this.__events[r],this.player.off(r,t)):Array.isArray(r)&amp;&amp;r.forEach(function(i){delete e.__events[r],e.player.off(i,t)})}},{key:"offAll",value:function(){var r=this;["__events","__onceEvents"].forEach(function(t){Object.keys(r[t]).forEach(function(e){r[t][e]&amp;&amp;r.off(e,r[t][e]),e&amp;&amp;delete r[t][e]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(r){var t;if(this.player){for(var e=arguments.length,i=new Array(e&gt;1?e-1:0),n=1;n&lt;e;n++)i[n-1]=arguments[n];(t=this.player).emit.apply(t,[r].concat(i))}}},{key:"emitUserAction",value:function(r,t){var e=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:{};if(this.player){var i=U(U({},e),{},{pluginName:this.pluginName});this.player.emitUserAction(r,t,i)}}},{key:"hook",value:function(r,t){return Ye.call.apply(Ye,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(r,t){for(var e=arguments.length,i=new Array(e&gt;2?e-2:0),n=2;n&lt;e;n++)i[n-2]=arguments[n];return $e.call.apply($e,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(r,t){for(var e=arguments.length,i=new Array(e&gt;2?e-2:0),n=2;n&lt;e;n++)i[n-2]=arguments[n];return Xe.call.apply(Xe,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(r){var t=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{},e=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:"";if(this.player)return e&amp;&amp;(t.pluginName=e),this.player.registerPlugin({plugin:r,options:t})}},{key:"getPlugin",value:function(r){return this.player?this.player.getPlugin(r):null}},{key:"__destroy",value:function(){var r=this,t=this.player,e=this.pluginName;this.offAll(),c.clearAllTimers(this),c.checkIsFunction(this.destroy)&amp;&amp;this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(i){r[i]=null}),t.unRegisterPlugin(e),Zi(this)}}],[{key:"defineGetterOrSetter",value:function(r,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&amp;&amp;Object.defineProperty(r,e,t[e])}},{key:"defineMethod",value:function(r,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&amp;&amp;typeof t[e]=="function"&amp;&amp;Object.defineProperty(r,e,{configurable:!0,value:t[e]})}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),o})(),ut,ni;function rr(){if(ni)return ut;ni=1;var o=9;if(typeof Element!="undefined"&amp;&amp;!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function r(t,e){for(;t&amp;&amp;t.nodeType!==o;){if(typeof t.matches=="function"&amp;&amp;t.matches(e))return t;t=t.parentNode}}return ut=r,ut}var lt,ri;function sr(){if(ri)return lt;ri=1;var o=rr();function a(e,i,n,s,u){var l=t.apply(this,arguments);return e.addEventListener(n,l,u),{destroy:function(){e.removeEventListener(n,l,u)}}}function r(e,i,n,s,u){return typeof e.addEventListener=="function"?a.apply(null,arguments):typeof n=="function"?a.bind(null,document).apply(null,arguments):(typeof e=="string"&amp;&amp;(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(l){return a(l,i,n,s,u)}))}function t(e,i,n,s){return function(u){u.delegateTarget=o(u.target,i),u.delegateTarget&amp;&amp;s.call(e,u)}}return lt=r,lt}var ar=sr();const si=Pt(ar);var or={CONTROLS:"controls",ROOT:"root"},H={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"},ai={ICON_DISABLE:"xg-icon-disable"};function ct(o){return o?o.indexOf&amp;&amp;/^(?:http|data:|\/)/.test(o):!1}function ur(o,a){return K(o)==="object"&amp;&amp;o.class&amp;&amp;typeof o.class=="string"?"".concat(a," ").concat(o.class):a}function lr(o,a){return K(o)==="object"&amp;&amp;o.attr&amp;&amp;K(o.attr)==="object"&amp;&amp;Object.keys(o.attr).map(function(r){a[r]=o.attr[r]}),a}function oi(o,a){var r=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:"",t=arguments.length&gt;3&amp;&amp;arguments[3]!==void 0?arguments[3]:{},e=arguments.length&gt;4&amp;&amp;arguments[4]!==void 0?arguments[4]:"",i=null;if(o instanceof window.Element)return c.addClass(o,r),Object.keys(t).map(function(n){o.setAttribute(n,t[n])}),o;if(ct(o)||ct(o.url))return t.src=ct(o)?o:o.url||"",i=c.createDom(o.tag||"img","",t,"xg-img ".concat(r)),i;if(typeof o=="function")try{return i=o(),i instanceof window.Element?(c.addClass(i,r),Object.keys(t).map(function(n){i.setAttribute(n,t[n])}),i):(O.logWarn("warn&gt;&gt;icons.".concat(a," in config of plugin named [").concat(e,"] is a function mast return an Element Object")),null)}catch(n){return O.logError("Plugin named [".concat(e,"]:createIcon"),n),null}return typeof o=="string"?c.createDomFromHtml(o,t,r):(O.logWarn("warn&gt;&gt;icons.".concat(a," in config of plugin named [").concat(e,"] is invalid")),null)}function cr(o,a){var r=a.config.icons||a.playerConfig.icons;Object.keys(o).map(function(t){var e=o[t],i=e&amp;&amp;e.class?e.class:"",n=e&amp;&amp;e.attr?e.attr:{},s=null;r&amp;&amp;r[t]&amp;&amp;(i=ur(r[t],i),n=lr(r[t],n),s=oi(r[t],t,i,n,a.pluginName)),!s&amp;&amp;e&amp;&amp;(s=oi(e.icon?e.icon:e,n,i,{},a.pluginName)),a.icons[t]=s})}function fr(o,a){Object.keys(o).map(function(r){Object.defineProperty(a.langText,r,{get:function(){var e=a.lang,i=a.i18n;return i[r]?i[r]:o[r]&amp;&amp;o[r][e]||""}})})}var F=(function(o){w(r,o);var a=x(r);function r(){var t,e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{};return E(this,r),t=a.call(this,e),t.__delegates=[],t}return S(r,[{key:"__init",value:function(e){if(I(P(r.prototype),"__init",this).call(this,e),!!e.root){var i=e.root,n=null;this.icons={},this.root=null,this.parent=null,this.extraEls=[];var s=this.registerIcons()||{};cr(s,this),this.langText={};var u=this.registerLanguageTexts()||{};fr(u,this);var l="";try{l=this.render()}catch(d){throw O.logError("Plugin:".concat(this.pluginName,":render"),d),new Error("Plugin:".concat(this.pluginName,":render:").concat(d.message))}if(l)n=r.insert(l,i,e.index),n.setAttribute("data-index",e.index);else if(e.tag)n=c.createDom(e.tag,"",e.attr,e.name),n.setAttribute("data-index",e.index),i.appendChild(n);else return;this.root=n,this.parent=i;var f=this.config.attr||{},h=this.config.style||{};this.setAttr(f),this.setStyle(h),this.config.index&amp;&amp;this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var i=this.children();i&amp;&amp;K(i)==="object"&amp;&amp;Object.keys(i).length&gt;0&amp;&amp;Object.keys(i).map(function(n){var s=n,u=i[s],l={root:e.root},f,h;typeof u=="function"?(f=e.config[s]||{},h=u):K(u)==="object"&amp;&amp;typeof u.plugin=="function"&amp;&amp;(f=u.options?c.deepCopy(e.config[s]||{},u.options):e.config[s]||{},h=u.plugin),l.config=f,f.index!==void 0&amp;&amp;(l.index=f.index),f.root&amp;&amp;(l.root=f.root),e.registerPlugin(h,l,s)})}}},{key:"updateLang",value:function(e){e||(e=this.lang);function i(l,f){for(var h=0;h&lt;l.children.length;h++)l.children[h].children.length&gt;0?i(l.children[h],f):f(l.children[h])}var n=this.root,s=this.i18n,u=this.langText;n&amp;&amp;i(n,function(l){var f=l.getAttribute&amp;&amp;l.getAttribute("lang-key");if(f){var h=s[f.toUpperCase()]||u[f];h&amp;&amp;(l.innerHTML=typeof h=="function"?h(e):h)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:"",n=this.i18n||{},s=this.langText;e.setAttribute&amp;&amp;e.setAttribute("lang-key",i);var u=n[i]||s[i]||"";u&amp;&amp;(e.innerHTML=u)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,c.addClass(this.find(".xgplayer-icon"),ai.ICON_DISABLE)}},{key:"enable",value:function(){this.config.disable=!1,c.removeClass(this.find(".xgplayer-icon"),ai.ICON_DISABLE)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{},n=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:"";i.root=i.root||this.root;var s=I(P(r.prototype),"registerPlugin",this).call(this,e,i,n);return this._children.push(s),s}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,i,n){var s=this;if(arguments.length&lt;3&amp;&amp;typeof i=="function")Array.isArray(e)?e.forEach(function(l){s.bindEL(l,i)}):this.bindEL(e,i);else{var u=r.delegate.call(this,this.root,e,i,n);this.__delegates=this.__delegates.concat(u)}}},{key:"unbind",value:function(e,i){var n=this;if(arguments.length&lt;3&amp;&amp;typeof i=="function")Array.isArray(e)?e.forEach(function(l){n.unbindEL(l,i)}):this.unbindEL(e,i);else for(var s="".concat(e,"_").concat(i),u=0;u&lt;this.__delegates.length;u++)if(this.__delegates[u].key===s){this.__delegates[u].destroy(),this.__delegates.splice(u,1);break}}},{key:"setStyle",value:function(e,i){var n=this;if(this.root){if(c.typeOf(e)==="String")return this.root.style[e]=i;c.typeOf(e)==="Object"&amp;&amp;Object.keys(e).map(function(s){n.root.style[s]=e[s]})}}},{key:"setAttr",value:function(e,i){var n=this;if(this.root){if(c.typeOf(e)==="String")return this.root.setAttribute(e,i);c.typeOf(e)==="Object"&amp;&amp;Object.keys(e).map(function(s){n.root.setAttribute(s,e[s])})}}},{key:"setHtml",value:function(e,i){this.root&amp;&amp;(this.root.innerHTML=e,typeof i=="function"&amp;&amp;i())}},{key:"bindEL",value:function(e,i){var n=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:!1;this.root&amp;&amp;"on".concat(e)in this.root&amp;&amp;typeof i=="function"&amp;&amp;this.root.addEventListener(e,i,n)}},{key:"unbindEL",value:function(e,i){var n=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:!1;this.root&amp;&amp;"on".concat(e)in this.root&amp;&amp;typeof i=="function"&amp;&amp;this.root.removeEventListener(e,i,n)}},{key:"show",value:function(e){if(this.root){this.root.style.display=e!==void 0?e:"block";var i=window.getComputedStyle(this.root,null),n=i.getPropertyValue("display");if(n==="none")return this.root.style.display="block"}}},{key:"hide",value:function(){this.root&amp;&amp;(this.root.style.display="none")}},{key:"appendChild",value:function(e,i){if(!this.root)return null;if(arguments.length&lt;2&amp;&amp;arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!i||!(i instanceof window.Element))return null;try{return typeof e=="string"?this.find(e).appendChild(i):e.appendChild(i)}catch(n){return O.logError("Plugin:appendChild",n),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,i=this.player;this.__delegates.map(function(n){n.destroy()}),this.__delegates=[],this._children instanceof Array&amp;&amp;(this._children.map(function(n){i.unRegisterPlugin(n.pluginName)}),this._children=null),this.root&amp;&amp;(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&amp;&amp;this.root.parentNode.removeChild(this.root)),I(P(r.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(n){e[n]=null}),this.extraEls=[]}}],[{key:"insert",value:function(e,i){var n=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:0,s=i.children.length,u=Number(n),l=e instanceof window.Node;if(s){for(var f=0,h=null,d="";f&lt;s;f++){h=i.children[f];var g=Number(h.getAttribute("data-index"));if(g&gt;=u){d="beforebegin";break}else g&lt;u&amp;&amp;(d="afterend")}return l?d==="afterend"?i.appendChild(e):i.insertBefore(e,h):h.insertAdjacentHTML(d,e),d==="afterend"?i.children[i.children.length-1]:i.children[f]}else return l?i.appendChild(e):i.insertAdjacentHTML("beforeend",e),i.children[i.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,i,n,s){var u=arguments.length&gt;4&amp;&amp;arguments[4]!==void 0?arguments[4]:!1,l=[];if(e instanceof window.Node&amp;&amp;typeof s=="function")if(Array.isArray(n))n.forEach(function(h){var d=si(e,i,h,s,u);d.key="".concat(i,"_").concat(h),l.push(d)});else{var f=si(e,i,n,s,u);f.key="".concat(i,"_").concat(n),l.push(f)}return l}},{key:"ROOT_TYPES",get:function(){return or}},{key:"POSITIONS",get:function(){return H}}]),r})(pe),hr=(function(){function o(){var a=this;if(E(this,o),m(this,"__trigger",function(r){var t=new Date().getTime();a.timeStamp=t;for(var e=0;e&lt;r.length;e++)a.__runHandler(r[e].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver(Un(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(r){console.error(r)}}return S(o,[{key:"addObserver",value:function(r,t){if(this.observer){this.observer.observe(r);for(var e=r.getAttribute(he),i=this.__handlers,n=-1,s=0;s&lt;i.length;s++)i[s]&amp;&amp;r===i[s].target&amp;&amp;(n=s);n&gt;-1?this.__handlers[n].handler=t:this.__handlers.push({target:r,handler:t,playerId:e})}}},{key:"unObserver",value:function(r){var t=-1;this.__handlers.map(function(i,n){r===i.target&amp;&amp;(t=n)});try{var e;(e=this.observer)===null||e===void 0||e.unobserve(r)}catch(i){}t&gt;-1&amp;&amp;this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){var r;(r=this.observer)===null||r===void 0||r.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(r){for(var t=this.__handlers,e=0;e&lt;t.length;e++)if(t[e]&amp;&amp;r===t[e].target){try{t[e].handler(r)}catch(i){console.error(i)}return!0}return!1}}]),o})(),De=null;function dr(o,a){return De||(De=new hr),De.addObserver(o,a),De}function gr(o,a){var r;(r=De)===null||r===void 0||r.unObserver(o,a)}var G={pluginGroup:{},init:function(a){var r=a._pluginInfoId;r||(r=new Date().getTime(),a._pluginInfoId=r),!a.config.closeResizeObserver&amp;&amp;dr(a.root,function(){a.resize()}),this.pluginGroup[r]={_originalOptions:a.config||{},_plugins:{}}},formatPluginInfo:function(a,r){var t=null,e=null;return a.plugin&amp;&amp;typeof a.plugin=="function"?(t=a.plugin,e=a.options):(t=a,e={}),r&amp;&amp;(e.config=r||{}),{PLUFGIN:t,options:e}},checkPluginIfExits:function(a,r){for(var t=0;t&lt;r.length;t++)if(a.toLowerCase()===r[t].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(a,r){for(var t=Object.keys(r),e=null,i=0;i&lt;t.length;i++)if(a.toLowerCase()===t[i].toLowerCase()){e=r[t[i]];break}return c.typeOf(e)==="Object"?{root:e.root,position:e.position}:{}},lazyRegister:function(a,r){var t=this,e=r.timeout||1500;return Promise.race([r.loader().then(function(i){var n;i&amp;&amp;i.__esModule?n=i.default:n=i,t.register(a,n,i.options)}),new Promise(function(i,n){setTimeout(function(){n(new Error("timeout"))},e)})])},register:function(a,r){var t=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:{};if(!(!a||!r||typeof r!="function"||r.prototype===void 0)){var e=a._pluginInfoId;if(!(!e||!this.pluginGroup[e])){this.pluginGroup[e]._plugins||(this.pluginGroup[e]._plugins={});var i=this.pluginGroup[e]._plugins,n=this.pluginGroup[e]._originalOptions;t.player=a;var s=t.pluginName||r.pluginName;if(!s)throw new Error("The property pluginName is necessary");if(r.isSupported&amp;&amp;!r.isSupported(a.config.mediaType,a.config.codecType)){console.warn("not supported plugin [".concat(s,"]"));return}t.config||(t.config={});for(var u=Object.keys(n),l=0;l&lt;u.length;l++)if(s.toLowerCase()===u[l].toLowerCase()){var f=n[u[l]];c.typeOf(f)==="Object"?t.config=Object.assign({},t.config,n[u[l]]):c.typeOf(f)==="Boolean"&amp;&amp;(t.config.disable=!f);break}r.defaultConfig&amp;&amp;Object.keys(r.defaultConfig).forEach(function(d){typeof t.config[d]=="undefined"&amp;&amp;(t.config[d]=r.defaultConfig[d])}),t.root?typeof t.root=="string"&amp;&amp;(t.root=a[t.root]):t.root=a.root,t.index=t.config.index||0;try{i[s.toLowerCase()]&amp;&amp;(this.unRegister(e,s.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(s,"] exist, destroy the old instance")));var h=new r(t);return i[s.toLowerCase()]=h,i[s.toLowerCase()].func=r,h&amp;&amp;typeof h.afterCreate=="function"&amp;&amp;h.afterCreate(),h}catch(d){throw console.error(d),d}}}},unRegister:function(a,r){a._pluginInfoId&amp;&amp;(a=a._pluginInfoId),r=r.toLowerCase();try{var t=this.pluginGroup[a]._plugins[r];t&amp;&amp;(t.pluginName&amp;&amp;t.__destroy(),delete this.pluginGroup[a]._plugins[r])}catch(e){console.error("[unRegister:".concat(r,"] cgid:[").concat(a,"] error"),e)}},deletePlugin:function(a,r){var t=a._pluginInfoId;t&amp;&amp;this.pluginGroup[t]&amp;&amp;this.pluginGroup[t]._plugins&amp;&amp;delete this.pluginGroup[t]._plugins[r]},getPlugins:function(a){var r=a._pluginInfoId;return r&amp;&amp;this.pluginGroup[r]?this.pluginGroup[r]._plugins:{}},findPlugin:function(a,r){var t=a._pluginInfoId;if(!t||!this.pluginGroup[t])return null;var e=r.toLowerCase();return this.pluginGroup[t]._plugins[e]},beforeInit:function(a){var r=this;function t(e){return!e||!e.then?new Promise(function(i){i()}):e}return new Promise(function(e){if(r.pluginGroup){var i;return a._loadingPlugins&amp;&amp;a._loadingPlugins.length?i=Promise.all(a._loadingPlugins):i=Promise.resolve(),i.then(function(){var n=a._pluginInfoId;if(!r.pluginGroup[n]){e();return}var s=r.pluginGroup[n]._plugins,u=[];Object.keys(s).forEach(function(l){if(s[l]&amp;&amp;s[l].beforePlayerInit)try{var f=s[l].beforePlayerInit();u.push(t(f))}catch(h){throw u.push(t(null)),h}}),Promise.all([].concat(u)).then(function(){e()}).catch(function(l){console.error(l),e()})})}})},afterInit:function(a){var r=a._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var t=this.pluginGroup[r]._plugins;Object.keys(t).forEach(function(e){t[e]&amp;&amp;t[e].afterPlayerInit&amp;&amp;t[e].afterPlayerInit()})}},setLang:function(a,r){var t=r._pluginInfoId;if(!(!t||!this.pluginGroup[t])){var e=this.pluginGroup[t]._plugins;Object.keys(e).forEach(function(i){if(e[i].updateLang)e[i].updateLang(a);else try{e[i].lang=a}catch(n){console.warn("".concat(i," setLang"))}})}},reRender:function(a){var r=this,t=a._pluginInfoId;if(!(!t||!this.pluginGroup[t])){var e=[],i=this.pluginGroup[t]._plugins;Object.keys(i).forEach(function(n){n!=="controls"&amp;&amp;i[n]&amp;&amp;(e.push({plugin:i[n].func,options:i[n].__args}),r.unRegister(t,n))}),e.forEach(function(n){r.register(a,n.plugin,n.options)})}},onPluginsReady:function(a){var r=a._pluginInfoId;if(!(!r||!this.pluginGroup[r])){var t=this.pluginGroup[r]._plugins||{};Object.keys(t).forEach(function(e){t[e].onPluginsReady&amp;&amp;typeof t[e].onPluginsReady=="function"&amp;&amp;t[e].onPluginsReady()})}},destroy:function(a){var r=a._pluginInfoId;if(this.pluginGroup[r]){gr(a.root);for(var t=this.pluginGroup[r]._plugins,e=0,i=Object.keys(t);e&lt;i.length;e++){var n=i[e];this.unRegister(r,n)}delete this.pluginGroup[r],delete a._pluginInfoId}}},C={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function ui(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:Vn(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var pr=function(a,r){var t,e,i;r.preset&amp;&amp;r.options?i=new r.preset(r.options,a.config):i=new r({},a.config);var n=i,s=n.plugins,u=s===void 0?[]:s,l=n.ignores,f=l===void 0?[]:l,h=n.icons,d=h===void 0?{}:h,g=n.i18n,p=g===void 0?[]:g;a.config.plugins||(a.config.plugins=[]),a.config.ignores||(a.config.ignores=[]),(t=a.config.plugins).push.apply(t,ee(u)),(e=a.config.ignores).push.apply(e,ee(f)),Object.keys(d).map(function(_){a.config.icons[_]||(a.config.icons[_]=d[_])});var y=a.config.i18n||[];p.push.apply(p,ee(y)),a.config.i18n=p},vr=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"onMouseEnter",function(s){var u=v(t),l=u.player,f=u.playerConfig;f.closeControlsBlur&amp;&amp;l.focus({autoHide:!1})}),m(v(t),"onMouseLeave",function(s){var u=v(t),l=u.player;l.focus()}),t}return S(r,[{key:"beforeCreate",value:function(e){!e.config.mode&amp;&amp;L.device==="mobile"&amp;&amp;(e.config.mode="flex"),e.player.config.marginControls&amp;&amp;(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,i=this.config,n=i.disable,s=i.height,u=i.mode;if(!n){u==="flex"&amp;&amp;this.player.addClass(C.FLEX_CONTROLS);var l={height:"".concat(s,"px")};Object.keys(l).map(function(h){e.root.style[h]=l[h]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(Ge,function(h){h?c.addClass(e.root,"mini-controls"):c.removeClass(e.root,"mini-controls")});var f=this.playerConfig.isMobileSimulateMode;L.device!=="mobile"&amp;&amp;f!=="mobile"&amp;&amp;(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&amp;&amp;c.addClass(this.root,C.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){c.removeClass(this.root,C.CONTROLS_AUTOHIDE)}},{key:"show",value:function(e){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{},n=arguments.length&gt;2?arguments[2]:void 0;if(this.root){var s=e.defaultConfig||{};if(!i.root){var u=i.position?i.position:i.config&amp;&amp;i.config.position?i.config.position:s.position;switch(u){case H.CONTROLS_LEFT:i.root=this.left;break;case H.CONTROLS_RIGHT:i.root=this.right;break;case H.CONTROLS_CENTER:i.root=this.center;break;case H.CONTROLS:i.root=this.root;break;default:i.root=this.left}return I(P(r.prototype),"registerPlugin",this).call(this,e,i,n)}}}},{key:"destroy",value:function(){L.device!=="mobile"&amp;&amp;(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave)),this.left=null,this.center=null,this.right=null,this.innerRoot=null}},{key:"render",value:function(){var e=this.config,i=e.mode,n=e.autoHide,s=e.initShow,u=e.disable;if(!u){var l=c.classNames({"xgplayer-controls":!0},{"flex-controls":i==="flex"},{"bottom-controls":i==="bottom"},m({},C.CONTROLS_AUTOHIDE,n),{"xgplayer-controls-initshow":s||!n});return'&lt;xg-controls class="'.concat(l,`" unselectable="on"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;xg-inner-controls class="xg-inner-controls xg-pos"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-left-grid class="xg-left-grid"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/xg-left-grid&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-center-grid class="xg-center-grid"&gt;&lt;/xg-center-grid&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-right-grid class="xg-right-grid"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/xg-right-grid&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-inner-controls&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-controls&gt;`)}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),r})(F),mr={LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}},X={lang:{},langKeys:[],textKeys:[]};function Re(o,a){return Object.keys(a).forEach(function(r){var t=c.typeOf(a[r]),e=c.typeOf(o[r]);if(t==="Array"){var i;e!=="Array"&amp;&amp;(o[r]=[]),(i=o[r]).push.apply(i,ee(a[r]))}else t==="Object"?(e!=="Object"&amp;&amp;(o[r]={}),Re(o[r],a[r])):o[r]=a[r]}),o}function Ji(){Object.keys(X.lang.en).map(function(o){X.textKeys[o]=o})}function yr(o,a){var r=[];if(a||(a=X),!!a.lang){c.typeOf(o)!=="Array"?r=Object.keys(o).map(function(i){var n=i==="zh"?"zh-cn":i;return{LANG:n,TEXT:o[i]}}):r=o;var t=a,e=t.lang;r.map(function(i){i.LANG==="zh"&amp;&amp;(i.LANG="zh-cn"),e[i.LANG]?Re(e[i.LANG]||{},i.TEXT||{}):Ft(i,a)}),Ji()}}function Ft(o,a){var r=o.LANG;if(a||(a=X),!!a.lang){var t=o.TEXT||{};r==="zh"&amp;&amp;(r="zh-cn"),a.lang[r]?Re(a.lang[r],t):(a.langKeys.push(r),a.lang[r]=t),Ji()}}function _r(o){var a,r={lang:{},langKeys:[],textKeys:{},pId:o};return Re(r.lang,X.lang),(a=r.langKeys).push.apply(a,ee(X.langKeys)),Re(r.textKeys,X.textKeys),r}Ft(mr);var Ie={get textKeys(){return X.textKeys},get langKeys(){return X.langKeys},get lang(){var o={};return X.langKeys.map(function(a){o[a]=X.lang[a]}),X.lang["zh-cn"]&amp;&amp;(o.zh=X.lang["zh-cn"]||{}),o},extend:yr,use:Ft,init:_r},N={INITIAL:1,READY:2,ATTACHING:3,ATTACHED:4,NOTALLOW:5,RUNNING:6,ENDED:7},li=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],Y={},ft=null,Qi=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"add",value:function(e){e&amp;&amp;(Y[e.playerId]=e,Object.keys(Y).length===1&amp;&amp;this.setActive(e.playerId,!0))}},{key:"remove",value:function(e){e&amp;&amp;(e.isUserActive,delete Y[e.playerId])}},{key:"_iterate",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:!1;for(var n in Y)if(Object.prototype.hasOwnProperty.call(Y,n)){var s=Y[n];if(i){if(e(s))break}else e(s)}}},{key:"forEach",value:function(e){this._iterate(e)}},{key:"find",value:function(e){var i=null;return this._iterate(function(n){var s=e(n);return s&amp;&amp;(i=n),s},!0),i}},{key:"findAll",value:function(e){var i=[];return this._iterate(function(n){e(n)&amp;&amp;i.push(n)}),i}},{key:"setActive",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:!0;if(Y[e])return i?this.forEach(function(n){e===n.playerId?(n.isUserActive=!0,n.isInstNext=!1):n.isUserActive=!1}):Y[e].isUserActive=i,e}},{key:"getActiveId",value:function(){for(var e=Object.keys(Y),i=0;i&lt;e.length;i++){var n=Y[e[i]];if(n&amp;&amp;n.isUserActive)return e[i]}return null}},{key:"setNext",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:!0;if(Y[e])return i?this.forEach(function(n){e===n.playerId?(n.isUserActive=!1,n.isInstNext=!0):n.isInstNext=!1}):Y[e].isInstNext=i,e}}],[{key:"getInstance",value:function(){return ft||(ft=new r),ft}}]),r})(Ii.EventEmitter);function Cr(o){for(var a=Object.keys(Y),r=0;r&lt;a.length;r++){var t=Y[a[r]];if(t.root===o)return t}return null}var kr=["play","pause","replay","retry"],ci=0,fi=0,le=null,tt=(function(o){w(r,o);var a=x(r);function r(t){var e;E(this,r);var i=c.deepMerge(ui(),t);e=a.call(this,i),m(v(e),"canPlayFunc",function(){if(e.config){var p=e.config,y=p.autoplay,_=p.defaultPlaybackRate;O.logInfo("player","canPlayFunc, startTime",e.__startTime),e._seekToStartTime(),e.playbackRate=_,(y||e._useAutoplay)&amp;&amp;e.mediaPlay(),e.off(se,e.canPlayFunc),e.removeClass(C.ENTER)}}),m(v(e),"onFullscreenChange",function(p,y){var _=function(){c.setTimeout(v(e),function(){e.resize()},100)},b=c.getFullScreenEl();e._fullActionFrom?e._fullActionFrom="":e.emit(Ke,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:e.currentTime,duration:e.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var T=jn(b,e.playerId,he);if(y||b&amp;&amp;(b===e._fullscreenEl||T))_(),!e.config.closeFocusVideoFocus&amp;&amp;e.media.focus(),e.fullscreen=!0,e.changeFullStyle(e.root,b,C.FULLSCREEN),e.emit(re,!0,e._fullScreenOffset),e.cssfullscreen&amp;&amp;e.exitCssFullscreen();else if(e.fullscreen){_();var k=v(e),D=k._fullScreenOffset,A=k.config;if(A.needFullscreenScroll?(window.scrollTo(D.left,D.top),c.setTimeout(v(e),function(){e.fullscreen=!1,e._fullScreenOffset=null},100)):(!e.config.closeFocusVideoFocus&amp;&amp;e.media.focus(),e.fullscreen=!1,e._fullScreenOffset=null),e.cssfullscreen)e.removeClass(C.FULLSCREEN);else{var B=e._fullscreenEl;!B&amp;&amp;(e.root.contains(p.target)||p.target===e.root)&amp;&amp;(B=p.target),e.recoverFullStyle(e.root,B,C.FULLSCREEN)}e._fullscreenEl=null,e.emit(re,!1)}}),m(v(e),"_onWebkitbeginfullscreen",function(p){e._fullscreenEl=e.media,e.onFullscreenChange(p,!0)}),m(v(e),"_onWebkitendfullscreen",function(p){e.onFullscreenChange(p,!1)}),qi(v(e),kr),e.config=i,e._pluginInfoId=c.generateSessionId(),Nn(v(e));var n=e.constructor.defaultPreset;if(e.config.presets.length){var s=e.config.presets.indexOf("default");s&gt;=0&amp;&amp;n&amp;&amp;(e.config.presets[s]=n)}else n&amp;&amp;e.config.presets.push(n);e.userTimer=null,e.waitTimer=null,e.handleSource=!0,e._state=N.INITIAL,e.isAd=!1,e.isError=!1,e._hasStart=!1,e.isSeeking=!1,e.isCanplay=!1,e._useAutoplay=!1,e.__startTime=-1,e.rotateDeg=0,e.isActive=!1,e.fullscreen=!1,e.cssfullscreen=!1,e.isRotateFullscreen=!1,e._fullscreenEl=null,e.timeSegments=[],e._cssfullscreenEl=null,e.curDefinition=null,e._orgCss="",e._fullScreenOffset=null,e._videoHeight=0,e._videoWidth=0,e.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},e.sizeInfo={width:0,height:0,left:0,top:0},e._accPlayed={t:0,acc:0,loopAcc:0},e._offsetInfo={currentTime:-1,duration:0},e.innerContainer=null,e.controls=null,e.topBar=null,e.root=null,e.__i18n=Ie.init(e._pluginInfoId),L.os.isAndroid&amp;&amp;L.osVersion&gt;0&amp;&amp;L.osVersion&lt;6&amp;&amp;(e.config.autoplay=!1),e.database=new nr,e.isUserActive=!1,e._onceSeekCanplay=null,e._isPauseBeforeSeek=0,e.innerStates={isActiveLocked:!1},e.instManager=le;var u=e._initDOM();if(!u)return console.error(new Error("can't find the dom which id is ".concat(e.config.id," or this.config.el does not exist"))),It(e);var l=e.config,f=l.definition,h=f===void 0?{}:f,d=l.url;if(!d&amp;&amp;h.list&amp;&amp;h.list.length&gt;0){var g=h.list.find(function(p){return p.definition&amp;&amp;p.definition===h.defaultDefinition});g||(h.defaultDefinition=h.list[0].definition,g=h.list[0]),e.config.url=g.url,e.curDefinition=g}return e._bindEvents(),e._registerPresets(),e._registerPlugins(),G.onPluginsReady(v(e)),e.getInitDefinition(),e.setState(N.READY),c.setTimeout(v(e),function(){e.emit(Rt)},0),e.onReady&amp;&amp;e.onReady(),(e.config.videoInit||e.config.autoplay)&amp;&amp;(!e.hasStart||e.state&lt;N.ATTACHED)&amp;&amp;e.start(),e}return S(r,[{key:"_initDOM",value:function(){var e,i=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var n=this.config.el;if(n&amp;&amp;n.nodeType===1)this.root=n;else return this.emit(Oe,new Ve("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1}var s=Cr(this.root);if(s&amp;&amp;(O.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),s.destroy()),this.root.setAttribute(he,this.playerId),this.media.setAttribute(he,this.playerId),(e=le)===null||e===void 0||e.add(this),G.init(this),this._initBaseDoms(),this.config.controls){var u=this.config.controls.root||null,l=G.register(this,vr,{root:u});this.controls=l}var f=this.config.isMobileSimulateMode==="mobile"?"mobile":L.device;if(this.addClass("".concat(C.DEFAULT," ").concat(C.INACTIVE," xgplayer-").concat(f," ").concat(this.config.controls?"":C.NO_CONTROLS)),this.config.autoplay?this.addClass(C.ENTER):this.addClass(C.NO_START),this.config.fluid){var h=this.config,d=h.width,g=h.height;(typeof d!="number"||typeof g!="number")&amp;&amp;(d=600,g=337.5);var p={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(g*100/d,"%")};Object.keys(p).forEach(function(D){i.root.style[D]=p[D]})}else["width","height"].forEach(function(D){i.config[D]&amp;&amp;(typeof i.config[D]!="number"?i.root.style[D]=i.config[D]:i.root.style[D]="".concat(i.config[D],"px"))});var y=this.root.getBoundingClientRect(),_=y.width,b=y.height,T=y.left,k=y.top;return this.sizeInfo.width=_,this.sizeInfo.height=b,this.sizeInfo.left=T,this.sizeInfo.top=k,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&amp;&amp;(this.innerContainer=c.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach(function(i){e.on(i,e["on"+i.charAt(0).toUpperCase()+i.slice(1)])}),Jt.forEach(function(i){document&amp;&amp;document.addEventListener(i,e.onFullscreenChange)}),L.os.isIos&amp;&amp;(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(oe,this.resize),this.playFunc=function(){e.config.closeFocusVideoFocus||e.media.focus()},this.once(Z,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),Jt.forEach(function(i){document.removeEventListener(i,e.onFullscreenChange)}),this.playFunc&amp;&amp;this.off(Z,this.playFunc),this.off(se,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_clearUserTimer",value:function(){this.userTimer&amp;&amp;(c.clearTimeout(this,this.userTimer),this.userTimer=null)}},{key:"_startInit",value:function(e){var i=this,n=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{};if(this.media&amp;&amp;!((!e||e===""||c.typeOf(e)==="Array"&amp;&amp;e.length===0)&amp;&amp;(e="",this.emit(Ni),O.logWarn("config.url is null, please get url and run player._startInit(url)"),this.config.nullUrlStart))){c.isNotNull(n.playSessionId)&amp;&amp;(this._playSessionId=n.playSessionId),this.handleSource&amp;&amp;(this._detachSourceEvents(this.media),c.typeOf(e)==="Array"&amp;&amp;e.length&gt;0?this._attachSourceEvents(this.media,e):!this.media.src||this.media.src!==e?this.media.src=e:e||this.media.removeAttribute("src")),c.typeOf(this.config.volume)==="Number"&amp;&amp;(this.volume=this.config.volume);var s=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&amp;&amp;!s.contains(this.media)&amp;&amp;s.insertBefore(this.media,s.firstChild);var u=this.media.readyState;O.logInfo("_startInit readyState",u),this.config.autoplay&amp;&amp;(!c.isMSE(this.media)&amp;&amp;this.load(),(L.os.isIpad||L.os.isPhone)&amp;&amp;this.mediaPlay());var l=this.config.startTime;this.__startTime=l&gt;0?l:-1,this.config.startTime=0,u&gt;=2&amp;&amp;this.duration&gt;0?this.canPlayFunc():this.on(se,this.canPlayFunc),(!this.hasStart||this.state&lt;N.ATTACHED)&amp;&amp;G.afterInit(this),this.hasStart=!0,this.setState(N.ATTACHED),c.setTimeout(this,function(){i.emit(Je)},0)}}},{key:"_registerPlugins",value:function(){var e=this,i=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:!0;this._loadingPlugins=[];var n=this.config.ignores||[],s=this.config.plugins||[],u=this.config.i18n||[];i&amp;&amp;Ie.extend(u,this.__i18n);var l=n.join("||").toLowerCase().split("||"),f=this.plugins;s.forEach(function(h){try{var d=h.plugin?h.plugin.pluginName:h.pluginName;if(d&amp;&amp;l.indexOf(d.toLowerCase())&gt;-1)return null;if(!i&amp;&amp;f[d.toLowerCase()])return;if(h.lazy&amp;&amp;h.loader){var g=G.lazyRegister(e,h);h.forceBeforeInit&amp;&amp;(g.then(function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(g),1)}).catch(function(p){O.logError("_registerPlugins:loadingPlugin",p),e._loadingPlugins.splice(e._loadingPlugins.indexOf(g),1)}),e._loadingPlugins.push(g));return}return e.registerPlugin(h)}catch(p){O.logError("_registerPlugins:",p)}})}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach(function(i){pr(e,i)})}},{key:"_getRootByPosition",value:function(e){var i=null;switch(e){case H.ROOT_RIGHT:this.rightBar||(this.rightBar=c.createPositionBar("xg-right-bar",this.root)),i=this.rightBar;break;case H.ROOT_LEFT:this.leftBar||(this.leftBar=c.createPositionBar("xg-left-bar",this.root)),i=this.leftBar;break;case H.ROOT_TOP:this.topBar||(this.topBar=c.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&amp;&amp;c.addClass(this.topBar,C.TOP_BAR_AUTOHIDE)),i=this.topBar;break;default:i=this.innerContainer||this.root;break}return i}},{key:"registerPlugin",value:function(e,i){var n=G.formatPluginInfo(e,i),s=n.PLUFGIN,u=n.options,l=this.config.plugins,f=G.checkPluginIfExits(s.pluginName,l);!f&amp;&amp;l.push(s);var h=G.getRootByConfig(s.pluginName,this.config);h.root&amp;&amp;(u.root=h.root),h.position&amp;&amp;(u.position=h.position);var d=u.position?u.position:u.config&amp;&amp;u.config.position||s.defaultConfig&amp;&amp;s.defaultConfig.position;if(!u.root&amp;&amp;typeof d=="string"&amp;&amp;d.indexOf("controls")&gt;-1){var g;return(g=this.controls)===null||g===void 0?void 0:g.registerPlugin(s,u,s.pluginName)}return u.root||(u.root=this._getRootByPosition(d)),G.register(this,s,u)}},{key:"deregister",value:function(e){typeof e=="string"?G.unRegister(this,e):e instanceof pe&amp;&amp;G.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:!1;this.deregister(e),i&amp;&amp;this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var i;if(typeof e=="string"?i=e:e instanceof pe&amp;&amp;(i=e.pluginName),!!i)for(var n=this.config.plugins.length-1;n&gt;-1;n--){var s=this.config.plugins[n];if(s.pluginName.toLowerCase()===i.toLowerCase()){this.config.plugins.splice(n,1);break}}}},{key:"plugins",get:function(){return G.getPlugins(this)}},{key:"getPlugin",value:function(e){var i=G.findPlugin(this,e);return i&amp;&amp;i.pluginName?i:null}},{key:"addClass",value:function(e){this.root&amp;&amp;(c.hasClass(this.root,e)||c.addClass(this.root,e))}},{key:"removeClass",value:function(e){this.root&amp;&amp;c.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(this.root)return c.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,i){this.root&amp;&amp;this.root.setAttribute(e,i)}},{key:"removeAttribute",value:function(e,i){this.root&amp;&amp;this.root.removeAttribute(e,i)}},{key:"start",value:function(e){var i=this;if(!(this.state&gt;N.ATTACHING)){var n=this._playSessionId;return c.isNotNull(n)&amp;&amp;(this._playSessionId=void 0),!e&amp;&amp;!this.config.url&amp;&amp;this.getInitDefinition(),this.hasStart=!0,this.setState(N.ATTACHING),this._registerPlugins(!1),G.beforeInit(this).then(function(){if(i.config){e||(e=i.url||i.config.url);var s=i.preProcessUrl(e),u=i._startInit(s.url,{playSessionId:n});return u}}).catch(function(s){throw s.fileName="player",s.lineNumber="236",O.logError("start:beforeInit:",s),s})}}},{key:"switchURL",value:function(e,i){var n=this,s=e;c.typeOf(e)==="Object"&amp;&amp;(s=e.url),s=this.preProcessUrl(s).url;var u=this.currentTime;this.__startTime=u;var l=this.paused&amp;&amp;!this.isError;return this.src=s,new Promise(function(f,h){var d=function(y){n.off("timeupdate",g),n.off("canplay",g),h(y)},g=function(){n._seekToStartTime(),l&amp;&amp;n.pause(),n.off("error",d),f(!0)};if(n.once("error",d),!s){n.errorHandler("error",{code:6,message:"empty_src"});return}L.os.isAndroid?n.once("timeupdate",g):n.once("canplay",g),n.play()})}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&amp;&amp;this.state&lt;N.ATTACHED){this.removeClass(C.NO_START),this.addClass(C.ENTER),this.start(),this._useAutoplay=!0;return}this.state&lt;N.RUNNING&amp;&amp;(this.removeClass(C.NO_START),!this.isCanplay&amp;&amp;this.addClass(C.ENTER));var i=I(P(r.prototype),"play",this).call(this);return i!==void 0&amp;&amp;i&amp;&amp;i.then?i.then(function(){e.removeClass(C.NOT_ALLOW_AUTOPLAY),e.addClass(C.PLAYING),e.state&lt;N.RUNNING&amp;&amp;(O.logInfo("&gt;&gt;&gt;&gt;playPromise.then"),e.setState(N.RUNNING),e.emit(_e))}).catch(function(n){if(O.logWarn("&gt;&gt;&gt;&gt;playPromise.catch",n.name),e.media&amp;&amp;e.media.error){e.onError(),e.removeClass(C.ENTER);return}n.name==="NotAllowedError"&amp;&amp;(e._errorTimer=c.setTimeout(e,function(){e._errorTimer=null,e.emit(Ot),e.addClass(C.NOT_ALLOW_AUTOPLAY),e.removeClass(C.ENTER),e.pause(),e.setState(N.NOTALLOW)},0))}):(O.logWarn("video.play not return promise"),this.state&lt;N.RUNNING&amp;&amp;(this.setState(N.RUNNING),this.removeClass(C.NOT_ALLOW_AUTOPLAY),this.removeClass(C.NO_START),this.removeClass(C.ENTER),this.addClass(C.PLAYING),this.emit(_e))),i}},{key:"mediaPause",value:function(){I(P(r.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){I(P(r.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(C.PAUSED),ne(this,"play",function(){return e.mediaPlay()})}},{key:"pause",value:function(){var e=this;ne(this,"pause",function(){I(P(r.prototype),"pause",e).call(e)})}},{key:"seek",value:function(e,i){var n=this;if(!(!this.media||Number.isNaN(Number(e))||!this.hasStart)){var s=this.config,u=s.isSeekedPlay,l=s.seekedStatus,f=i||(u?"play":l);e=e&lt;0?0:e&gt;this.duration?parseInt(this.duration,10):e,!this._isPauseBeforeSeek&amp;&amp;(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&amp;&amp;this.off(ae,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(n.removeClass(C.ENTER),n.isSeeking=!1,f){case"play":n.play();break;case"pause":n.pause();break;default:n._isPauseBeforeSeek&gt;1||n.paused?n.pause():n.play()}n._isPauseBeforeSeek=0,n._onceSeekCanplay=null},this.once(ae,this._onceSeekCanplay),this.state&lt;N.RUNNING?(this.removeClass(C.NO_START),this.currentTime=e,this.play()):this.currentTime=e}}},{key:"getInitDefinition",value:function(){var e=this,i=this.config,n=i.definition,s=i.url;!s&amp;&amp;n&amp;&amp;n.list&amp;&amp;n.list.length&gt;0&amp;&amp;n.defaultDefinition&amp;&amp;n.list.map(function(u){u.definition===n.defaultDefinition&amp;&amp;(e.config.url=u.url,e.curDefinition=u)})}},{key:"changeDefinition",value:function(e,i){var n=this,s=this.config.definition;if(Array.isArray(s==null?void 0:s.list)&amp;&amp;s.list.forEach(function(l){(e==null?void 0:e.definition)===l.definition&amp;&amp;(n.curDefinition=l)}),e!=null&amp;&amp;e.bitrate&amp;&amp;typeof e.bitrate!="number"&amp;&amp;(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(Nt,{from:i,to:e}),!this.hasStart){this.config.url=e.url;return}var u=this.switchURL(e.url,U({seamless:s.seamless!==!1&amp;&amp;typeof MediaSource!="undefined"&amp;&amp;typeof MediaSource.isTypeSupported=="function"},e));u&amp;&amp;u.then?u.then(function(){n.emit(St,{from:i,to:e})}):this.emit(St,{from:i,to:e})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(oe,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,i=C.NOT_ALLOW_AUTOPLAY,n=C.PLAYING,s=C.NO_START,u=C.PAUSED,l=C.REPLAY,f=C.ENTER,h=C.ENDED,d=C.ERROR,g=C.LOADING,p=[i,n,s,u,l,f,h,d,g];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,p.forEach(function(y){e.removeClass(y)}),this.addClass(C.NO_START),this.emit(et)}},{key:"reset",value:function(){var e=this,i=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:[],n=arguments.length&gt;1?arguments[1]:void 0;this.resetState();var s=this.plugins;if(s&amp;&amp;(i.map(function(l){e.deregister(l)}),n)){var u=ui();Object.keys(this.config).forEach(function(l){e.config[l]!=="undefined"&amp;&amp;(l==="plugins"||l==="presets"||l==="el"||l==="id")&amp;&amp;(e.config[l]=u[l])})}}},{key:"destroy",value:function(){var e,i=this,n=this.innerContainer,s=this.root,u=this.media;if(!(!s||!u)){if(this.hasStart=!1,this._useAutoplay=!1,s.removeAttribute(he),u.removeAttribute(he),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),c.clearAllTimers(this),this.emit(Mt),(e=le)===null||e===void 0||e.remove(this),G.destroy(this),Zi(this),I(P(r.prototype),"destroy",this).call(this),this.fullscreen&amp;&amp;this._fullscreenEl===this.root&amp;&amp;this.exitFullscreen(),n)for(var l=n.children,f=0;f&lt;l.length;f++)n.removeChild(l[f]);!n&amp;&amp;u instanceof window.Node&amp;&amp;s.contains(u)&amp;&amp;!this.config.remainMediaAfterDestroy&amp;&amp;s.removeChild(u),["topBar","leftBar","rightBar","innerContainer"].map(function(d){i[d]&amp;&amp;s.removeChild(i[d]),i[d]=null});var h=s.className.split(" ");h.length&gt;0?s.className=h.filter(function(d){return d.indexOf("xgplayer")&lt;0}).join(" "):s.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach(function(d){i[d]=!1})}}},{key:"replay",value:function(){var e=this;this.removeClass(C.ENDED),this.currentTime=0,this.isSeeking=!1,ne(this,"replay",function(){e.once(ae,function(){var i=e.mediaPlay();i&amp;&amp;i.catch&amp;&amp;i.catch(function(n){})}),e.emit(je),e.onPlay()})}},{key:"retry",value:function(){var e=this;this.removeClass(C.ERROR),this.addClass(C.LOADING),ne(this,"retry",function(){var i=e.currentTime,n=e.config.url,s=c.isMSE(e.media)?{url:n}:e.preProcessUrl(n);e.src=s.url,!e.config.isLive&amp;&amp;(e.currentTime=i),e.once(se,function(){e.mediaPlay()})})}},{key:"changeFullStyle",value:function(e,i,n,s){e&amp;&amp;(s||(s=C.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=c.filterStyleFromText(e)),c.addClass(e,n),i&amp;&amp;i!==e&amp;&amp;!this._orgPCss&amp;&amp;(this._orgPCss=c.filterStyleFromText(i),c.addClass(i,s),i.setAttribute(he,this.playerId)))}},{key:"recoverFullStyle",value:function(e,i,n,s){s||(s=C.PARENT_FULLSCREEN),this._orgCss&amp;&amp;(c.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),c.removeClass(e,n),i&amp;&amp;i!==e&amp;&amp;this._orgPCss&amp;&amp;(c.setStyleFromCsstext(i,this._orgPCss),this._orgPCss="",c.removeClass(i,s),i.removeAttribute(he))}},{key:"getFullscreen",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget,i=this.root,n=this.media;(e==="video"||e==="media")&amp;&amp;(e=this[e]),e||(e=i),this._fullScreenOffset={top:c.scrollTop(),left:c.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get";var s=c.getFullScreenEl();if(s===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var u=0;u&lt;Qt.length;u++){var l=Qt[u];if(e[l]){var f=l==="webkitRequestFullscreen"?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[l]();return f&amp;&amp;f.then?f:Promise.resolve()}}return n.fullscreenEnabled||n.webkitSupportsFullscreen?(n.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch(h){return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&amp;&amp;this.exitRotateFullscreen(),!(!this._fullscreenEl&amp;&amp;!c.getFullScreenEl())){this.root;var i=this.media;this._fullActionFrom="exit";try{for(var n=0;n&lt;ei.length;n++){var s=ei[n];if(document[s]){var u=document[s]();return u&amp;&amp;u.then?u:Promise.resolve()}}return i&amp;&amp;i.webkitSupportsFullscreen?(i.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch(l){return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&amp;&amp;this.exitFullscreen();var i=e?"".concat(C.INNER_FULLSCREEN," ").concat(C.CSS_FULLSCREEN):C.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,i);var n=this.config.fullscreen,s=n===void 0?{}:n,u=s.useCssFullscreen===!0||typeof s.useCssFullscreen=="function"&amp;&amp;s.useCssFullscreen();u&amp;&amp;(this.fullscreen=!0,this.emit(re,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(We,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(C.INNER_FULLSCREEN," ").concat(C.CSS_FULLSCREEN):C.CSS_FULLSCREEN;if(!this.fullscreen)this.recoverFullStyle(this.root,this._cssfullscreenEl,e);else{var i=this.config.fullscreen,n=i===void 0?{}:i,s=n.useCssFullscreen===!0||typeof n.useCssFullscreen=="function"&amp;&amp;n.useCssFullscreen();s?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(re,!1)):this.removeClass(e)}this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(We,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&amp;&amp;this.exitCssFullscreen(e);var i=e?"".concat(C.INNER_FULLSCREEN," ").concat(C.ROTATE_FULLSCREEN):C.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,i,C.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style");var n=Math.abs(window.orientation)===90||Math.abs(screen.orientation.angle)===90;this.root.style.width=n?"".concat(window.innerWidth,"px"):"".concat(window.innerHeight,"px"),this.emit(re,!0)}},{key:"exitRotateFullscreen",value:function(e){var i=this._fullscreenEl!==this.root?"".concat(C.INNER_FULLSCREEN," ").concat(C.ROTATE_FULLSCREEN):C.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,i,C.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(re,!1),this._rootStyle&amp;&amp;(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){window.orientation===90||window.orientation===-90?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(e);return}this.emit(Dt,U({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(e);return}this._clearUserTimer(),this.emit(Mi,U({paused:this.paused,ended:this.ended},e))}},{key:"onFocus",value:function(){var e=this,i=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{autoHide:!0,delay:3e3},n=this.innerStates;if(this.isActive=!0,this.removeClass(C.INACTIVE),this._clearUserTimer(),i.isLock!==void 0&amp;&amp;(n.isActiveLocked=i.isLock),i.autoHide===!1||i.isLock===!0||n.isActiveLocked){this._clearUserTimer();return}var s=i&amp;&amp;i.delay?i.delay:this.config.inactive;this.userTimer=c.setTimeout(this,function(){e.userTimer=null,e.blur()},s)}},{key:"onBlur",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{},i=e.ignorePaused,n=i===void 0?!1:i;if(!this.innerStates.isActiveLocked){var s=this.config.closePauseVideoFocus;this.isActive=!1,(n||s||!this.paused&amp;&amp;!this.ended)&amp;&amp;this.addClass(C.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(C.ENTER),this.removeClass(C.ERROR),this.removeClass(C.LOADING),this.isCanplay=!0,this.waitTimer&amp;&amp;c.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){var e=this;this.isError=!1,this.isSeeking=!1,this.__startTime&gt;0&amp;&amp;(this.duration&gt;0?this._seekToStartTime():this.once(ue,function(){e._seekToStartTime()}))}},{key:"onLoadstart",value:function(){this.removeClass(C.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===N.ENDED&amp;&amp;this.setState(N.RUNNING),this.removeClass(C.PAUSED),this.ended&amp;&amp;this.removeClass(C.ENDED),!this.config.closePlayVideoFocus&amp;&amp;this.focus()}},{key:"onPause",value:function(){this.addClass(C.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this._clearUserTimer(),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(C.ENDED),this.setState(N.ENDED)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(C.NOT_ALLOW_AUTOPLAY),this.removeClass(C.NO_START),this.removeClass(C.ENTER),this.removeClass(C.LOADING),this.addClass(C.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(C.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&amp;&amp;c.clearTimeout(this,this.waitTimer),this.removeClass(C.LOADING),this.removeClass(C.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&amp;&amp;c.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=c.setTimeout(this,function(){e.addClass(C.LOADING),e.emit(Hi),c.clearTimeout(e,e.waitTimer),e.waitTimer=null},this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1;var i=C.NO_START,n=C.PAUSED,s=C.ENDED,u=C.ERROR,l=C.REPLAY,f=C.LOADING,h=[i,n,s,u,l,f];h.forEach(function(d){e.removeClass(d)}),!this._accPlayed.t&amp;&amp;!this.paused&amp;&amp;!this.ended&amp;&amp;(this._accPlayed.t=new Date().getTime())}},{key:"onTimeupdate",value:function(){!this._videoHeight&amp;&amp;this.media.videoHeight&amp;&amp;this.resize(),(this.waitTimer||this.hasClass(C.LOADING))&amp;&amp;this.media.readyState&gt;2&amp;&amp;(this.removeClass(C.LOADING),c.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&amp;&amp;this.state===N.NOTALLOW&amp;&amp;this.duration&amp;&amp;(this.setState(N.RUNNING),this.emit(_e)),!this._accPlayed.t&amp;&amp;!this.paused&amp;&amp;!this.ended&amp;&amp;(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){c.typeOf(this.config.volume)==="Number"&amp;&amp;(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,i,n){if(!(!this.media||!i||!e)){var s=c.typeOf(e)==="String"?e:e.type||"";n.props&amp;&amp;c.typeOf(n.props)!=="Array"&amp;&amp;(n.props=[n.props]),this.emit(Ke,U({eventType:s,action:i,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},n))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var i=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=i,this._accPlayed.t=0,(e==="ended"||this.ended)&amp;&amp;(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{startDiff:0,endDiff:0},n=i||{},s=n.startDiff,u=s===void 0?0:s,l=n.endDiff,f=l===void 0?0:l,h=this.media.buffered;if(!h||h.length===0||!this.duration)return!0;for(var d=e||this.media.currentTime||.2,g=h.length,p=0;p&lt;g;p++)if(h.start(p)+u&lt;=d&amp;&amp;h.end(p)-f&gt;d)return!0;return!1}},{key:"resizePosition",value:function(){var e=this,i=this.videoPos,n=i.vy,s=i.vx,u=i.h,l=i.w,f=this.videoPos.rotate;if(!(f&lt;0&amp;&amp;u&lt;0&amp;&amp;l&lt;0)){var h=this.videoPos._pi;if(!h&amp;&amp;this.media.videoHeight&amp;&amp;(h=this.media.videoWidth/this.media.videoHeight*100),!!h){this.videoPos.pi=h,f=f&lt;0?0:f;var d={rotate:f},g=0,p=0,y=1,_=Math.abs(f/90),b=this.root,T=this.innerContainer,k=b.offsetWidth,D=T?T.offsetHeight:b.offsetHeight,A={},B=D,M=k;if(_%2===0)y=u&gt;0?100/u:l&gt;0?100/l:1,d.scale=y,g=n&gt;0?(100-u)/2-n:0,d.y=_===2?0-g:g,p=s&gt;0?(100-l)/2-s:0,d.x=_===2?0-p:p,A.width="".concat(M,"px"),A.height="".concat(B,"px"),A.maxWidth="",A.maxHeight="";else if(_%2===1){M=D,B=k;var j=D-k;p=-j/2/M*100,d.x=_===3?p+n/2:p-n/2,g=j/2/B*100,d.y=_===3?g+s/2:g-s/2,d.scale=y,A.width="".concat(M,"px"),A.maxWidth="".concat(M,"px"),A.height="".concat(B,"px"),A.maxHeight="".concat(B,"px")}var V=c.getTransformStyle(d,this.media.style.transform||this.media.style.webkitTransform);A.transform=V,A.webkitTransform=V,Object.keys(A).map(function(R){e.media.style[R]=A[R]})}}}},{key:"position",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{h:0,y:0,x:0,w:0};if(!(!this.media||!e||!e.h)){var i=this.videoPos;i.h=e.h*100||0,i.w=e.w*100||0,i.vx=e.x*100||0,i.vy=e.y*100||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var i=this;e&amp;&amp;Object.keys(e).map(function(n){if(n!=="plugins"){i.config[n]=e[n];var s=i.plugins[n.toLowerCase()];s&amp;&amp;c.typeOf(s.setConfig)==="Function"&amp;&amp;s.setConfig(e[n])}})}},{key:"playNext",value:function(e){var i=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,ne(this,"playnext",function(){i.start(),i.emit(ze,e)})}},{key:"resize",value:function(){var e=this;if(!(!this.media||!this.root)){var i=this.root.getBoundingClientRect();this.sizeInfo.width=i.width,this.sizeInfo.height=i.height,this.sizeInfo.left=i.left,this.sizeInfo.top=i.top;var n=this.media,s=n.videoWidth,u=n.videoHeight,l=this.config,f=l.fitVideoSize,h=l.videoFillMode;if((h==="fill"||h==="cover"||h==="contain")&amp;&amp;this.setAttribute("data-xgfill",h),!(!u||!s)){this._videoHeight=u,this._videoWidth=s;var d=this.controls&amp;&amp;this.innerContainer?this.controls.root.getBoundingClientRect().height:0,g=i.width,p=i.height-d,y=parseInt(s/u*1e3,10),_=parseInt(g/p*1e3,10),b=g,T=p,k={};f==="auto"&amp;&amp;_&gt;y||f==="fixWidth"?(T=g/y*1e3,this.config.fluid?k.paddingTop="".concat(T*100/b,"%"):k.height="".concat(T+d,"px")):(f==="auto"&amp;&amp;_&lt;y||f==="fixHeight")&amp;&amp;(b=y*p/1e3,k.width="".concat(b,"px")),!this.fullscreen&amp;&amp;!this.cssfullscreen&amp;&amp;Object.keys(k).forEach(function(A){e.root.style[A]=k[A]}),(h==="fillHeight"&amp;&amp;_&lt;y||h==="fillWidth"&amp;&amp;_&gt;y)&amp;&amp;this.setAttribute("data-xgfill","cover");var D={videoScale:y,vWidth:b,vHeight:T,cWidth:b,cHeight:T+d};this.resizePosition(),this.emit(ge,D)}}}},{key:"updateObjectPosition",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:0,i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:0;if(this.media.updateObjectPosition){this.media.updateObjectPosition(e,i);return}this.media.style.objectPosition="".concat(e*100,"% ").concat(i*100,"%")}},{key:"setState",value:function(e){O.logInfo("setState","state from:".concat(li[this.state]," to:").concat(li[e])),this._state=e}},{key:"preProcessUrl",value:function(e,i){var n=this.config,s=n.preProcessUrl,u=n.preProcessUrlOptions,l=Object.assign({},u,i);return!c.isBlob(e)&amp;&amp;typeof s=="function"?s(e,l):{url:e}}},{key:"_seekToStartTime",value:function(){this.__startTime&gt;0&amp;&amp;this.duration&gt;0&amp;&amp;(this.currentTime=this.__startTime&gt;this.duration?this.duration:this.__startTime,this.__startTime=-1)}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){typeof e=="boolean"&amp;&amp;(this._hasStart=e,e===!1&amp;&amp;this.setState(N.READY),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===N.RUNNING||this._state===N.ENDED},set:function(e){e?this.setState(N.RUNNING):this._state&gt;=N.RUNNING&amp;&amp;this.setState(N.ATTACHED)}},{key:"definitionList",get:function(){return!this.config||!this.config.definition?[]:this.config.definition.list||[]},set:function(e){var i=this,n=this.config.definition,s=null,u=null;n.list=e,this.emit("resourceReady",e),e.forEach(function(l){var f;((f=i.curDefinition)===null||f===void 0?void 0:f.definition)===l.definition&amp;&amp;(s=l),n.defaultDefinition===l.definition&amp;&amp;(u=l)}),!u&amp;&amp;e.length&gt;0&amp;&amp;(u=e[0]),s?this.changeDefinition(s):u&amp;&amp;this.changeDefinition(u)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var i=this.media.getVideoPlaybackQuality();return e.dropped=i.droppedVideoFrames||0,e.total=i.totalVideoFrames||0,e.corrupted=i.corruptedVideoFrames||0,e.total&gt;0&amp;&amp;(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){var i=Ie.langKeys.filter(function(n){return n===e});if(i.length===0&amp;&amp;e!=="zh"){console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat(Ie.langKeys.join(),"] "));return}this.config.lang=e,G.setLang(e,this)}},{key:"i18n",get:function(){var e=this.config.lang;return e==="zh"&amp;&amp;(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return bt}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&amp;&amp;this.plugins.poster.update(e)}},{key:"readyState",get:function(){return I(P(r.prototype),"readyState",this)}},{key:"error",get:function(){var e=I(P(r.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return I(P(r.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return this._fullScreenOffset!==null}},{key:"cumulateTime",get:function(){var e=this._accPlayed,i=e.acc,n=e.t;return n?new Date().getTime()-n+i:i}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){e=c.convertDeg(e),!(e%90!==0||e===this.videoPos.rotate)&amp;&amp;(this.videoPos.rotate=e,this.resizePosition())}},{key:"avgSpeed",get:function(){return fi},set:function(e){fi=e}},{key:"realTimeSpeed",get:function(){return ci},set:function(e){ci=e}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(e){this._offsetInfo.currentTime=e}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(e){this._offsetInfo.duration=e||0}},{key:"hook",value:function(e,i){return Ye.call.apply(Ye,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,i){return $e.call.apply($e,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,i){return Xe.call.apply(Xe,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,i,n){for(var s=arguments.length,u=new Array(s&gt;3?s-3:0),l=3;l&lt;s;l++)u[l-3]=arguments[l];return ti.call.apply(ti,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,i,n){for(var s=arguments.length,u=new Array(s&gt;3?s-3:0),l=3;l&lt;s;l++)u[l-3]=arguments[l];return ii.call.apply(ii,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,i){var n;typeof i=="boolean"&amp;&amp;i!==this.muted&amp;&amp;(this.addInnerOP("volumechange"),c.typeOf(i)===Boolean&amp;&amp;(this.muted=i)),(n=le)===null||n===void 0||n.setActive(this.playerId,e)}}],[{key:"debugger",get:function(){return O.config.debug},set:function(e){O.config.debug=e}},{key:"instManager",get:function(){return le},set:function(e){le=e}},{key:"getCurrentUserActivePlayerId",value:function(){var e;return(e=le)===null||e===void 0?void 0:e.getActiveId()}},{key:"setCurrentUserActive",value:function(e,i){var n;(n=le)===null||n===void 0||n.setActive(e,i)}},{key:"isHevcSupported",value:function(){return L.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return L.probeConfigSupported(e)}},{key:"install",value:function(e,i){r.plugins||(r.plugins={}),r.plugins[e]||(r.plugins[e]=i)}},{key:"use",value:function(e,i){r.plugins||(r.plugins={}),r.plugins[e]=i}}]),r})(ir);m(tt,"defaultPreset",null);m(tt,"XgVideoProxy",null);tt.instManager=Qi.getInstance();function ve(o,a,r){try{return' &lt;div class="xg-tips '.concat(r?"hide":" ",'" lang-key="').concat(o.i18nKeys[a],`"&gt;</span>
<span class="cstat-no" title="statement not covered" >    `).concat(o.i18n[a],`</span>
<span class="cstat-no" title="statement not covered" >    &lt;/div&gt;`)}catch(t){return'&lt;div class="xg-tips hide"&gt;&lt;/div&gt;'}}var Te=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"_onMouseenter",function(s){t.emit("icon_mouseenter",{pluginName:t.pluginName})}),m(v(t),"_onMouseLeave",function(s){t.emit("icon_mouseleave",{pluginName:t.pluginName})}),t}return S(r,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave),this.config.disable&amp;&amp;this.disable()}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),r})(F);function Tr(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(1.3, 1.3)" class='path_full' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}function br(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}var xt=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"beforeCreate",value:function(e){typeof e.player.config.cssFullscreen=="boolean"&amp;&amp;(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;I(P(r.prototype),"afterCreate",this).call(this),!this.config.disable&amp;&amp;(this.config.target&amp;&amp;(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(We,function(i){e.animate(i)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(n){n.preventDefault(),n.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var e=this.icons,i=this.find(".xgplayer-icon");i.appendChild(e.cssFullscreen),i.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var i=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:i}),i?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){this.root&amp;&amp;(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var i=this.i18nKeys,n=this.find(".xg-tips");n&amp;&amp;this.changeLangTextKey(n,e?i.EXITCSSFULLSCREEN_TIPS:i.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:Tr,class:"xg-get-cssfull"},exitCssFullscreen:{icon:br,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){I(P(r.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`&lt;xg-icon class='xgplayer-cssfullscreen'&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;div class="xgplayer-icon"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >    `.concat(ve(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),`</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`)}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),r})(Te);function Er(){return new DOMParser().parseFromString(`&lt;svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/g&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;`,"image/svg+xml").firstChild}var Sr=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(i){i.preventDefault(),i.stopPropagation(),e.config.onClick(i)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:Er,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){c.addClass(this.root,"show")}},{key:"hide",value:function(){c.removeClass(this.root,"show")}},{key:"render",value:function(){return`&lt;xg-icon class="xgplayer-back"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:H.ROOT_TOP,index:0}}}]),r})(F);function wr(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}function xr(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}var en=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"_onOrientationChange",function(s){t.player.fullscreen&amp;&amp;t.config.rotateFullscreen&amp;&amp;(window.orientation===90||window.orientation===-90?t.player.setRotateDeg(0):t.player.setRotateDeg(90))}),t}return S(r,[{key:"afterCreate",value:function(){var e=this;I(P(r.prototype),"afterCreate",this).call(this);var i=this.config,n=this.playerConfig;if(!i.disable){i.target&amp;&amp;(this.playerConfig.fullscreenTarget=this.config.target);var s=c.getFullScreenEl();n.fullscreenTarget===s&amp;&amp;this.player.getFullscreen().catch(function(u){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(l){var f=e.player.fullscreen;e.emitUserAction(l,"switch_fullscreen",{prop:"fullscreen",from:f,to:!f})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(re,function(u){var l=e.find(".xg-tips");l&amp;&amp;e.changeLangTextKey(l,u?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(u)}),this.config.needBackIcon&amp;&amp;(this.topBackIcon=this.player.registerPlugin({plugin:Sr,options:{config:{onClick:function(l){e.handleFullscreen(l)}}}})),L.device==="mobile"&amp;&amp;window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:wr,class:"xg-get-fullscreen"},exitFullscreen:{icon:xr,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){I(P(r.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",L.device==="mobile"?"touchend":"click",this.handleFullscreen),L.device==="mobile"&amp;&amp;window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e instanceof Event&amp;&amp;(e.preventDefault(),e.stopPropagation());var i=this.player,n=this.config,s=n.useCssFullscreen===!0||typeof n.useCssFullscreen=="function"&amp;&amp;n.useCssFullscreen();s?(i.fullscreen?i.exitCssFullscreen():i.getCssFullscreen(),this.animate(i.fullscreen)):n.rotateFullscreen?(i.fullscreen?i.exitRotateFullscreen():i.getRotateFullscreen(),this.animate(i.fullscreen)):n.switchCallback&amp;&amp;typeof n.switchCallback=="function"?n.switchCallback(i.fullscreen):i.fullscreen?(i.exitFullscreen(),n.useScreenOrientation&amp;&amp;this.unlockScreen()):(i.getFullscreen().catch(function(u){}),n.useScreenOrientation&amp;&amp;i.aspectRatio&gt;1&amp;&amp;this.lockScreen(n.lockOrientationType))}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&amp;&amp;(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"render",value:function(){if(!this.config.disable){var e="FULLSCREEN_TIPS";return`&lt;xg-icon class="xgplayer-fullscreen"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;div class="xgplayer-icon"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >    `.concat(ve(this,e,this.playerConfig.isHideTips),`</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`)}}},{key:"lockScreen",value:function(e){try{screen.orientation.lock(e).catch(function(i){})}catch(i){}}},{key:"unlockScreen",value:function(){try{screen.orientation.unlock().catch(function(e){})}catch(e){}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,useScreenOrientation:!1,lockOrientationType:"landscape",switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),r})(Te);function Bt(){return new DOMParser().parseFromString(`&lt;svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}function Ht(){return new DOMParser().parseFromString(`&lt;svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}var tn=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"btnClick",function(s){s.preventDefault(),s.stopPropagation();var u=v(t),l=u.player;return t.emitUserAction(s,"switch_play_pause",{prop:"paused",from:l.paused,to:!l.paused}),l.ended?l.replay():l.paused?(l.play(),t.animate(!1)):(l.pause(),t.animate(!0)),!1}),t}return S(r,[{key:"afterCreate",value:function(){I(P(r.prototype),"afterCreate",this).call(this);var e=this.config;e.disable||(this.initIcons(),this.bind(["touchend","click"],this.btnClick),this.listenEvents(),this.animate(!0))}},{key:"listenEvents",value:function(){var e=this,i=this.player;this.on([Z,Ae,Oe,ke],function(){e.animate(i.paused)})}},{key:"registerIcons",value:function(){return{play:{icon:Bt,class:"xg-icon-play"},pause:{icon:Ht,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(this.player){var i=this.i18nKeys,n=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),n&amp;&amp;this.changeLangTextKey(n,i.PLAY_TIPS)):(this.setAttr("data-state","play"),n&amp;&amp;this.changeLangTextKey(n,i.PAUSE_TIPS))}}},{key:"destroy",value:function(){I(P(r.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`&lt;xg-icon class="xgplayer-play"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;div class="xgplayer-icon"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >    `.concat(ve(this,"PLAY_TIPS",this.playerConfig.isHideTips),`</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`)}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_LEFT,index:0,disable:!1}}}]),r})(Te),Pr=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],Ir=(function(){function o(a){E(this,o),this.fragments=a.fragments||[],this.fragments.length===0&amp;&amp;this.fragments.push({percent:1}),this._callBack=a.actionCallback,this.fragConfig={fragFocusClass:a.fragFocusClass||"inner-focus-point",fragAutoFocus:!!a.fragAutoFocus,fragClass:a.fragClass||""},this.style=a.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return S(o,[{key:"updateDuration",value:function(r){var t=this;this.duration=r;var e=0,i=this.fragments;this.fragments=i.map(function(n){return n.start=parseInt(e,10),n.end=parseInt(e+n.percent*t.duration,10),n.duration=parseInt(n.percent*t.duration,10),e+=n.percent*t.duration,n})}},{key:"updateProgress",value:function(){var r=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:"played",t=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},e=this.progressList,i=this.fragments;if(!(e.length&lt;1)){var n=t.newIndex,s=t.curIndex,u=t.millisecond;n!==s&amp;&amp;e.map(function(h,d){d&lt;n?h[r].style.width="100%":d&gt;n&amp;&amp;(h[r].style.width=0)});var l=i[n],f=u===0?0:(u-l.start)/l.duration;e[n][r].style.width=f&lt;0?0:"".concat(f*100,"%")}}},{key:"updateFocus",value:function(r){if(!(!this.fragConfig.fragAutoFocus||this.fragments.length&lt;2)){if(!r){if(this.focusIndex&gt;-1){this.unHightLight(this.focusIndex);var t={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&amp;&amp;this._callBack(t),this.focusIndex=-1}return}var e=this.findIndex(r.currentTime*1e3,this.focusIndex);if(e&gt;=0&amp;&amp;e!==this.focusIndex){this.focusIndex&gt;-1&amp;&amp;this.unHightLight(this.focusIndex),this.setHightLight(e);var i={index:e,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=e,this._callBack&amp;&amp;this._callBack(i)}}}},{key:"update",value:function(){var r=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{cached:0,played:0},t=arguments.length&gt;1?arguments[1]:void 0;if(!this.duration||parseInt(t*1e3,10)!==this.duration){if(!t&amp;&amp;t!==0)return;this.updateDuration(parseInt(t*1e3,10))}var e=this.playedIndex,i=this.cachedIndex;if(c.typeOf(r.played)!=="Undefined"){var n=this.findIndex(r.played*1e3,e);if(n&lt;0)return;this.updateProgress("played",{newIndex:n,curIndex:e,millisecond:parseInt(r.played*1e3,10)}),this.playedIndex=n}if(c.typeOf(r.cached)!=="Undefined"){var s=this.findIndex(r.cached*1e3,i);if(s&lt;0)return;this.updateProgress("cached",{newIndex:s,curIndex:i,millisecond:parseInt(r.cached*1e3,10)}),this.cachedIndex=s}}},{key:"findIndex",value:function(r,t){var e=this.fragments;if(!e||e.length===0)return-1;if(e.length===1)return 0;if(t&gt;-1&amp;&amp;t&lt;e.length&amp;&amp;r&gt;e[t].start&amp;&amp;r&lt;e[t].end)return t;if(r&gt;e[e.length-1].start)return e.length-1;for(var i=0;i&lt;e.length;i++)if(r&gt;e[i].start&amp;&amp;r&lt;=e[i].end){t=i;break}return t}},{key:"findHightLight",value:function(){for(var r=this.root.children,t=0;t&lt;r.length;t++)if(c.hasClass(r[t],this.fragConfig.fragFocusClass))return{dom:r[t],pos:r[t].getBoundingClientRect()}}},{key:"findFragment",value:function(r){var t=this.root.children;return r&lt;0||r&gt;=t.length?null:{dom:t[r],pos:t[r].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var r=this.root.children,t=0;t&lt;r.length;t++)c.removeClass(r[t],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(r){var t=this.root.children;if(r&lt;t.length)return c.addClass(t[r],this.fragConfig.fragFocusClass),{dom:t[r],pos:t[r].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(r){var t=this;if(Object.keys(this.fragConfig).forEach(function(i){r[i]!==void 0&amp;&amp;(t.fragConfig[i]=r[i])}),r.fragments){if(this.fragments=r.fragments.length===0?[{percent:1}]:r.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var e=this.root.children;e.length&gt;0;)this.root.removeChild(e[0]);this.render()}}},{key:"render",value:function(){var r=this,t=this.style.progressColor;if(this.root||(this.root=c.createDom("xg-inners","",{},"progress-list")),this.fragments){var e=this.fragConfig,i=e.fragClass,n=e.fragFocusClass;this.progressList=this.fragments.map(function(s){var u=c.createDom("xg-inner","",{style:t?"background:".concat(t,"; flex: ").concat(s.percent):"flex: ".concat(s.percent)},"".concat(s.isFocus?n:""," xgplayer-progress-inner ").concat(i));return r.root.appendChild(u),Pr.forEach(function(l){u.appendChild(c.createDom(l.tag,"",{style:l.styleKey?"background: ".concat(r.style[l.styleKey],"; width:0;"):"width:0;"},l.className))}),{cached:u.children[0],played:u.children[1]}})}return this.root}}]),o})(),hi={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},nn=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),m(v(e),"onMoveOnly",function(i,n){var s=v(e),u=s.pos,l=s.config,f=s.player,h=n;if(i){c.event(i);var d=c.getEventPos(i,f.zoom),g=f.rotateDeg===90?d.clientY:d.clientX;if(u.moving&amp;&amp;Math.abs(u.x-g)&lt;l.miniMoveStep)return;u.moving=!0,u.x=g,h=e.computeTime(i,g)}e.triggerCallbacks("dragmove",h,i),e._updateInnerFocus(h)}),m(v(e),"onBodyClick",function(i){e.pos.isLocked&amp;&amp;(e.pos.isLocked=!1,i.preventDefault(),i.stopPropagation())}),m(v(e),"_mouseDownHandler",function(i,n){e._state.time=n.currentTime,e.updateWidth(n.currentTime,n.seekTime,n.percent,0),e._updateInnerFocus(n)}),m(v(e),"_mouseUpHandler",function(i,n){var s=v(e),u=s.pos;u.moving&amp;&amp;e.updateWidth(n.currentTime,n.seekTime,n.percent,2)}),m(v(e),"_mouseMoveHandler",function(i,n){var s=v(e),u=s._state,l=s.pos,f=s.config,h=s.player;u.time&lt;n.currentTime?n.forward=!0:n.forward=!1,u.time=n.currentTime,l.isDown&amp;&amp;!l.moving&amp;&amp;(l.moving=!0,f.isPauseMoving&amp;&amp;h.pause(),e.triggerCallbacks("dragstart",n,i),e.emitUserAction("drag","dragstart",n)),e.updateWidth(n.currentTime,n.seekTime,n.percent,1),e.triggerCallbacks("dragmove",n,i),e._updateInnerFocus(n)}),m(v(e),"onMouseDown",function(i){var n=v(e),s=n._state,u=n.player,l=n.pos,f=n.config,h=n.playerConfig,d=c.getEventPos(i,u.zoom),g=u.rotateDeg===90?d.clientY:d.clientX;if(!(u.isMini||f.closeMoveSeek||!h.allowSeekAfterEnded&amp;&amp;u.ended)){if(!u.duration&amp;&amp;!u.isPlaying){u.play();return}i.stopPropagation(),e.focus(),c.checkIsFunction(h.disableSwipeHandler)&amp;&amp;h.disableSwipeHandler(),c.checkIsFunction(f.onMoveStart)&amp;&amp;f.onMoveStart(),c.event(i),l.x=g,l.isDown=!0,l.moving=!1,s.prePlayTime=u.currentTime,u.focus({autoHide:!1}),e.isProgressMoving=!0,c.addClass(e.progressBtn,"active");var p=e.computeTime(i,g);p.prePlayTime=s.prePlayTime,e._mouseDownHandlerHook(i,p);var y=i.type;return y==="touchstart"?(e.root.addEventListener("touchmove",e.onMouseMove),e.root.addEventListener("touchend",e.onMouseUp),e.root.addEventListener("touchcancel",e.onMouseUp)):(e.unbind("mousemove",e.onMoveOnly),document.addEventListener("mousemove",e.onMouseMove,!1),document.addEventListener("mouseup",e.onMouseUp,!1)),!0}}),m(v(e),"onMouseUp",function(i){var n=v(e),s=n.player,u=n.config,l=n.pos,f=n.playerConfig,h=n._state;if(l){i.stopPropagation(),i.preventDefault(),c.checkIsFunction(f.enableSwipeHandler)&amp;&amp;f.enableSwipeHandler(),c.checkIsFunction(u.onMoveEnd)&amp;&amp;u.onMoveEnd(),c.event(i),c.removeClass(e.progressBtn,"active");var d=e.computeTime(i,l.x);d.prePlayTime=h.prePlayTime,l.moving?(e.triggerCallbacks("dragend",d,i),e.emitUserAction("drag","dragend",d)):(e.triggerCallbacks("click",d,i),e.emitUserAction("click","click",d)),e._mouseUpHandlerHook(i,d),l.moving=!1,l.isDown=!1,l.x=0,l.y=0,l.isLocked=!0,h.prePlayTime=0,h.time=0;var g=i.type;g==="touchend"||g==="touchcancel"?(e.root.removeEventListener("touchmove",e.onMouseMove),e.root.removeEventListener("touchend",e.onMouseUp),e.root.removeEventListener("touchcancel",e.onMouseUp),e.blur()):(document.removeEventListener("mousemove",e.onMouseMove,!1),document.removeEventListener("mouseup",e.onMouseUp,!1),l.isEnter?f.isMobileSimulateMode!=="mobile"&amp;&amp;e.bind("mousemove",e.onMoveOnly):e.onMouseLeave(i)),c.setTimeout(v(e),function(){e.resetSeekState()},1),s.focus()}}),m(v(e),"onMouseMove",function(i){var n=v(e),s=n._state,u=n.pos,l=n.player,f=n.config;c.checkTouchSupport()&amp;&amp;i.preventDefault(),c.event(i);var h=c.getEventPos(i,l.zoom),d=l.rotateDeg===90?h.clientY:h.clientX,g=Math.abs(u.x-d);if(!(u.moving&amp;&amp;g&lt;f.miniMoveStep||!u.moving&amp;&amp;g&lt;f.miniStartStep)){u.x=d;var p=e.computeTime(i,d);p.prePlayTime=s.prePlayTime,e._mouseMoveHandlerHook(i,p)}}),m(v(e),"onMouseOut",function(i){e.triggerCallbacks("mouseout",null,i)}),m(v(e),"onMouseOver",function(i){e.triggerCallbacks("mouseover",null,i)}),m(v(e),"onMouseEnter",function(i){var n=v(e),s=n.player,u=n.pos;if(!(u.isDown||u.isEnter||s.isMini||!s.config.allowSeekAfterEnded&amp;&amp;s.ended)){u.isEnter=!0,e.bind("mousemove",e.onMoveOnly),e.bind("mouseleave",e.onMouseLeave),c.event(i);var l=c.getEventPos(i,s.zoom),f=s.rotateDeg===90?l.clientY:l.clientX,h=e.computeTime(i,f);e.triggerCallbacks("mouseenter",h,i),e.focus()}}),m(v(e),"onMouseLeave",function(i){e.triggerCallbacks("mouseleave",null,i),e.unlock(),e._updateInnerFocus(null)}),m(v(e),"onVideoResize",function(){var i=e.pos,n=i.x,s=i.isDown,u=i.isEnter;if(u&amp;&amp;!s){var l=e.computeTime(null,n);e.onMoveOnly(null,l)}}),e.useable=!1,e.isProgressMoving=!1,e.__dragCallBacks=[],e._state={now:-1,direc:0,time:0,prePlayTime:-1},e._disableBlur=!1,typeof e.config.isDragingSeek=="boolean"&amp;&amp;(console.warn("[XGPLAYER] 'isDragingSeek' is deprecated, please use 'isDraggingSeek' instead"),e.config.isDraggingSeek=e.config.isDragingSeek),e}return S(r,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var e=this.player,i=e.offsetCurrentTime,n=e.currentTime;return i&gt;=0?i:n+this.timeOffset}},{key:"changeState",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:!0;this.useable=e}},{key:"show",value:function(e){this.root&amp;&amp;(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,i=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:[],n=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{};(!i||i.length===0)&amp;&amp;(i=[{percent:1}]);var s=U(U({fragments:i},n),{},{actionCallback:function(l){e.emitUserAction("fragment_focus","fragment_focus",l)}});this.innerList?this.innerList.reset(s):(this.innerList=new Ir(s),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(u){e[u]=e.innerList[u].bind(e.innerList)}))}},{key:"_updateInnerFocus",value:function(e){this.innerList&amp;&amp;this.innerList.updateFocus(e)}},{key:"afterCreate",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var e=this.config,i=e.fragFocusClass,n=e.fragAutoFocus,s=e.fragClass;this._initInner(this.config.fragments,{fragFocusClass:i,fragAutoFocus:n,fragClass:s,style:this.playerConfig.commonStyle||{}}),L.device==="mobile"&amp;&amp;(this.config.isDraggingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.listenEvents(),this.bindDomEvents(),this.initCustomStyle()}}},{key:"listenEvents",value:function(){var e=this;this.on(ue,function(){e.onMouseLeave()}),this.on(q,function(){e.onTimeupdate()}),this.on(ae,function(){e.onTimeupdate(),e.onCacheUpdate()}),this.on(Oi,function(){e.onCacheUpdate()}),this.on(Ce,function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0}),this.on(ke,function(){e.onReset()}),this.on(ge,function(){e.onVideoResize()})}},{key:"setConfig",value:function(e){var i=this,n=null;Object.keys(e).forEach(function(s){i.config[s]=e[s],s==="fragments"&amp;&amp;(n=e[s])}),n&amp;&amp;this._initInner(n,e)}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},i=e.commonStyle,n=i.sliderBtnStyle,s=this.progressBtn;n&amp;&amp;(typeof n=="string"?s.style.boxShadow=n:K(n)==="object"&amp;&amp;Object.keys(n).map(function(u){s.style[u]=n[u]}))}},{key:"triggerCallbacks",value:function(e,i,n){this.__dragCallBacks.length&gt;0&amp;&amp;this.__dragCallBacks.map(function(s){if(s&amp;&amp;s.handler&amp;&amp;s.type===e)try{s.handler(i,n)}catch(u){console.error("[XGPLAYER][triggerCallbacks] ".concat(s," error"),u)}})}},{key:"addCallBack",value:function(e,i){i&amp;&amp;typeof i=="function"&amp;&amp;this.__dragCallBacks.push({type:e,handler:i})}},{key:"removeCallBack",value:function(e,i){var n=this.__dragCallBacks,s=-1;n.map(function(u,l){u&amp;&amp;u.type===e&amp;&amp;u.handler===i&amp;&amp;(s=l)}),s&gt;-1&amp;&amp;n.splice(s,1)}},{key:"unlock",value:function(){var e=this.player,i=this.pos;if(i.isEnter=!1,i.isLocked=!1,!e.isMini){if(this.unbind("mousemove",this.onMoveOnly),i.isDown){this.unbind("mouseleave",this.onMouseLeave);return}this.blur()}}},{key:"bindDomEvents",value:function(){var e=this.player.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),(this.domEventType==="touch"||this.domEventType==="compatible")&amp;&amp;this.root.addEventListener("touchstart",this.onMouseDown),(this.domEventType==="mouse"||this.domEventType==="compatible")&amp;&amp;(this.bind("mousedown",this.onMouseDown),e.isMobileSimulateMode!=="mobile"&amp;&amp;this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),c.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),c.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,i,n,s){var u=this.config,l=this.player;if(!(u.isCloseClickSeek&amp;&amp;s===0)){var f=i=i&gt;=l.duration?l.duration-u.endedDiff:Number(i).toFixed(1);this.updatePercent(n),this.updateTime(e),!(s===1&amp;&amp;(!u.isDraggingSeek||l.config.mediaType==="audio"))&amp;&amp;(this._state.now=f,this._state.direc=f&gt;l.currentTime?0:1,l.seek(f))}}},{key:"computeTime",value:function(e,i){var n=this.player,s=this.root.getBoundingClientRect(),u=s.width,l=s.height,f=s.top,h=s.left,d,g,p=i;n.rotateDeg===90?(d=l,g=f):(d=u,g=h);var y=p-g;y=y&gt;d?d:y&lt;0?0:y;var _=y/d;_=_&lt;0?0:_&gt;1?1:_,Number.isNaN(_)&amp;&amp;(_=this.player.currentTime/this.offsetDuration);var b=parseInt(_*this.offsetDuration*1e3,10)/1e3,T=c.getCurrentTimeByOffset(b,n.timeSegments);return{percent:_,currentTime:b,seekTime:T,offset:y,width:d,left:g,e}}},{key:"updateTime",value:function(e){var i=this.player,n=this.duration;e&gt;n?e=n:e&lt;0&amp;&amp;(e=0);var s=i.plugins.time;s&amp;&amp;s.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&amp;&amp;e.resetActive()}},{key:"updatePercent",value:function(e,i){if(this.isProgressMoving=!0,!this.config.disable){e=e&gt;1?1:e&lt;0?0:e,this.progressBtn.style.left="".concat(e*100,"%"),this.innerList.update({played:e*this.offsetDuration},this.offsetDuration);var n=this.player.plugins.miniprogress;n&amp;&amp;n.update({played:e*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(e){var i=this.player,n=this._state,s=this.offsetDuration;if(!(i.isSeeking&amp;&amp;i.media.seeking||this.isProgressMoving||!i.hasStart)){if(n.now&gt;-1){var u=parseInt(n.now*1e3,10)-parseInt(i.currentTime*1e3,10);if(n.direc===0&amp;&amp;u&gt;300||n.direc===1&amp;&amp;u&gt;-300){n.now=-1;return}else n.now=-1}var l=this.currentTime;l=c.adjustTimeByDuration(l,s,e),this.innerList.update({played:l},s),this.progressBtn.style.left="".concat(l/s*100,"%")}}},{key:"onCacheUpdate",value:function(e){var i=this.player,n=this.duration;if(i){var s=i.bufferedPoint.end;s=c.adjustTimeByDuration(s,n,e),this.innerList.update({cached:s},n)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0),this.progressBtn.style.left="0%"}},{key:"destroy",value:function(){var e=this.player;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var i=this.domEventType;(i==="touch"||i==="compatible")&amp;&amp;(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),this.root.removeEventListener("touchcancel",this.onMouseUp)),(i==="mouse"||i==="compatible")&amp;&amp;(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){var e=this.player.controls?this.player.controls.config.mode:"",i=e==="bottom"?"xgplayer-progress-bottom":"";return`</span>
<span class="cstat-no" title="statement not covered" >    &lt;xg-progress class="xgplayer-progress `.concat(i,`"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-outer class="xgplayer-progress-outer"&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;xg-progress-btn class="xgplayer-progress-btn"&gt;&lt;/xg-progress-btn&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/xg-outer&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-progress&gt;</span>
<span class="cstat-no" title="statement not covered" >    `)}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_CENTER,index:0,disable:!1,isDraggingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:hi.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return hi}}]),r})(F),rn=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),e.isActiving=!1,e}return S(r,[{key:"duration",get:function(){var e=this.player,i=e.offsetDuration,n=e.duration;return this.playerConfig.customDuration||i||n}},{key:"currentTime",get:function(){var e=this.player,i=e.offsetCurrentTime,n=e.currentTime;return i&gt;=0?i:n}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this.player.controls.config.mode;this.mode=e==="flex"?"flex":"normal",!this.config.disable&amp;&amp;(this.mode==="flex"&amp;&amp;(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.listenEvents())}},{key:"listenEvents",value:function(){var e=this;this.on([ue,ae,q],function(i){i.eventName==="durationchange"&amp;&amp;(e.isActiving=!1),e.onTimeUpdate()}),this.on(Ce,function(){e.onTimeUpdate(!0)}),this.on(ke,function(){e.onReset()})}},{key:"show",value:function(e){if(this.mode==="flex"){this.centerCurDom&amp;&amp;(this.centerCurDom.style.display="block"),this.centerDurDom&amp;&amp;(this.centerDurDom.style.display="block");return}this.root.style.display="block"}},{key:"hide",value:function(){if(this.mode==="flex"){this.centerCurDom&amp;&amp;(this.centerCurDom.style.display="none"),this.centerDurDom&amp;&amp;(this.centerDurDom.style.display="none");return}this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var i=this.player,n=this.config,s=this.duration;if(!(n.disable||this.isActiving||!i.hasStart)){var u=this.currentTime+this.timeOffset;u=c.adjustTimeByDuration(u,s,e),this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(c.format(u)),s!==1/0&amp;&amp;s&gt;0&amp;&amp;(this.centerDurDom.innerHTML=c.format(s))):(this.timeDom.innerHTML=this.minWidthTime(c.format(u)),s!==1/0&amp;&amp;s&gt;0&amp;&amp;(this.durationDom.innerHTML=c.format(s)))}}},{key:"onReset",value:function(){this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(c.format(0)),this.centerDurDom.innerHTML=c.format(0)):(this.timeDom.innerHTML=this.minWidthTime(c.format(0)),this.durationDom.innerHTML=c.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(!(!e.controls||!e.controls.center)){var i=e.controls.center;this.centerCurDom=c.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=c.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),i.children.length&gt;0?i.insertBefore(this.centerCurDom,i.children[0]):i.appendChild(this.centerCurDom),i.appendChild(this.centerDurDom),this.extraEls=[this.centerCurDom,this.centerDurDom]}}},{key:"afterPlayerInit",value:function(){var e=this.config;if(this.duration===1/0||this.playerConfig.isLive?(c.hide(this.durationDom),c.hide(this.timeDom),c.hide(this.find(".time-separator")),c.show(this.find(".time-live-tag"))):c.hide(this.find(".time-live-tag")),e.hide){this.hide();return}this.show()}},{key:"changeLiveState",value:function(e){e?(c.hide(this.durationDom),c.hide(this.timeDom),c.hide(this.find(".time-separator")),c.show(this.find(".time-live-tag"))):(c.hide(this.find(".time-live-tag")),c.show(this.find(".time-separator")),c.show(this.durationDom),c.show(this.timeDom))}},{key:"updateTime",value:function(e){if(this.isActiving=!0,!(!e&amp;&amp;e!==0||e&gt;this.duration)){if(this.mode==="flex"){this.centerCurDom.innerHTML=this.minWidthTime(c.format(e));return}this.timeDom.innerHTML=this.minWidthTime(c.format(e))}}},{key:"minWidthTime",value:function(e){return e.split(":").map(function(i){return'&lt;span class="time-min-width"&gt;'.concat(i,"&lt;/span&gt;")}).join(":")}},{key:"resetActive",value:function(){var e=this,i=this.player,n=function(){e.isActiving=!1};this.off(ae,n),i.isSeeking&amp;&amp;i.media.seeking?this.once(ae,n):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&amp;&amp;e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&amp;&amp;e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return`&lt;xg-icon class="xgplayer-time"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;span class="time-current"&gt;00:00&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;span class="time-separator"&gt;/&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;span class="time-duration"&gt;00:00&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;span class="time-live-tag"&gt;`.concat(this.i18n.LIVE_TIP,`&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`)}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_LEFT,index:2,disable:!1}}}]),r})(F);function Ar(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}function Lr(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}function Dr(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}var sn=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"onBarMousedown",function(s){var u=v(t),l=u.player,f=t.find(".xgplayer-bar");c.event(s);var h=f.getBoundingClientRect(),d=c.getEventPos(s,l.zoom),g=h.height-(d.clientY-h.top);if(d.h=g,d.barH=h.height,t.pos=d,!(g&lt;-2))return t.updateVolumePos(g,s),document.addEventListener("mouseup",t.onBarMouseUp),t._d.isStart=!0,!1}),m(v(t),"onBarMouseMove",function(s){var u=v(t),l=u._d;if(l.isStart){var f=v(t),h=f.pos,d=f.player;s.preventDefault(),s.stopPropagation(),c.event(s);var g=c.getEventPos(s,d.zoom);l.isMoving=!0;var p=h.h-g.clientY+h.clientY;p&gt;h.barH||t.updateVolumePos(p,s)}}),m(v(t),"onBarMouseUp",function(s){c.event(s),document.removeEventListener("mouseup",t.onBarMouseUp);var u=v(t),l=u._d;l.isStart=!1,l.isMoving=!1}),m(v(t),"onMouseenter",function(s){t._d.isActive=!0,t.focus(),t.emit("icon_mouseenter",{pluginName:t.pluginName})}),m(v(t),"onMouseleave",function(s){t._d.isActive=!1,t.unFocus(100,!1,s),t.emit("icon_mouseleave",{pluginName:t.pluginName})}),m(v(t),"onVolumeChange",function(s){if(t.player){var u=t.player,l=u.muted,f=u.volume;t._d.isMoving||(t.find(".xgplayer-drag").style.height=l||f===0?"4px":"".concat(f*100,"%"),t.config.showValueLabel&amp;&amp;t.updateVolumeValue()),t.animate(l,f)}}),t}return S(r,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:Lr,class:"xg-volume-small"},volumeLarge:{icon:Ar,class:"xg-volume"},volumeMuted:{icon:Dr,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var i=this.playerConfig,n=i.commonStyle,s=i.volume;n.volumeColor&amp;&amp;(this.find(".xgplayer-drag").style.backgroundColor=n.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(u){e.changeMuted(u)},{pre:function(l){l.preventDefault(),l.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),L.device!=="mobile"&amp;&amp;this.playerConfig.isMobileSimulateMode!=="mobile"&amp;&amp;(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(Di,this.onVolumeChange),this.once(oe,this.onVolumeChange),c.typeOf(s)!=="Number"&amp;&amp;(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,i){var n=this.player,s=this.find(".xgplayer-drag"),u=this.find(".xgplayer-bar");if(!(!u||!s)){var l=parseInt(e/u.getBoundingClientRect().height*1e3,10);s.style.height="".concat(e,"px");var f=Math.max(Math.min(l/1e3,1),0),h={volume:{from:n.volume,to:f}};n.muted&amp;&amp;(h.muted={from:!0,to:!1}),this.emitUserAction(i,"change_volume",{muted:n.muted,volume:n.volume,props:h}),n.volume=Math.max(Math.min(l/1e3,1),0),n.muted&amp;&amp;(n.muted=!1),this.config.showValueLabel&amp;&amp;this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,i=e.volume,n=e.muted,s=this.find(".xgplayer-value-label"),u=Math.max(Math.min(i,1),0);s.innerText=n?0:Math.round(u*100)}},{key:"focus",value:function(){var e=this.player;e.focus({autoHide:!1}),this._timerId&amp;&amp;(c.clearTimeout(this,this._timerId),this._timerId=null),c.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,i=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:100,n=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:!0,s=arguments.length&gt;2?arguments[2]:void 0,u=this._d,l=this.player;u.isActive||(this._timerId&amp;&amp;(c.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=c.setTimeout(this,function(){u.isActive||(n?l.blur():l.focus(),c.removeClass(e.root,"slide-show"),u.isStart&amp;&amp;e.onBarMouseUp(s)),e._timerId=null},i))}},{key:"changeMuted",value:function(e){e&amp;&amp;e.stopPropagation();var i=this.player,n=this._d;n.isStart&amp;&amp;this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:i.muted,volume:i.volume,props:{muted:{from:i.muted,to:!i.muted}}}),i.volume&gt;0&amp;&amp;(i.muted=!i.muted),i.volume&lt;.01&amp;&amp;(i.volume=this.config.miniVolume)}},{key:"animate",value:function(e,i){e||i===0?this.setAttr("data-state","mute"):i&lt;.5&amp;&amp;this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&amp;&amp;(c.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon",L.device==="mobile"?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,i=this.config.showValueLabel;return`</span>
<span class="cstat-no" title="statement not covered" >    &lt;xg-icon class="xgplayer-volume" data-state="normal"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xgplayer-icon"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-slider class="xgplayer-slider"&gt;</span>
<span class="cstat-no" title="statement not covered" >        `.concat(i?'&lt;div class="xgplayer-value-label"&gt;'.concat(e*100,"&lt;/div&gt;"):"",`</span>
<span class="cstat-no" title="statement not covered" >        &lt;div class="xgplayer-bar"&gt;</span>
<span class="cstat-no" title="statement not covered" >          &lt;xg-drag class="xgplayer-drag" style="height: `).concat(e*100,`%"&gt;&lt;/xg-drag&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/xg-slider&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`)}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),r})(F);function z(){return new Date().getTime()}var ce={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd"},Rr=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"_onTimeupdate",function(){t._state.isTimeUpdate=!0,t._state.autoplayStart&amp;&amp;(O.logInfo("[xgLogger]".concat(t.player.playerId," _onTimeupdate")),t._sendFF("onTimeupdate"))}),m(v(t),"_onAutoplayStart",function(){O.logInfo("[xgLogger]".concat(t.player.playerId," _onAutoplayStart")),t._state.autoplayStart=!0,t.vt&amp;&amp;t._sendFF("onAutoplayStart")}),m(v(t),"_onReset",function(){t._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},t.vt=0,t.pt=0,t.fvt=0,t.newPointTime=z(),t.loadedCostTime=0,t.startCostTime=0,t._isSeeking=!1,t.seekingStart=0,t.waitingStart=0,t.fixedWaitingStart=0,t._isWaiting=!1,t._waitTimer&amp;&amp;c.clearTimeout(v(t),t._waitTimer),t._waittTimer&amp;&amp;c.clearTimeout(v(t),t._waittTimer),t._waitTimer=null,t._waittTimer=null,t._waitType=0}),m(v(t),"_onSeeking",function(){t.seekingStart||(t.suspendWaitingStatus("seek"),t.seekingStart=z(),t.emitLog(ce.SEEK_START,{start:z()}))}),m(v(t),"_onSeeked",function(){t.suspendSeekingStatus("seeked")}),m(v(t),"_onWaitingLoadStart",function(){t._isWaiting||t.vt||(t._isWaiting=!0,t.waitingStart=z(),t.fixedWaitingStart=z(),t._waitType=1,t.emitLog(ce.WAIT_START,{fixedStart:t.fixedWaitingStart,start:t.waitingStart,type:1,endType:"loadstart"}))}),m(v(t),"_onWaiting",function(){t._isWaiting||!t.vt||(t._isWaiting=!0,t.vt?t.seekingStart?t._waitType=2:t._waitType=0:t._waitType=1,t.fixedWaitingStart=z(),t._waitTimer=c.setTimeout(v(t),function(){t._isWaiting&amp;&amp;(t.waitingStart=z(),c.clearTimeout(v(t),t._waitTimer),t._waitTimer=null,t._startWaitTimeout(),t.emitLog(ce.WAIT_START,{fixedStart:t.fixedWaitingStart,start:t.waitingStart,type:t._waitType,endType:t._waitType===2?"seek":"playing"}))},200))}),m(v(t),"_onError",function(){t.suspendSeekingStatus("error"),t.suspendWaitingStatus("error")}),m(v(t),"_onPlaying",function(){t._isWaiting&amp;&amp;t.suspendWaitingStatus("playing")}),t}return S(r,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=z(),this.loadedCostTime=0,this.startCostTime=0,this.on(Lt,function(){var i=e._state,n=i.autoplayStart,s=i.isFFSend;e.startCostTime=z()-e.newPointTime,O.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(n," isFFSend:").concat(s," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),!s&amp;&amp;(!i.isLs&amp;&amp;e.emitLog(ce.LOAD_START,{}),i.isLs=!0,i.isTimeUpdate=!1,i.isFFLoading=!0,e.pt=z(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart())}),this.on(oe,function(){e.vt=z(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var i=e._state,n=i.isTimeUpdate,s=i.isFFSend,u=i.autoplayStart;O.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(n||u)&amp;&amp;e._sendFF("loadedData"),s||e.emitLog(ce.LOADED_DATA,{}),e.suspendWaitingStatus("loadeddata")}),this.on(Ze,this._onSeeking),this.on(ae,this._onSeeked),this.on(Mt,function(){e.endState("destroy")}),this.on(Qe,function(){e.endState("urlChange"),O.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&amp;&amp;e._onReset()}),this.on([At,se],this._onPlaying),this.on(Me,this._onWaiting),this.on(Oe,this._onError),this.on(et,function(){O.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()})}},{key:"_initOnceEvents",value:function(){this.off(_e,this._onAutoplayStart),this.off(q,this._onTimeupdate),this.once(_e,this._onAutoplayStart),this.once(q,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=z();var i=this._state,n=i.isFFLoading,s=i.isFFSend;O.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(n," !isFFSend:").concat(!s)),this.vt&gt;0&amp;&amp;n&amp;&amp;!s&amp;&amp;(O.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(ce.FIRST_FRAME,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&amp;&amp;c.clearTimeout(this,this._waittTimer),this._waittTimer=c.setTimeout(this,function(){e.suspendWaitingStatus("timeout"),c.clearTimeout(e,e._waittTimer),e._waittTimer=null},this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(this.seekingStart){var i=z(),n=i-this.seekingStart;this.seekingStart=0,this.emitLog(ce.SEEK_END,{end:i,costTime:n,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&amp;&amp;(c.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&amp;&amp;(c.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,!!this.waitingStart){var i=z(),n=i-this.waitingStart,s=i-this.fixedWaitingStart,u=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(ce.WAIT_END,{fixedCostTime:s&gt;u?u:s,costTime:n&gt;u?u:n,type:e==="loadeddata"?1:this._waitType,endType:this._waitType===2?"seek":e})}}},{key:"emitLog",value:function(e,i){var n=this.player;this.emit(Wi,U({t:z(),host:c.getHostFromUrl(n.currentSrc),vtype:n.vtype,eventType:e,currentTime:this.player.currentTime,readyState:n.video.readyState,networkState:n.video.networkState},i))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),r})(F);function Or(){return new DOMParser().parseFromString(`&lt;svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}var Mr=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"registerIcons",value:function(){return{replay:Or}}},{key:"afterCreate",value:function(){var e=this;F.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",function(){e.player.replay()},{pre:function(n){n.preventDefault(),n.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(Ce,function(){if(e.playerConfig.loop||c.addClass(e.player.root,"replay"),!e.config.disable){e.show();var i=e.root.querySelector("path");if(i){var n=window.getComputedStyle(i).getPropertyValue("transform");if(typeof n=="string"&amp;&amp;n.indexOf("none")&gt;-1)return null;i.setAttribute("transform",n)}}}),this.on(Z,function(){e.hide()})}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),c.removeClass(this.player.root,"replay")}},{key:"show",value:function(e){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return`&lt;xg-replay class="xgplayer-replay"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-replay-txt class="xgplayer-replay-txt" lang-key="`.concat(this.i18nKeys.REPLAY,'"&gt;').concat(this.i18n.REPLAY,`&lt;/xg-replay-txt&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-replay&gt;`)}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),r})(F),Nr=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){c.addClass(this.root,"hide")}},{key:"show",value:function(e){c.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){typeof e.player.config.poster=="string"&amp;&amp;(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(Ce,function(){e.isEndedShow&amp;&amp;c.removeClass(e.root,"hide")}),this.config.hideCanplay?(this.once(q,function(){e.onTimeUpdate()}),this.on(Qe,function(){c.removeClass(e.root,"hide"),c.addClass(e.root,"xg-showplay"),e.once(q,function(){e.onTimeUpdate()})})):this.on(Z,function(){c.addClass(e.root,"hide")})}},{key:"setConfig",value:function(e){var i=this;Object.keys(e).forEach(function(s){i.config[s]=e[s]});var n=this.config.poster;this.update(n)}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?c.removeClass(this.root,"xg-showplay"):this.once(q,function(){e.onTimeUpdate()})}},{key:"update",value:function(e){e&amp;&amp;(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"getBgSize",value:function(e){var i="";switch(e){case"cover":i="cover";break;case"contain":i="contain";break;case"fixHeight":i="auto 100%";break;default:i=""}return i?"background-size: ".concat(i,";"):""}},{key:"render",value:function(){var e=this.config,i=e.poster,n=e.hideCanplay,s=e.fillMode,u=e.notHidden,l=this.getBgSize(s),f=i?"background-image:url(".concat(i,");").concat(l):l,h=u?"xg-not-hidden":n?"xg-showplay":"";return'&lt;xg-poster class="xgplayer-poster '.concat(h,'" style="').concat(f,`"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-poster&gt;`)}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,notHidden:!1,poster:"",fillMode:"fixWidth"}}}]),r})(F),ie={};function Fr(o,a){var r=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:{start:null,end:null};return ie[o]&amp;&amp;window.clearTimeout(ie[o].id),ie[o]={},r.start&amp;&amp;r.start(),ie[o].id=window.setTimeout(function(){r.end&amp;&amp;r.end(),window.clearTimeout(ie[o].id),delete ie[o]},a),ie[o].id}function di(o){if(o){window.clearTimeout(o);return}Object.keys(ie).map(function(a){window.clearTimeout(ie[a].id),delete ie[a]})}var Br=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),m(v(e),"onPlayerReset",function(){e.autoPlayStart=!1;var i=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),c.removeClass(e.root,i),e.show()}),m(v(e),"onAutoplayStart",function(){if(!e.autoPlayStart){var i=e.config.mode==="auto"?"auto-hide":"hide";c.addClass(e.root,i),e.autoPlayStart=!0,e.toggleTo("play")}}),e.autoPlayStart=!1,e}return S(r,[{key:"afterCreate",value:function(){var e=this.playerConfig;this.initIcons(),this.listenEvents(),this.bindClickEvents(),e.autoplay||this.show()}},{key:"listenEvents",value:function(){var e=this,i=this.player,n=this.playerConfig;this.once(Rt,function(){n&amp;&amp;(n.lang&amp;&amp;n.lang==="en"?c.addClass(i.root,"lang-is-en"):n.lang==="jp"&amp;&amp;c.addClass(i.root,"lang-is-jp"))}),this.on(_e,this.onAutoplayStart),this.on(Ot,function(){var s=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),c.removeClass(e.root,s),e.show()}),this.on(Z,function(){e.toggleTo("play")}),this.on(Ae,function(){e.toggleTo("pause")}),this.on(et,function(){e.onPlayerReset()})}},{key:"bindClickEvents",value:function(){var e=this;this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(n){n.cancelable&amp;&amp;n.preventDefault(),n.stopPropagation();var s=e.player.paused;e.emitUserAction(n,"switch_play_pause",{props:"paused",from:s,to:!s})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:Bt,class:"xg-icon-play"},startPause:{icon:Ht,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){c.addClass(this.root,"hide")}},{key:"show",value:function(e){c.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){c.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){c.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var i=this;this._animateId=Fr("pauseplay",400,{start:function(){c.addClass(i.root,"interact"),i.show(),i.switchStatus(!0)},end:function(){c.removeClass(i.root,"interact"),!e&amp;&amp;i.hide(),i._animateId=null}})}},{key:"endAnimate",value:function(){c.removeClass(this.root,"interact"),di(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var i=this.player;if(e.cancelable&amp;&amp;e.preventDefault(),e.stopPropagation(),!(i.state&lt;N.READY)){var n=this.player.paused;!n&amp;&amp;i.state===N.RUNNING?i.pause():i.play()}}},{key:"onPlayPause",value:function(e){this.toggleTo(e)}},{key:"toggleTo",value:function(e){var i=this.config,n=this.player;if(!(!n||n.state&lt;N.RUNNING||!this.autoPlayStart)){if(i.mode==="show"){this.switchStatus(),this.show();return}if(i.mode==="auto"){this.switchStatus();return}if(i.isShowPause&amp;&amp;n.paused&amp;&amp;!n.ended||i.isShowEnd&amp;&amp;n.ended){this.switchStatus(),this.show(),this.endAnimate();return}if(i.disableAnimate){this.switchStatus(),this.hide();return}if(e==="play")this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||n.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),di(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?this.config.mode==="auto"?"auto-hide":"hide":"";return`</span>
<span class="cstat-no" title="statement not covered" >    &lt;xg-start class="xgplayer-start `.concat(e,`"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;xg-start-inner&gt;&lt;/xg-start-inner&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-start&gt;`)}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),r})(F),Hr=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"render",value:function(){var e=this.config.innerHtml,i=c.createDom("xg-enter","",{},"xgplayer-enter");if(e&amp;&amp;e instanceof window.HTMLElement)i.appendChild(e);else if(e&amp;&amp;typeof e=="string")i.innerHTML=e;else{for(var n="",s=1;s&lt;=12;s++)n+='&lt;div class="xgplayer-enter-bar'.concat(s,'"&gt;&lt;/div&gt;');i.innerHTML='&lt;div class="xgplayer-enter-spinner"&gt;'.concat(n,"&lt;/div&gt;")}return i}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),r})(F),gi=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&amp;&amp;this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&amp;&amp;this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return`</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-icon class="xgplayer-miniicon"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xgplayer-icon btn-text"&gt;&lt;span class="icon-text" lang-key="`.concat(this.i18nKeys[e],'"&gt;').concat(this.i18n[e],`&lt;/span&gt;&lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/xg-icon&gt;`)}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_RIGHT,index:10}}}]),r})(F);function pi(o){var a=parseFloat(o),r=o.indexOf("%")===-1&amp;&amp;!Number.isNaN(a);return r&amp;&amp;a}var Ut=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],an=Ut.length;function Ur(){for(var o={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},a=0;a&lt;an;a++){var r=Ut[a];o[r]=0}return o}function Vr(o){var a=window.getComputedStyle(o);return a}function vi(o){if(typeof o=="string"&amp;&amp;(o=document.querySelector(o)),!(!o||K(o)!=="object"||!o.nodeType)){var a=Vr(o);if(a.display==="none")return Ur();var r={};r.width=o.offsetWidth,r.height=o.offsetHeight;for(var t=r.isBorderBox=a.boxSizing==="border-box",e=0;e&lt;an;e++){var i=Ut[e],n=a[i],s=parseFloat(n);r[i]=Number.isNaN(s)?0:s}var u=r.paddingLeft+r.paddingRight,l=r.paddingTop+r.paddingBottom,f=r.marginLeft+r.marginRight,h=r.marginTop+r.marginBottom,d=r.borderLeftWidth+r.borderRightWidth,g=r.borderTopWidth+r.borderBottomWidth,p=t,y=pi(a.width);y!==!1&amp;&amp;(r.width=y+(p?0:u+d));var _=pi(a.height);return _!==!1&amp;&amp;(r.height=_+(p?0:l+g)),r.innerWidth=r.width-(u+d),r.innerHeight=r.height-(l+g),r.outerWidth=r.width+f,r.outerHeight=r.height+h,r}}function ht(o,a){for(var r=0;r&lt;o.length;r++){var t=o[r];if(t.identifier===a)return t}}var dt={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},mi={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},jr=(function(o){w(r,o);var a=x(r);function r(t){var e,i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{};return E(this,r),e=a.call(this),e.isEnabled=!0,e.isDragging=!1,e.isDown=!1,e.position={},e.downPoint={},e.dragPoint={x:0,y:0},e.startPos={x:0,y:0},e._root=t instanceof Element?t:document.querySelector(t),e._handlerDom=i.handle instanceof Element?i.handle:document.querySelector(i.handle),!e._root||!e._handlerDom?It(e):(e._bindStartEvent(),e)}return S(r,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),mi[this._startKey].map(function(i){e["on".concat(i)]=e["on".concat(i)].bind(e)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var i=this;if(e){var n=mi[this._startKey];n.map(function(s){window.addEventListener(s,i["on".concat(s)])}),this._boundPointerEvents=n}}},{key:"_unbindPostStartEvents",value:function(){var e=this;this._boundPointerEvents&amp;&amp;(this._boundPointerEvents.map(function(i){window.removeEventListener(i,e["on".concat(i)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&amp;&amp;this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;this.isDragging&amp;&amp;(this.positionDrag(),window.requestAnimationFrame(function(){e.animate()}))}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var i=e.changedTouches[0];this.dragStart(e,i),this.touchIdentifier=i.pointerId!==void 0?i.pointerId:i.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var i=ht(e.changedTouches,this.touchIdentifier);i&amp;&amp;this.dragMove(e,i)}},{key:"ontouchend",value:function(e){var i=ht(e.changedTouches,this.touchIdentifier);i&amp;&amp;this.dragEnd(e,i),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var i=ht(e.changedTouches,this.touchIdentifier);i&amp;&amp;this.dragCancel(e,i)}},{key:"dragStart",value:function(e,i){if(!(!this._root||this.isDown||!this.isEnabled)){this.downPoint=i,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var n=vi(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-n.height,this.startPos.maxX=window.innerWidth-n.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,i){this.isDragging=!0,this.animate(),this.emit(dt.START,this.startPos)}},{key:"dragEnd",value:function(e,i){this._root&amp;&amp;(this._unbindPostStartEvents(),this.isDragging&amp;&amp;(this._root.style.transform="",this.setLeftTop(),this.emit(dt.ENDED)),this.presetInfo())}},{key:"_dragPointerMove",value:function(e,i){var n={x:i.pageX-this.downPoint.pageX,y:i.pageY-this.downPoint.pageY};return!this.isDragging&amp;&amp;this.hasDragStarted(n)&amp;&amp;this.dragRealStart(e,i),n}},{key:"dragMove",value:function(e,i){if(e=e||window.event,!!this.isDown){var n=this.startPos,s=n.x,u=n.y,l=this._dragPointerMove(e,i),f=l.x,h=l.y;f=this.checkContain("x",f,s),h=this.checkContain("y",h,u),this.position.x=s+f,this.position.y=u+h,this.dragPoint.x=f,this.dragPoint.y=h,this.emit(dt.MOVE,this.position)}}},{key:"dragCancel",value:function(e,i){this.dragEnd(e,i)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&amp;&amp;this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)&gt;3||Math.abs(e.y)&gt;3}},{key:"checkContain",value:function(e,i,n){return i+n&lt;0?0-n:e==="x"&amp;&amp;i+n&gt;this.startPos.maxX?this.startPos.maxX-n:e==="y"&amp;&amp;i+n&gt;this.startPos.maxY?this.startPos.maxY-n:i}},{key:"_getPosition",value:function(){var e=window.getComputedStyle(this._root),i=this._getPositionCoord(e.left,"width"),n=this._getPositionCoord(e.top,"height");this.position.x=Number.isNaN(i)?0:i,this.position.y=Number.isNaN(n)?0:n,this._addTransformPosition(e)}},{key:"_addTransformPosition",value:function(e){var i=e.transform;if(i.indexOf("matrix")===0){var n=i.split(","),s=i.indexOf("matrix3d")===0?12:4,u=parseInt(n[s],10),l=parseInt(n[s+1],10);this.position.x+=u,this.position.y+=l}}},{key:"_getPositionCoord",value:function(e,i){if(e.indexOf("%")!==-1){var n=vi(this._root.parentNode);return n?parseFloat(e)/100*n[i]:0}return parseInt(e,10)}}]),r})(Ai),Wr=(function(o){w(r,o);var a=x(r);function r(t){var e;E(this,r),e=a.call(this,t),m(v(e),"onCancelClick",function(s){e.exitMini(),e.isClose=!0}),m(v(e),"onCenterClick",function(s){var u=v(e),l=u.player;l.paused?l.play():l.pause()}),m(v(e),"onScroll",function(s){if(!(!window.scrollY&amp;&amp;window.scrollY!==0||Math.abs(window.scrollY-e.pos.scrollY)&lt;50)){var u=parseInt(c.getCss(e.player.root,"height"));u+=e.config.scrollTop,e.pos.scrollY=window.scrollY,window.scrollY&gt;u+5?!e.isMini&amp;&amp;!e.isClose&amp;&amp;e.getMini():window.scrollY&lt;=u&amp;&amp;(e.isMini&amp;&amp;e.exitMini(),e.isClose=!1)}}),e.isMini=!1,e.isClose=!1;var i=v(e),n=i.config;return e.pos={left:n.left&lt;0?window.innerWidth-n.width-20:n.left,top:n.top&lt;0?window.innerHeight-n.height-20:n.top,height:e.config.height,width:e.config.width,scrollY:window.scrollY||0},e.lastStyle=null,e}return S(r,[{key:"beforeCreate",value:function(e){typeof e.player.config.mini=="boolean"&amp;&amp;(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(Ae,function(){e.setAttr("data-state","pause")}),this.on(Z,function(){e.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var e=this,i=this.player,n=this.config;if(!n.disable){if(this.config.isShowIcon){var s={config:{onClick:function(){e.getMini()}}};i.controls.registerPlugin(gi,s,gi.pluginName)}var u=c.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",u,this.onCancelClick),this.bind(".play-icon",u,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new jr(this.player.root,{handle:this.root})),this.config.isScrollSwitch&amp;&amp;window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:Bt,class:"xg-icon-play"},pause:{icon:Ht,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var i=this.player,n=this.playerConfig,s=this.config.target||this.player.root;this.lastStyle={},c.addClass(i.root,"xgplayer-mini"),["width","height","top","left"].map(function(u){e.lastStyle[u]=s.style[u],s.style[u]="".concat(e.pos[u],"px")}),n.fluid&amp;&amp;(s.style["padding-top"]=""),this.emit(Ge,!0),i.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var i=this.player,n=this.playerConfig,s=this.config.target||this.player.root;c.removeClass(i.root,"xgplayer-mini"),this.lastStyle&amp;&amp;Object.keys(this.lastStyle).map(function(u){s.style[u]=e.lastStyle[u]}),this.lastStyle=null,n.fluid&amp;&amp;(i.root.style.width="100%",i.root.style.height="0",i.root.style["padding-top"]="".concat(n.height*100/n.width,"%")),this.emit(Ge,!1),this.isMini=i.isMini=!1}},{key:"updatePos",value:function(e){this.pos=Object.assign(this.pos,e),this.isMini&amp;&amp;(this.player.root.style.left="".concat(this.pos.left,"px"),this.player.root.style.top="".concat(this.pos.top,"px"),this.player.root.style.width="".concat(this.pos.width,"px"),this.player.root.style.height="".concat(this.pos.height,"px"))}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=c.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&amp;&amp;this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return`</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-mini-layer class="xg-mini-layer"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-mini-header class="xgplayer-mini-header"&gt;</span>
<span class="cstat-no" title="statement not covered" >      `.concat(ve(this,"MINI_DRAG",this.playerConfig.isHideTips),`</span>
<span class="cstat-no" title="statement not covered" >      &lt;/xg-mini-header&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="mini-cancel-btn"&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"&gt;</span>
<span class="cstat-no" title="statement not covered" >          &lt;path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="play-icon"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/xg-mini-layer&gt;`)}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),r})(F),Fe={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},gt=["videoClick","videoDbClick"],pt=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"onMouseMove",function(s){var u=v(t),l=u.player,f=u.playerConfig;l.isActive||(l.focus({autoHide:!f.closeDelayBlur}),!f.closeFocusVideoFocus&amp;&amp;l.media.focus())}),m(v(t),"onMouseEnter",function(s){var u=v(t),l=u.playerConfig,f=u.player;!l.closeFocusVideoFocus&amp;&amp;f.media.focus(),l.closeDelayBlur?f.focus({autoHide:!1}):f.focus(),t.emit(Bi)}),m(v(t),"onMouseLeave",function(s){var u=t.playerConfig,l=u.closePlayerBlur,f=u.leavePlayerTime,h=u.closeDelayBlur;!l&amp;&amp;!h&amp;&amp;(f?t.player.focus({autoHide:!0,delay:f}):t.player.blur({ignorePaused:!0})),t.emit(Fi)}),m(v(t),"onVideoClick",function(s){var u=v(t),l=u.player,f=u.playerConfig;s.target&amp;&amp;f.closeVideoClick||(s.target===l.root||s.target===l.media||s.target===l.innerContainer||s.target===l.media.__canvas)&amp;&amp;(s.preventDefault(),f.closeVideoStopPropagation||s.stopPropagation(),t._clickCount++,t.clickTimer&amp;&amp;(clearTimeout(t.clickTimer),t.clickTimer=null),t.clickTimer=setTimeout(function(){t._clickCount&amp;&amp;(t._clickCount--,ne(v(t),gt[0],function(h,d){t.switchPlayPause(d.e)},{e:s,paused:l.paused}),clearTimeout(t.clickTimer),t.clickTimer=null)},300))}),m(v(t),"onVideoDblClick",function(s){var u=v(t),l=u.player,f=u.playerConfig;if(!(f.closeVideoDblclick||!s.target||s.target!==l.media&amp;&amp;s.target!==l.media.__canvas)){if(!f.closeVideoClick&amp;&amp;t._clickCount&lt;2){t._clickCount=0;return}t._clickCount=0,t.clickTimer&amp;&amp;(clearTimeout(t.clickTimer),t.clickTimer=null),s.preventDefault(),s.stopPropagation(),ne(v(t),gt[1],function(h,d){t.emitUserAction(d.e,"switch_fullscreen",{props:"fullscreen",from:l.fullscreen,to:!l.fullscreen}),l.fullscreen?l.exitFullscreen():l.getFullscreen()},{e:s,fullscreen:l.fullscreen})}}),t}return S(r,[{key:"afterCreate",value:function(){var e=this;this._clickCount=0,gt.map(function(n){e.__hooks[n]=null});var i=this.playerConfig.isMobileSimulateMode;i==="mobile"||L.device==="mobile"&amp;&amp;!L.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var e=this,i=this.player,n=i.media,s=i.root,u=this.playerConfig.enableContextmenu;s&amp;&amp;s.addEventListener("click",this.onVideoClick,!1),s&amp;&amp;s.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(Fe).map(function(l){s.addEventListener(l,e[Fe[l]],!1)}),!u&amp;&amp;n&amp;&amp;n.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var i=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:i.paused,to:!i.paused}),i.ended?i.duration!==1/0&amp;&amp;i.duration&gt;0&amp;&amp;i.replay():i.paused?i.play():i.pause()}},{key:"onContextmenu",value:function(e){e=e||window.event,e.preventDefault&amp;&amp;e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,i=this.player,n=i.video,s=i.root;this.clickTimer&amp;&amp;clearTimeout(this.clickTimer),s.removeEventListener("click",this.onVideoClick,!1),s.removeEventListener("dblclick",this.onVideoDblClick,!1),n.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(Fe).map(function(u){s.removeEventListener(u,e[Fe[u]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),r})(pe),fe={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},Gr={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},zr={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function yi(o){return o&amp;&amp;o.length&gt;0?o[o.length-1]:null}function Kr(){return{pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0}}var Yr=(function(){function o(a){var r=this,t=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{eventType:"touch"};E(this,o),m(this,"onTouchStart",function(e){var i=r._pos,n=r.root,s=yi(e.touches);i.x=s?parseInt(s.pageX,10):e.pageX,i.y=s?parseInt(s.pageX,10):e.pageX,i.start=!0,r.__setPress(e),n.addEventListener(r.events.end,r.onTouchEnd),n.addEventListener(r.events.cancel,r.onTouchCancel),n.addEventListener(r.events.move,r.onTouchMove),r.trigger(fe.TOUCH_START,e)}),m(this,"onTouchCancel",function(e){r.onTouchEnd(e)}),m(this,"onTouchEnd",function(e){var i=r._pos,n=r.root;r.__clearPress(),n.removeEventListener(r.events.cancel,r.onTouchCancel),n.removeEventListener(r.events.end,r.onTouchEnd),n.removeEventListener(r.events.move,r.onTouchMove),e.moving=i.moving,e.press=i.press,i.press&amp;&amp;r.trigger(fe.PRESS_END,e),r.trigger(fe.TOUCH_END,e),!i.press&amp;&amp;!i.moving&amp;&amp;r.__setDb(e),i.press=!1,i.start=!1,i.moving=!1}),m(this,"onTouchMove",function(e){var i=r._pos,n=r.config,s=yi(e.touches),u=s?parseInt(s.pageX,10):e.pageX,l=s?parseInt(s.pageY,10):e.pageX,f=u-i.x,h=l-i.y;Math.abs(h)&lt;n.miniStep&amp;&amp;Math.abs(f)&lt;n.miniStep||(r.__clearPress(),i.press&amp;&amp;r.trigger(fe.PRESS_END,e),i.press=!1,i.moving=!0,r.trigger(fe.TOUCH_MOVE,e))}),this._pos={moving:!1,start:!1,x:0,y:0},this.config=Kr(),Object.keys(t).map(function(e){r.config[e]=t[e]}),this.root=a,this.events=t.eventType==="mouse"?zr:Gr,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return S(o,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(r){var t=this,e=this.config;this.pressIntrvalId&amp;&amp;this.__clearPress(),this.pressIntrvalId=setTimeout(function(){t.trigger(fe.PRESS,r),t._pos.press=!0,t.__clearPress()},e.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(r){var t=this,e=this.config;if(this.dbIntrvalId){this.__clearDb(),this.trigger(fe.DOUBlE_CLICK,r);return}this.dbIntrvalId=setTimeout(function(){t.__clearDb(),!t._pos.start&amp;&amp;!t._pos.press&amp;&amp;!t._pos.moving&amp;&amp;t.trigger(fe.CLICK,r)},e.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(r,t){this.__handlers[r]||(this.__handlers[r]=[]),this.__handlers[r].push(t)}},{key:"off",value:function(r,t){if(this.__handlers[r]){for(var e=this.__handlers[r],i=-1,n=0;n&lt;e.length;n++)if(e[n]===t){i=n;break}i&gt;=0&amp;&amp;this.__handlers[r].splice(i,1)}}},{key:"trigger",value:function(r,t){this.__handlers[r]&amp;&amp;this.__handlers[r].map(function(e){try{e(t)}catch(i){console.error("trigger&gt;&gt;:".concat(r),i)}})}},{key:"destroy",value:function(){var r=this,t={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(t).forEach(function(e){r.root.removeEventListener(e,r[t[e]])})}}]),o})();function $r(){return new DOMParser().parseFromString(`&lt;svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"</span>
<span class="cstat-no" title="statement not covered" >  xmlns:xlink="http://www.w3.org/1999/xlink"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path opacity="0.54"</span>
<span class="cstat-no" title="statement not covered" >    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"</span>
<span class="cstat-no" title="statement not covered" >    fill="white" /&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;`,"image/svg+xml").firstChild}var be={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate"},vt=["videoClick","videoDbClick"],Xr=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),m(v(e),"onTouchStart",function(i){var n=v(e),s=n.player,u=n.config,l=n.pos,f=n.playerConfig,h=e.getTouche(i);if(h&amp;&amp;!u.disableGesture&amp;&amp;e.duration&gt;0&amp;&amp;!s.ended){l.isStart=!0,e.timer&amp;&amp;clearTimeout(e.timer),c.checkIsFunction(f.disableSwipeHandler)&amp;&amp;f.disableSwipeHandler(),e.find(".xg-dur").innerHTML=c.format(e.duration);var d=e.root.getBoundingClientRect();s.rotateDeg===90?(l.top=d.left,l.left=d.top,l.width=d.height,l.height=d.width):(l.top=d.top,l.left=d.left,l.width=d.width,l.height=d.height);var g=parseInt(h.pageX-l.left,10),p=parseInt(h.pageY-l.top,10);l.x=s.rotateDeg===90?p:g,l.y=s.rotateDeg===90?g:p,l.scopeL=u.scopeL*l.width,l.scopeR=(1-u.scopeR)*l.width,l.scopeM1=l.width*(1-u.scopeM)/2,l.scopeM2=l.width-l.scopeM1}}),m(v(e),"onTouchMove",function(i){var n=e.getTouche(i),s=v(e),u=s.pos,l=s.config,f=s.player;if(!(!n||l.disableGesture||!e.duration||!u.isStart)){var h=l.miniMoveStep,d=l.hideControlsActive,g=parseInt(n.pageX-u.left,10),p=parseInt(n.pageY-u.top,10),y=f.rotateDeg===90?p:g,_=f.rotateDeg===90?g:p;if(Math.abs(y-u.x)&gt;h||Math.abs(_-u.y)&gt;h){var b=y-u.x,T=_-u.y,k=u.scope;if(k===-1&amp;&amp;(k=e.checkScope(y,_,b,T,u),k===0&amp;&amp;(d?f.blur():f.focus({autoHide:!1}),!u.time&amp;&amp;(u.time=parseInt(f.currentTime*1e3,10)+e.timeOffset*1e3)),u.scope=k),k===-1||k&gt;0&amp;&amp;!l.gestureY||k===0&amp;&amp;!l.gestureX)return;e.executeMove(b,T,k,u.width,u.height),u.x=y,u.y=_}}}),m(v(e),"onTouchEnd",function(i){var n=v(e),s=n.player,u=n.pos,l=n.playerConfig;if(setTimeout(function(){s.getPlugin("progress")&amp;&amp;s.getPlugin("progress").resetSeekState()},10),!!u.isStart){u.scope&gt;-1&amp;&amp;i.cancelable&amp;&amp;i.preventDefault();var f=e.config,h=f.disableGesture,d=f.gestureX;!h&amp;&amp;d?e.endLastMove(u.scope):u.time=0,u.scope=-1,e.resetPos(),c.checkIsFunction(l.enableSwipeHandler)&amp;&amp;l.enableSwipeHandler(),e.changeAction(be.AUTO)}}),m(v(e),"onRootTouchMove",function(i){e.config.disableGesture||!e.config.gestureX||e.checkIsRootTarget(i)&amp;&amp;(i.stopPropagation(),e.pos.isStart?e.onTouchMove(i):e.onTouchStart(i))}),m(v(e),"onRootTouchEnd",function(i){e.pos.scope&gt;-1&amp;&amp;e.onTouchEnd(i)}),e.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},e.timer=null,e}return S(r,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:$r,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;vt.map(function(d){e.__hooks[d]=null});var i=this.playerConfig,n=this.config,s=this.player;i.closeVideoDblclick===!0&amp;&amp;(n.closedbClick=!0),this.resetPos(),c.isUndefined(i.disableGesture)||(n.disableGesture=!!i.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=c.createDom("xg-mask","",{},"xgmask"),s.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var u=this.domEventType==="mouse"?"mouse":"touch";this.touch=new Yr(this.root,{eventType:u,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(d){d.preventDefault()}),s.root.addEventListener("touchmove",this.onRootTouchMove,!0),s.root.addEventListener("touchend",this.onRootTouchEnd,!0),s.root.addEventListener("touchcancel",this.onRootTouchEnd,!0);var l=this.player.controls;l&amp;&amp;l.center&amp;&amp;(l.center.addEventListener("touchmove",this.onRootTouchMove,!0),l.center.addEventListener("touchend",this.onRootTouchEnd,!0),l.center.addEventListener("touchcancel",this.onRootTouchEnd,!0)),this.on(ue,function(){var d=e.player,g=e.config;d.duration&gt;0&amp;&amp;d.duration*1e3&lt;g.moveDuration&amp;&amp;(g.moveDuration=d.duration*1e3)}),this.on([se,Ce],function(){var d=e.pos,g=d.time,p=d.isStart;!p&amp;&amp;g&gt;0&amp;&amp;(e.pos.time=0)});var f={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(f).map(function(d){e.touch.on(d,function(g){e[f[d]](g)})}),!n.disableActive){var h=s.plugins.progress;h&amp;&amp;(h.addCallBack("dragmove",function(d){e.activeSeekNote(d.currentTime,d.forward)}),["dragend","click"].forEach(function(d){h.addCallBack(d,function(){e.changeAction(be.AUTO)})}))}}},{key:"registerThumbnail",value:function(){var e=this.player,i=e.plugins.thumbnail;if(i&amp;&amp;i.usable){this.thumbnail=i.createThumbnail(null,"mobile-thumbnail");var n=this.find(".time-preview");n.insertBefore(this.thumbnail,n.children[0])}}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},i=e.commonStyle,n=i.playedColor,s=i.progressColor,u=i.timePreviewStyle,l=i.curTimeColor,f=i.durationColor;if(n&amp;&amp;(this.find(".xg-curbar").style.backgroundColor=n),s&amp;&amp;(this.find(".xg-bar").style.backgroundColor=s),u){var h=this.find(".time-preview");Object.keys(u).forEach(function(p){h.style[p]=u[p]})}var d=l||n,g=f;d&amp;&amp;(this.find(".xg-cur").style.color=d),g&amp;&amp;(this.find(".xg-dur").style.color=g),this.config.disableTimeProgress&amp;&amp;c.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(i){e.pos[i]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var i=this.player,n=this.root;n.setAttribute("data-xg-action",e);var s=i.plugins.start;s&amp;&amp;s.recover()}},{key:"getTouche",value:function(e){var i=this.player.rotateDeg,n=e.touches&amp;&amp;e.touches.length&gt;0?e.touches[e.touches.length-1]:e;return i===0?{pageX:n.pageX,pageY:n.pageY}:{pageX:n.pageX,pageY:n.pageY}}},{key:"checkScope",value:function(e,i,n,s,u){var l=u.width,f=-1;if(e&lt;0||e&gt;l)return f;var h=Math.abs(s===0?n:n/s);return Math.abs(n)&gt;0&amp;&amp;h&gt;=1.73&amp;&amp;e&gt;u.scopeM1&amp;&amp;e&lt;u.scopeM2?f=0:(Math.abs(n)===0||h&lt;=.57)&amp;&amp;(f=e&lt;u.scopeL?1:e&gt;u.scopeR?2:3),f}},{key:"executeMove",value:function(e,i,n,s,u){switch(n){case 0:this.updateTime(e/s*this.config.scopeM);break;case 1:this.updateBrightness(i/u);break;case 2:L.os.isIos||this.updateVolume(i/u);break}}},{key:"endLastMove",value:function(e){var i=this,n=this.pos,s=this.player,u=this.config,l=(n.time-this.timeOffset)/1e3;switch(e){case 0:s.seek(Number(l).toFixed(1)),u.hideControlsEnd?s.blur():s.focus(),this.timer=setTimeout(function(){i.pos.time=0},500);break}this.changeAction(be.AUTO)}},{key:"checkIsRootTarget",value:function(e){var i=this.player.plugins||{};return i.progress&amp;&amp;i.progress.root.contains(e.target)?!1:i.start&amp;&amp;i.start.root.contains(e.target)||i.controls&amp;&amp;i.controls.root.contains(e.target)}},{key:"sendUseAction",value:function(e){var i=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:i,to:!i})}},{key:"clickHandler",value:function(e){var i=this.player,n=this.config,s=this.playerConfig;if(i.state&lt;N.RUNNING){s.closeVideoClick||(this.sendUseAction(c.createEvent("click")),i.play());return}!n.closedbClick||s.closeVideoClick?i.isActive?i.blur():i.focus():s.closeVideoClick||((i.isActive||n.focusVideoClick)&amp;&amp;(this.sendUseAction(c.createEvent("click")),this.switchPlayPause()),i.focus())}},{key:"dbClickHandler",value:function(e){var i=this.config,n=this.player;!i.closedbClick&amp;&amp;n.state&gt;=N.RUNNING&amp;&amp;(this.sendUseAction(c.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var i=this,n=this.player;ne(this,vt[0],function(s,u){i.clickHandler(u.e)},{e,paused:n.paused})}},{key:"onDbClick",value:function(e){var i=this,n=this.player;ne(this,vt[1],function(s,u){i.dbClickHandler(u.e)},{e,paused:n.paused})}},{key:"onPress",value:function(e){var i=this.pos,n=this.config,s=this.player;n.disablePress||(i.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:s.playbackRate,to:n.pressRate}),s.playbackRate=n.pressRate,this.changeAction(be.PLAYBACK))}},{key:"onPressEnd",value:function(e){var i=this.pos,n=this.config,s=this.player;n.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:s.playbackRate,to:i.rate}),s.playbackRate=i.rate,i.rate=1,this.changeAction(be.AUTO))}},{key:"updateTime",value:function(e){var i=this.player,n=this.config,s=this.player.duration;e=Number(e.toFixed(4));var u=parseInt(e*n.moveDuration,10)+this.timeOffset;u+=this.pos.time,u=u&lt;0?0:u&gt;s*1e3?s*1e3-200:u,i.getPlugin("time")&amp;&amp;i.getPlugin("time").updateTime(u/1e3),i.getPlugin("progress")&amp;&amp;i.getPlugin("progress").updatePercent(u/1e3/this.duration,!0),this.activeSeekNote(u/1e3,e&gt;0),n.isTouchingSeek&amp;&amp;i.seek(Number((u-this.timeOffset)/1e3).toFixed(1)),this.pos.time=u}},{key:"updateVolume",value:function(e){this.player.rotateDeg&amp;&amp;(e=-e);var i=this.player,n=this.pos;if(e=parseInt(e*100,10),n.volume+=e,!(Math.abs(n.volume)&lt;10)){var s=parseInt(i.volume*10,10)-parseInt(n.volume/10,10);s=s&gt;10?10:s&lt;1?0:s,i.volume=s/10,n.volume=0}}},{key:"updateBrightness",value:function(e){var i=this.pos,n=this.config,s=this.xgMask;if(n.darkness){this.player.rotateDeg&amp;&amp;(e=-e);var u=i.light+.8*e;u=u&gt;n.maxDarkness?n.maxDarkness:u&lt;0?0:u,s&amp;&amp;(s.style.backgroundColor="rgba(0,0,0,".concat(u,")")),i.light=u}}},{key:"activeSeekNote",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:!0,n=this.player,s=this.config,u=!(this.duration!==1/0&amp;&amp;this.duration&gt;0);if(!(!e||typeof e!="number"||u||s.disableActive)){e&lt;0?e=0:e&gt;n.duration&amp;&amp;(e=n.duration-.2),this.changeAction(be.SEEKING);var l=n.plugins.start;l&amp;&amp;l.focusHide(),this.find(".xg-dur").innerHTML=c.format(this.duration),this.find(".xg-cur").innerHTML=c.format(e),this.find(".xg-curbar").style.width="".concat(e/this.duration*100,"%"),i?c.removeClass(this.find(".xg-seek-show"),"xg-back"):c.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(e)}}},{key:"updateThumbnails",value:function(e){var i=this.player,n=i.plugins.thumbnail;n&amp;&amp;n.usable&amp;&amp;this.thumbnail&amp;&amp;n.update(this.thumbnail,e,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state&lt;N.ATTACHED)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!0}},{key:"enableGesture",value:function(){this.config.disableGesture=!1}},{key:"destroy",value:function(){var e=this.player;this.timer&amp;&amp;clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&amp;&amp;this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0),e.root.removeEventListener("touchcancel",this.onRootTouchEnd,!0);var i=this.player.controls;i&amp;&amp;i.center&amp;&amp;(i.center.removeEventListener("touchmove",this.onRootTouchMove,!0),i.center.removeEventListener("touchend",this.onRootTouchEnd,!0),i.center.removeEventListener("touchcancel",this.onRootTouchEnd,!0))}},{key:"render",value:function(){var e=this.config.gradient!=="normal"?"gradient ".concat(this.config.gradient):"gradient";return`</span>
<span class="cstat-no" title="statement not covered" >     &lt;xg-trigger class="trigger"&gt;</span>
<span class="cstat-no" title="statement not covered" >     &lt;div class="`.concat(e,`"&gt;&lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;div class="time-preview"&gt;</span>
<span class="cstat-no" title="statement not covered" >            &lt;div class="xg-seek-show `).concat(this.config.disableSeekIcon?" hide-seek-icon":"",`"&gt;</span>
<span class="cstat-no" title="statement not covered" >              &lt;i class="xg-seek-icon"&gt;&lt;/i&gt;</span>
<span class="cstat-no" title="statement not covered" >              &lt;span class="xg-cur"&gt;00:00&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >              &lt;span class="xg-separator"&gt;/&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >              &lt;span class="xg-dur"&gt;00:00&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >            &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >              &lt;div class="xg-bar xg-timebar"&gt;</span>
<span class="cstat-no" title="statement not covered" >                &lt;div class="xg-curbar"&gt;&lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >              &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;div class="xg-playbackrate xg-top-note"&gt;</span>
<span class="cstat-no" title="statement not covered" >            &lt;span&gt;&lt;i&gt;`).concat(this.config.pressRate,"X&lt;/i&gt;").concat(this.i18n.FORWARD,`&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >     &lt;/xg-trigger&gt;</span>
<span class="cstat-no" title="statement not covered" >    `)}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:360*1e3,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),r})(F);function qr(o){o.preventDefault(),o.returnValue=!1}function _i(o){var a=o.tagName;return!!(a==="INPUT"||a==="TEXTAREA"||o.isContentEditable)}var Ci=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"onBodyKeyDown",function(s){if(t.player){var u=s||window.event,l=u.keyCode,f=v(t),h=f._keyState,d=f.player,g=t.config,p=g.disable,y=g.disableBodyTrigger,_=g.isIgnoreUserActive;if(p||y||!(d.isUserActive||_)||_i(u.target)||!t.checkIsVisible()||u.metaKey||u.altKey||u.ctrlKey){h.isBodyKeyDown=!1;return}!s.repeat&amp;&amp;!h.isKeyDown&amp;&amp;((u.target===document.body||t.config.isGlobalTrigger&amp;&amp;!_i(u.target))&amp;&amp;t.checkCode(l,!0)&amp;&amp;(h.isBodyKeyDown=!0),document.addEventListener("keyup",t.onBodyKeyUp)),h.isBodyKeyDown&amp;&amp;t.handleKeyDown(u)}}),m(v(t),"onBodyKeyUp",function(s){t.player&amp;&amp;(document.removeEventListener("keyup",t.onBodyKeyUp),t.handleKeyUp(s))}),m(v(t),"onKeydown",function(s){if(t.player){var u=s||window.event,l=v(t),f=l._keyState;if(!u.repeat){if(t.config.disable||t.config.disableRootTrigger||u.metaKey||u.altKey||u.ctrlKey)return;u&amp;&amp;(u.keyCode===37||t.checkCode(u.keyCode))&amp;&amp;(u.target===t.player.root||u.target===t.player.video||u.target===t.player.controls.el)&amp;&amp;(f.isKeyDown=!0),t.player.root.addEventListener("keyup",t.onKeyup)}f.isKeyDown&amp;&amp;t.handleKeyDown(u)}}),m(v(t),"onKeyup",function(s){t.player&amp;&amp;(t.player.root.removeEventListener("keyup",t.onKeyup),t.handleKeyUp(s))}),t}return S(r,[{key:"mergekeyCodeMap",value:function(){var e=this,i=this.config.keyCodeMap;i&amp;&amp;Object.keys(i).map(function(n){e.keyCodeMap[n]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(s){i[n][s]&amp;&amp;(e.keyCodeMap[n][s]=i[n][s])}):e.keyCodeMap[n]=i[n]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e=typeof this.config.seekStep=="function"?this.config.seekStep(this.player):this.config.seekStep;!e||typeof e!="number"||(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"setConfig",value:function(e){var i=this;Object.keys(e).forEach(function(n){i.config[n]=e[n]})}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),i=e.height,n=e.top,s=e.bottom,u=window.innerHeight;return!(n&lt;0&amp;&amp;n&lt;0-i*.9||s&gt;0&amp;&amp;s-u&gt;i*.9)}},{key:"checkCode",value:function(e,i){var n=this,s=!1;return Object.keys(this.keyCodeMap).map(function(u){n.keyCodeMap[u]&amp;&amp;e===n.keyCodeMap[u].keyCode&amp;&amp;!n.keyCodeMap[u].disable&amp;&amp;(s=!i||i&amp;&amp;!n.keyCodeMap[u].noBodyTarget)}),s}},{key:"downVolume",value:function(e){var i=this.player;if(!(i.volume&lt;=0)){var n=parseFloat((i.volume-.1).toFixed(1)),s={volume:{from:i.volume,to:n}};this.emitUserAction(e,"change_volume",{props:s}),n&gt;=0?i.volume=n:i.volume=0}}},{key:"upVolume",value:function(e){var i=this.player;if(!(i.volume&gt;=1)){var n=parseFloat((i.volume+.1).toFixed(1)),s={volume:{from:i.volume,to:n}};this.emitUserAction(e,"change_volume",{props:s}),n&lt;=1?i.volume=n:i.volume=1}}},{key:"seek",value:function(e){var i=this.player,n=i.currentTime,s=i.offsetCurrentTime,u=i.duration,l=i.offsetDuration,f=i.timeSegments,h=s&gt;-1?s:n,d=l||u,g=e.repeat&amp;&amp;this.seekStep&gt;=4?parseInt(this.seekStep/2,10):this.seekStep;h+g&lt;=d?h=h+g:h=d;var p=c.getCurrentTimeByOffset(h,f),y={currentTime:{from:n,to:p}};this.emitUserAction(e,"seek",{props:y}),this.player.currentTime=p}},{key:"seekBack",value:function(e){var i=this.player,n=i.currentTime,s=i.offsetCurrentTime,u=i.timeSegments,l=e.repeat?parseInt(this.seekStep/2,10):this.seekStep,f=s&gt;-1?s:n,h=f-l;h&lt;0&amp;&amp;(h=0),h=c.getCurrentTimeByOffset(h,u);var d={currentTime:{from:n,to:h}};this.emitUserAction(e,"seek",{props:d}),this.player.currentTime=h}},{key:"changePlaybackRate",value:function(e){var i=this._keyState,n=this.config,s=this.player;i.playbackRate===0&amp;&amp;(i.playbackRate=s.playbackRate,s.playbackRate=n.playbackRate)}},{key:"playPause",value:function(e){var i=this.player;i&amp;&amp;(this.emitUserAction(e,"switch_play_pause"),i.paused?i.play():i.pause())}},{key:"exitFullscreen",value:function(e){var i=this.player,n=i.fullscreen,s=i.cssfullscreen;n&amp;&amp;(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:n,to:!n}),i.exitFullscreen()),s&amp;&amp;(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:s,to:!s}),i.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var i=this._keyState;if(e.repeat){i.isPress=!0;var n=Date.now();if(n-i.tt&lt;200)return;i.tt=n}this.handleKeyCode(e.keyCode,e,i.isPress)}},{key:"handleKeyUp",value:function(e){var i=this._keyState;i.playbackRate&gt;0&amp;&amp;(this.player.playbackRate=i.playbackRate,i.playbackRate=0),i.isKeyDown=!1,i.isPress=!1,i.tt=0}},{key:"handleKeyCode",value:function(e,i,n){for(var s=Object.keys(this.keyCodeMap),u=0;u&lt;s.length;u++){var l=this.keyCodeMap[s[u]],f=l.action,h=l.keyCode,d=l.disable,g=l.pressAction,p=l.disablePress;if(h===e){if(!d&amp;&amp;!(n&amp;&amp;p)){var y=n&amp;&amp;g||f;typeof y=="function"?f(i,this.player,n):typeof y=="string"&amp;&amp;typeof this[y]=="function"&amp;&amp;this[y](i,this.player,n),this.emit(ji,U({key:s[u],target:i.target,isPress:n},this.keyCodeMap[s[u]]))}qr(i),i.stopPropagation();break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!0,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!0}}}]),r})(pe);function Zr(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}var Jr=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"registerIcons",value:function(){return{loadingIcon:Zr}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return`</span>
<span class="cstat-no" title="statement not covered" >    &lt;xg-loading class="xgplayer-loading"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-loading-inner&gt;&lt;/xg-loading-inner&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-loading&gt;`}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:H.ROOT}}}]),r})(F),Qr=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"_onDurationChange",function(){t.updateSegments();var s=t.player,u=s.currentTime,l=s.timeSegments;if(t._checkIfEnabled(l)){var f=c.getIndexByTime(u,l),h=c.getOffsetCurrentTime(u,l,f);t.player.offsetCurrentTime=h,t.changeIndex(f,l)}}),m(v(t),"_onLoadedData",function(){var s=t.player.timeSegments;if(t._checkIfEnabled(s)){var u=c.getOffsetCurrentTime(0,s);t.player.offsetCurrentTime=u,t.changeIndex(0,s),t.curPos.start&gt;0&amp;&amp;(t.player.currentTime=t.curPos.start)}}),m(v(t),"_onTimeupdate",function(){var s=t.player,u=s.currentTime,l=s.timeSegments;if(t._checkIfEnabled(l)){var f=l.length;t.lastCurrentTime=u;var h=c.getIndexByTime(u,l);h!==t.curIndex&amp;&amp;t.changeIndex(h,l);var d=c.getOffsetCurrentTime(u,l,h);if(t.player.offsetCurrentTime=d,!!t.curPos){var g=t.curPos,p=g.start,y=g.end;u&lt;p?t.player.currentTime=p:u&gt;y&amp;&amp;h&gt;=f-1&amp;&amp;t.player.pause()}}}),m(v(t),"_onSeeking",function(){var s=t.player,u=s.currentTime,l=s.timeSegments;if(t._checkIfEnabled(l))if(u&lt;l[0].start)t.player.currentTime=l[0].start;else if(u&gt;l[l.length-1].end)t.player.currentTime=l[l.length-1].end;else{var f=c.getIndexByTime(u,l);if(f&gt;=0){var h=t.getSeekTime(u,t.lastCurrentTime,f,l);h&gt;=0&amp;&amp;(t.player.currentTime=h)}}}),m(v(t),"_onPlay",function(){var s=t.player,u=s.currentTime,l=s.timeSegments;t._checkIfEnabled(l)&amp;&amp;u&gt;=l[l.length-1].end&amp;&amp;(t.player.currentTime=l[0].start)}),t}return S(r,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on(ue,this._onDurationChange),this.on(oe,this._onLoadedData),this.on(q,this._onTimeupdate),this.on(Ze,this._onSeeking),this.on(Z,this._onPlay)}},{key:"setConfig",value:function(e){var i=this;if(e){var n=Object.keys(e);n.length&lt;1||(n.forEach(function(s){i.config[s]=e[s]}),this.updateSegments())}}},{key:"updateSegments",value:function(){var e=this.config,i=e.disable,n=e.segments,s=this.player;if(i||!n||n.length===0)s.timeSegments=[],s.offsetDuration=0,s.offsetCurrentTime=-1;else{var u=this.formatTimeSegments(n,s.duration);s.timeSegments=u,s.offsetDuration=u.length&gt;0?u[u.length-1].duration:0}}},{key:"formatTimeSegments",value:function(e,i){var n=[];return e?(e.sort(function(s,u){return s.start-u.start}),e.forEach(function(s,u){var l={};if(l.start=s.start&lt;0?0:s.start,l.end=i&gt;0&amp;&amp;s.end&gt;i?i:s.end,!(i&gt;0&amp;&amp;l.start&gt;i)){n.push(l);var f=l.end-l.start;if(u===0)l.offset=s.start,l.cTime=0,l.segDuration=f,l.duration=f;else{var h=n[u-1];l.offset=h.offset+(l.start-h.end),l.cTime=h.duration+h.cTime,l.segDuration=f,l.duration=h.duration+f}}}),n):[]}},{key:"getSeekTime",value:function(e,i,n,s){var u=-1,l=s[n],f=l.start,h=l.end;if(e&gt;=f&amp;&amp;e&lt;=h)return u;var d=e-i;if(d&lt;0&amp;&amp;e&lt;f){var g=i&gt;f?i-f:0;return u=n-1&gt;=0?s[n-1].end+d+g:0,u}return-1}},{key:"_checkIfEnabled",value:function(e){return!(!e||e.length&lt;1)}},{key:"changeIndex",value:function(e,i){this.curIndex=e,e&gt;=0&amp;&amp;i.length&gt;0?this.curPos=i[e]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),r})(pe);function es(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;g&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;/g&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;defs&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;clipPath&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;rect width="40" height="40" fill="white"/&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/clipPath&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;/defs&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}var ts=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),e.rotateDeg=e.config.rotateDeg||0,e}return S(r,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){I(P(r.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(ge,function(){e.rotateDeg&amp;&amp;e.config.innerRotate&amp;&amp;c.setTimeout(e,function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)},100)});var i=this.player.root;this.rootWidth=i.style.width||i.offsetWidth||i.clientWidth,this.rootHeight=i.style.height||i.offsetHeight||i.clientHeight,this.rotateDeg&amp;&amp;this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){I(P(r.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,i){if(e||(e=0),i){this.player.videoRotateDeg=e;return}var n=this.player,s=this.rootWidth,u=this.rootHeight,l=n.root,f=n.innerContainer,h=n.media,d=l.offsetWidth,g=f&amp;&amp;i?f.offsetHeight:l.offsetHeight,p=s,y=u,_=0,b=0;(e===.75||e===.25)&amp;&amp;(p="".concat(g,"px"),y="".concat(d,"px"),_=-(g-d)/2,b=-(d-g)/2);var T="translate(".concat(_,"px,").concat(b,"px) rotate(").concat(e,"turn)"),k={transformOrigin:"center center",transform:T,webKitTransform:T,height:y,width:p},D=i?h:l,A=i?n.getPlugin("poster"):null;Object.keys(k).map(function(B){D.style[B]=k[B],A&amp;&amp;A.root&amp;&amp;(A.root.style[B]=k[B])})}},{key:"rotate",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:!1,i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:!0,n=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:1,s=this.player;this.rotateDeg||(this.rotateDeg=0);var u=e?1:-1;this.rotateDeg=(this.rotateDeg+1+u*.25*n)%1,this.updateRotateDeg(this.rotateDeg,i),s.emit(Ui,this.rotateDeg*360)}},{key:"registerIcons",value:function(){return{rotate:es}}},{key:"render",value:function(){if(!this.config.disable)return`</span>
<span class="cstat-no" title="statement not covered" >    &lt;xg-icon class="xgplayer-rotate"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xgplayer-icon"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      `.concat(ve(this,"ROTATE_TIPS",this.playerConfig.isHideTips),`</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`)}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),r})(Te);function is(){return new DOMParser().parseFromString(`&lt;svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill-rule="evenodd" clip-rule="evenodd"</span>
<span class="cstat-no" title="statement not covered" >    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"</span>
<span class="cstat-no" title="statement not covered" >    fill="white" /&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;`,"image/svg+xml").firstChild}function ns(){return new DOMParser().parseFromString(`&lt;svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill-rule="evenodd" clip-rule="evenodd"</span>
<span class="cstat-no" title="statement not covered" >    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"</span>
<span class="cstat-no" title="statement not covered" >    fill="white" /&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path fill-rule="evenodd" clip-rule="evenodd"</span>
<span class="cstat-no" title="statement not covered" >    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"</span>
<span class="cstat-no" title="statement not covered" >    fill="white" /&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;`,"image/svg+xml").firstChild}var Ee={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},rs=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"switchPIP",function(s){if(!t.isPIPAvailable())return!1;s.stopPropagation&amp;&amp;s.stopPropagation(),t.isPip?(t.exitPIP(),t.emitUserAction(s,"change_pip",{props:"pip",from:!0,to:!1}),t.setAttr("data-state","normal")):t.player.media.readyState===4&amp;&amp;(t.requestPIP(),t.emitUserAction(s,"change_pip",{props:"pip",from:!1,to:!0}),t.setAttr("data-state","pip"))}),t}return S(r,[{key:"beforeCreate",value:function(e){typeof e.player.config.pip=="boolean"&amp;&amp;(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;this.isPIPAvailable()&amp;&amp;(I(P(r.prototype),"afterCreate",this).call(this),this.pMode=Ee.INLINE,this.initPipEvents(),this.config.showIcon&amp;&amp;this.initIcons(),this.once(Je,function(){e.config.showIcon&amp;&amp;(c.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:is,class:"xg-get-pip"},pipIconExit:{icon:ns,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,i=this.player;this.leavePIPCallback=function(){var n=i.paused;c.setTimeout(e,function(){!n&amp;&amp;i.mediaPlay()},0),!n&amp;&amp;i.mediaPlay(),e.setAttr("data-state","normal"),e.pipWindow=null,i.emit(wt,!1)},this.enterPIPCallback=function(n){i.emit(wt,!0),n!=null&amp;&amp;n.pictureInPictureWindow&amp;&amp;(e.pipWindow=n.pictureInPictureWindow),e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(n){var s=i.media.webkitPresentationMode;e.pMode===Ee.FULLSCREEN&amp;&amp;s!==Ee.FULLSCREEN&amp;&amp;i.onFullscreenChange(null,!1),e.pMode=s,s===Ee.PIP?e.enterPIPCallback(n):s===Ee.INLINE&amp;&amp;e.leavePIPCallback(n)},i.media&amp;&amp;(i.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),i.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),r.checkWebkitSetPresentationMode(i.media)&amp;&amp;i.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(e){var i=ee(document.styleSheets).map(function(s){try{return ee(s.cssRules).map(function(l){return l.cssText}).join("")}catch(l){var u=document.createElement("link");u.rel="stylesheet",u.type=s.type,u.media=s.media,u.href=s.href,e.document.head.appendChild(u)}return""}).filter(Boolean).join(`</span>
<span class="cstat-no" title="statement not covered" >`),n=document.createElement("style");n.textContent=i,e.document.head.appendChild(n)}},{key:"requestPIP",value:function(){var e=this,i=this.player,n=this.playerConfig,s=this.config;if(!(!this.isPIPAvailable()||this.isPip))try{var u=n.poster;if(u&amp;&amp;(i.media.poster=c.typeOf(u)==="String"?u:u.poster),s.preferDocument&amp;&amp;this.isDocPIPAvailable()){var l={};if(s.width&amp;&amp;s.height)l.width=s.width,l.height=s.height;else{var f=i.root.getBoundingClientRect();l.width=f.width,l.height=f.height}documentPictureInPicture.requestWindow(l).then(function(h){var d=s.docPiPNode,g=s.docPiPStyle;e.enterPIPCallback();var p=d||i.root,y=p.parentElement,_=p.previousSibling,b=p.nextSibling;e.copyStyleIntoPiPWindow(h);var T=document.createElement("style");if(T.append("body{padding:0; margin:0;}"),g){var k="";typeof g=="string"?k=g:typeof g=="function"&amp;&amp;(k=g.call(s)),k&amp;&amp;T.append(k)}else p===i.root&amp;&amp;T.append(`</span>
<span class="cstat-no" title="statement not covered" >              .xgplayer{width: 100%!important; height: 100%!important;}</span>
<span class="cstat-no" title="statement not covered" >            `);h.document.head.append(T),h.document.body.append(p),h.addEventListener("pagehide",function(D){y&amp;&amp;(b?y.insertBefore(p,b):_?y.insertBefore(p,_.nextSibling):y.appendChild(p)),e.leavePIPCallback()},{once:!0})})}else r.checkWebkitSetPresentationMode(i.media)?i.media.webkitSetPresentationMode("picture-in-picture"):i.media.requestPictureInPicture();return!0}catch(h){return console.error("requestPiP",h),!1}}},{key:"exitPIP",value:function(){var e=this.player;try{if(this.isPIPAvailable()&amp;&amp;this.isPip){var i;this.isDocPIPAvailable()&amp;&amp;(i=documentPictureInPicture)!==null&amp;&amp;i!==void 0&amp;&amp;i.window?documentPictureInPicture.window.close():r.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()}return!0}catch(n){return console.error("exitPIP",n),!1}}},{key:"isPip",get:function(){var e,i=this.player;return!!(this.isDocPIPAvailable()&amp;&amp;(e=documentPictureInPicture)!==null&amp;&amp;e!==void 0&amp;&amp;e.window)||document.pictureInPictureElement&amp;&amp;document.pictureInPictureElement===i.media||i.media.webkitPresentationMode===Ee.PIP}},{key:"isPIPAvailable",value:function(){var e=this.player.media,i=c.typeOf(document.pictureInPictureEnabled)==="Boolean"?document.pictureInPictureEnabled:!1;return i&amp;&amp;(c.typeOf(e.disablePictureInPicture)==="Boolean"&amp;&amp;!e.disablePictureInPicture||e.webkitSupportsPresentationMode&amp;&amp;c.typeOf(e.webkitSetPresentationMode)==="Function")||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&amp;&amp;/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){I(P(r.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),r.checkWebkitSetPresentationMode(e.media)&amp;&amp;e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(!(!this.config.showIcon||!this.isPIPAvailable()))return`&lt;xg-icon class="xgplayer-pip"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xgplayer-icon xg-icon-disable"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      `.concat(ve(this,"PIP",this.playerConfig.isHideTips),`</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`)}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(e){return typeof e.webkitSetPresentationMode=="function"}}]),r})(Te);function ss(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}var as=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),m(v(e),"playNext",function(i){var n=v(e),s=n.player;i.preventDefault(),i.stopPropagation(),e.idx+1&lt;e.config.urlList.length?(e.idx++,e.nextHandler(e.config.urlList[e.idx],e.idx),s.emit(ze,e.idx+1)):(e.nextHandler(),s.emit(ze))}),e.idx=-1,e}return S(r,[{key:"afterCreate",value:function(){!this.config.urlList||this.config.urlList.length===0||(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:ss}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e=L.device==="mobile"?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var i=this.player;e&amp;&amp;(i.pause(),i.currentTime=0,i.switchURL?i.switchURL(e):i.src=e,i.config.url=e,i.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(!(!this.config.urlList||this.config.urlList.length===0))return`</span>
<span class="cstat-no" title="statement not covered" >     &lt;xg-icon class="xgplayer-playnext"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xgplayer-icon"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      `.concat(ve(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),`</span>
<span class="cstat-no" title="statement not covered" >     &lt;/xg-icon&gt;</span>
<span class="cstat-no" title="statement not covered" >    `)}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),r})(F),Ue={exports:{}},os=Ue.exports,ki;function us(){return ki||(ki=1,(function(o,a){(function(r,t){o.exports=t()})(os,function(){return function r(t,e,i){var n=window,s="application/octet-stream",u=i||s,l=t,f=!e&amp;&amp;!i&amp;&amp;l,h=document.createElement("a"),d=function(M){return String(M)},g=n.Blob||n.MozBlob||n.WebKitBlob||d,p=e||"download",y,_;if(g=g.call?g.bind(n):Blob,String(this)==="true"&amp;&amp;(l=[l,u],u=l[0],l=l[1]),f&amp;&amp;f.length&lt;2048&amp;&amp;(p=f.split("/").pop().split("?")[0],h.href=f,h.href.indexOf(f)!==-1)){var b=new XMLHttpRequest;return b.open("GET",f,!0),b.responseType="blob",b.onload=function(M){r(M.target.response,p,s)},setTimeout(function(){b.send()},0),b}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l))if(l.length&gt;1024*1024*1.999&amp;&amp;g!==d)l=A(l),u=l.type||s;else return navigator.msSaveBlob?navigator.msSaveBlob(A(l),p):B(l);else if(/([\x80-\xff])/.test(l)){var T=0,k=new Uint8Array(l.length),D=k.length;for(T;T&lt;D;++T)k[T]=l.charCodeAt(T);l=new g([k],{type:u})}y=l instanceof g?l:new g([l],{type:u});function A(M){var j=M.split(/[:;,]/),V=j[1],R=j[2]=="base64"?atob:decodeURIComponent,$=R(j.pop()),J=$.length,Q=0,me=new Uint8Array(J);for(Q;Q&lt;J;++Q)me[Q]=$.charCodeAt(Q);return new g([me],{type:V})}function B(M,j){if("download"in h)return h.href=M,h.setAttribute("download",p),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout(function(){h.click(),document.body.removeChild(h),j===!0&amp;&amp;setTimeout(function(){n.URL.revokeObjectURL(h.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(M)&amp;&amp;(M="data:"+M.replace(/^data:([\w\/\-\+]+)/,s)),window.open(M)||confirm(`Displaying New Document</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >Use Save As... to download, then click back to return to this page.`)&amp;&amp;(location.href=M),!0;var V=document.createElement("iframe");document.body.appendChild(V),!j&amp;&amp;/^data:/.test(M)&amp;&amp;(M="data:"+M.replace(/^data:([\w\/\-\+]+)/,s)),V.src=M,setTimeout(function(){document.body.removeChild(V)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(y,p);if(n.URL)B(n.URL.createObjectURL(y),!0);else{if(typeof y=="string"||y.constructor===d)try{return B("data:"+u+";base64,"+n.btoa(y))}catch(M){return B("data:"+u+","+encodeURIComponent(y))}_=new FileReader,_.onload=function(M){B(this.result)},_.readAsDataURL(y)}return!0}})})(Ue)),Ue.exports}var ls=us();const cs=Pt(ls);function fs(){return new DOMParser().parseFromString(`&lt;svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24"&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;g id="Group-2"&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;g id="volme_big-copy" transform="translate(488.000000, 340.000000)"&gt;</span>
<span class="cstat-no" title="statement not covered" >          &lt;rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"&gt;&lt;/rect&gt;</span>
<span class="cstat-no" title="statement not covered" >          &lt;rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"&gt;&lt;/rect&gt;</span>
<span class="cstat-no" title="statement not covered" >          &lt;rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"&gt;&lt;/rect&gt;&lt;rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"&gt;&lt;/rect&gt;</span>
<span class="cstat-no" title="statement not covered" >          &lt;path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "&gt;&lt;/path&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;/g&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/g&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/g&gt;</span>
<span class="cstat-no" title="statement not covered" >  &lt;/g&gt;</span>
<span class="cstat-no" title="statement not covered" >&lt;/svg&gt;</span>
<span class="cstat-no" title="statement not covered" >`,"image/svg+xml").firstChild}var hs=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),m(v(e),"download",function(i){if(!e.isLock){e.emitUserAction(i,"download");var n=e.playerConfig.url,s="";c.typeOf(n)==="String"?s=n:c.typeOf(n)==="Array"&amp;&amp;n.length&gt;0&amp;&amp;(s=n[0].src);var u=e.getAbsoluteURL(s);cs(u),e.isLock=!0,e.timer=window.setTimeout(function(){e.isLock=!1,window.clearTimeout(e.timer),e.timer=null},300)}}),e.timer=null,e.isLock=!1,e}return S(r,[{key:"afterCreate",value:function(){I(P(r.prototype),"afterCreate",this).call(this),!this.config.disable&amp;&amp;(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(i){i.preventDefault(),i.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:fs}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var i=document.createElement("div");i.innerHTML='&lt;a href="'.concat(e,'"&gt;x&lt;/a&gt;'),e=i.firstChild.href}return e}},{key:"destroy",value:function(){I(P(r.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return`&lt;xg-icon class="xgplayer-download"&gt;</span>
<span class="cstat-no" title="statement not covered" >   &lt;div class="xgplayer-icon"&gt;</span>
<span class="cstat-no" title="statement not covered" >   &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >   `.concat(ve(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),`</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`)}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_RIGHT,index:3,disable:!0}}}]),r})(Te),ds=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"beforeCreate",value:function(e){typeof e.player.config.screenShot=="boolean"&amp;&amp;(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){I(P(r.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(i){e.fitVideo&amp;&amp;(e.width=i.vWidth,e.height=i.vHeight)},this.once(ge,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,i){var n=document.createElement("a");n.href=e,n.download=i;var s;try{typeof MouseEvent!="undefined"?s=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}):(s=document.createEvent("MouseEvents"),s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null))}catch(u){console.error("MouseEvent unsupported",u)}s&amp;&amp;n.dispatchEvent(s)}},{key:"createCanvas",value:function(e,i){var n=document.createElement("canvas"),s=n.getContext("2d");this.canvasCtx=s,this.canvas=n,n.width=e||this.config.width,n.height=i||this.config.height,s.imageSmoothingEnabled=!0,s.imageSmoothingEnabled&amp;&amp;(s.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var i=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot");var n=this.config;this.shot(n.width,n.height).then(function(s){i.emit(Vi,s),n.saveImg&amp;&amp;i.saveScreenShot(s,n.name+n.format)})}},{key:"shot",value:function(e,i){var n=this,s=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:{quality:.92,type:"image/png"},u=this.config,l=this.player,f=s.quality||u.quality,h=s.type||u.type;return new Promise(function(d,g){var p=null,y;if(l.media.canvas)p=l.media.canvas;else{n.canvas?(n.canvas.width=e||u.width,n.canvas.height=i||u.height):n.createCanvas(e,i),p=n.canvas,y=n.canvasCtx;var _=l.media.videoWidth/l.media.videoHeight,b=p.width/p.height,T=0,k=0,D=l.media.videoWidth,A=l.media.videoHeight,B,M,j,V;_&gt;b?(j=p.width,V=p.width/_,B=0,M=Math.round((p.height-V)/2)):_===b?(j=p.width,V=p.height,B=0,M=0):_&lt;b&amp;&amp;(j=p.height*_,V=p.height,B=Math.round((p.width-j)/2),M=0),y.drawImage(l.media,T,k,D,A,B,M,j,V)}var R=p.toDataURL(h,f).replace(h,"image/octet-stream");R=R.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),d(R)})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){I(P(r.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(ge,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",i="SCREENSHOT";return`</span>
<span class="cstat-no" title="statement not covered" >      &lt;xg-icon class="xgplayer-shot"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="`.concat(e,`"&gt;</span>
<span class="cstat-no" title="statement not covered" >      `).concat(this.icons.screenshotIcon?"":'&lt;span lang-key="'.concat(this.i18nKeys[i],'"&gt;').concat(this.i18n[i],"&lt;/span&gt;"),`</span>
<span class="cstat-no" title="statement not covered" >      &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-icon&gt;`)}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,saveImg:!0,fitVideo:!0,disable:!1,name:"screenshot"}}}]),r})(Te),gs=(function(){function o(a){E(this,o),this.config=a.config,this.parent=a.root,this.root=c.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),a.root.appendChild(this.root);var r=this.config.maxHeight;r&amp;&amp;this.setStyle({maxHeight:r}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var t=this.config.domEventType==="touch"?"touchend":"click";this._delegates=F.delegate.call(this,this.root,"li",t,this.onItemClick)}return S(o,[{key:"renderItemList",value:function(r){var t=this,e=this.config,i=this.root;r?e.data=r:r=e.data,e.style&amp;&amp;Object.keys(e.style).map(function(n){i.style[n]=e[n]}),r.length&gt;0&amp;&amp;(this.attrKeys=Object.keys(r[0])),this.root.innerHTML="",r.map(function(n,s){var u=n.selected?"option-item selected":"option-item";n["data-index"]=s,t.root.appendChild(c.createDom("li","&lt;span&gt;".concat(n.showText,"&lt;/span&gt;"),n,u))})}},{key:"onItemClick",value:function(r){r.delegateTarget||(r.delegateTarget=r.target);var t=r.delegateTarget;if(t&amp;&amp;c.hasClass(t,"selected"))return!1;var e=typeof this.config.onItemClick=="function"?this.config.onItemClick:null,i=this.root.querySelector(".selected");c.addClass(t,"selected"),i&amp;&amp;c.removeClass(i,"selected"),e(r,{from:i?this.getAttrObj(i,this.attrKeys):null,to:this.getAttrObj(t,this.attrKeys)})}},{key:"getAttrObj",value:function(r,t){if(!r||!t)return{};var e={};t.map(function(n){e[n]=r.getAttribute(n)});var i=r.getAttribute("data-index");return i&amp;&amp;(e.index=Number(i)),e}},{key:"show",value:function(){c.removeClass(this.root,"hide"),c.addClass(this.root,"active")}},{key:"hide",value:function(){c.removeClass(this.root,"active"),c.addClass(this.root,"hide")}},{key:"setStyle",value:function(r){var t=this;Object.keys(r).forEach(function(e){t.root.style[e]=r[e]})}},{key:"destroy",value:function(){this._delegates&amp;&amp;(this._delegates.map(function(r){r.destroy&amp;&amp;r.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),o})(),te={SIDE:"side",MIDDLE:"middle",DEFAULT:"default"},Se={CLICK:"click",HOVER:"hover"};function ps(o,a){return o===te.SIDE?a===H.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""}var ye=L.device==="mobile",qe=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),m(v(e),"onEnter",function(i){i.stopPropagation(),e.emit("icon_mouseenter",{pluginName:e.pluginName}),e.switchActiveState(i)}),m(v(e),"switchActiveState",function(i){i.stopPropagation();var n=e.config.toggleMode;n===Se.CLICK?e.toggle(!e.isActive):e.toggle(!0)}),m(v(e),"onLeave",function(i){i.stopPropagation(),e.emit("icon_mouseleave",{pluginName:e.pluginName}),e.config.listType!==te.SIDE&amp;&amp;e.isActive&amp;&amp;e.toggle(!1)}),m(v(e),"onListEnter",function(i){e.enterType=2}),m(v(e),"onListLeave",function(i){e.enterType=0,e.isActive&amp;&amp;e.toggle(!1)}),e.isIcons=!1,e.isActive=!1,e.curValue=null,e.curIndex=0,e}return S(r,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,i=this.config;this.initIcons(),ye=ye||this.domEventType==="touch",ye&amp;&amp;L.device==="mobile"&amp;&amp;i.listType===te.DEFAULT&amp;&amp;(i.listType=te.SIDE),i.hidePortrait&amp;&amp;c.addClass(this.root,"portrait"),this.on([ge,re],function(){e._resizeList()}),this.once(se,function(){i.list&amp;&amp;i.list.length&gt;0&amp;&amp;(e.renderItemList(i.list),e.show())}),ye&amp;&amp;this.on(Dt,function(){e.isActive&amp;&amp;(e.optionsList&amp;&amp;e.optionsList.hide(),e.isActive=!1)}),ye?(i.toggleMode=Se.CLICK,this.activeEvent="touchend"):this.activeEvent=i.toggleMode===Se.CLICK?"click":"mouseenter",i.toggleMode===Se.CLICK?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&amp;&amp;this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,i=this.icons,n=Object.keys(i),s=!1;n.length&gt;0&amp;&amp;(n.forEach(function(u){e.appendChild(".xgplayer-icon",i[u]),!s&amp;&amp;(s=i[u])}),this.isIcons=s),!s&amp;&amp;(this.appendChild(".xgplayer-icon",c.createDom("span","",{},"icon-text")),c.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(e){!this.config.list||this.config.list.length&lt;2||c.addClass(this.root,"show")}},{key:"hide",value:function(){c.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,i,n){if(e===void 0)return"";var s=this.config.list;!n&amp;&amp;(n=this.player.lang),i=!i||c.isUndefined(e[i])?"text":i,typeof e=="number"&amp;&amp;(e=s[e]);try{return K(e[i])==="object"?e[i][n]||e[i].en:e[i]}catch(u){return console.warn(u),""}}},{key:"toggle",value:function(e){if(!(e===this.isActive||this.config.disable)){var i=this.player.controls,n=this.config.listType;e?(n===te.SIDE?i.blur():i.focus(),this.optionsList&amp;&amp;this.optionsList.show()):(n===te.SIDE?i.focus():i.focusAwhile(),this.optionsList&amp;&amp;this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,i){e.stopPropagation();var n=this.config,s=n.listType,u=n.list;this.curIndex=i.to.index,this.curItem=u[this.curIndex],this.changeCurrentText();var l=this.config.isItemClickHide;(l||ye||s===te.SIDE)&amp;&amp;this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,i=this.curIndex&lt;e.length?this.curIndex:0,n=e[i];n&amp;&amp;(this.find(".icon-text").innerHTML=this.getTextByLang(n,"iconText"))}}},{key:"renderItemList",value:function(e,i){var n=this,s=this.config,u=this.optionsList,l=this.player;if(typeof i=="number"&amp;&amp;(this.curIndex=i,this.curItem=s.list[i]),u){u.renderItemList(e),this.changeCurrentText();return}var f={config:{data:e||[],className:ps(s.listType,s.position),onItemClick:function(y,_){n.onItemClick(y,_)},domEventType:ye?"touch":"mouse"},root:s.listType===te.SIDE?l.innerContainer||l.root:this.root};if(this.config.isShowIcon){var h=this.player.root.getBoundingClientRect(),d=h.height,g=s.listType===te.MIDDLE?d-50:d;g&amp;&amp;s.heightLimit&amp;&amp;(f.config.maxHeight="".concat(g,"px")),this.optionsList=new gs(f),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){if(this.config.heightLimit){var e=this.player.root.getBoundingClientRect(),i=e.height,n=this.config.listType===te.MIDDLE?i-50:i;this.optionsList&amp;&amp;this.optionsList.setStyle({maxHeight:"".concat(n,"px")})}}},{key:"destroy",value:function(){var e=this.config;e.toggleMode===Se.CLICK?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&amp;&amp;this.unbind("click",this.onIconClick),this.optionsList&amp;&amp;(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'&lt;xg-icon class="xg-options-icon '.concat(this.config.className||"",`"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;div class="xgplayer-icon"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >   &lt;/xg-icon&gt;`)}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:H.CONTROLS_RIGHT,index:100,list:[],listType:"default",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:Se.HOVER,heightLimit:!0}}}]),r})(F),vs=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),e.curTime=0,e.isPaused=!0,e}return S(r,[{key:"beforeCreate",value:function(e){var i=e.config.list;Array.isArray(i)&amp;&amp;i.length&gt;0&amp;&amp;(e.config.list=i.map(function(n){return!n.text&amp;&amp;n.name&amp;&amp;(n.text=n.name),n.text||(n.text=n.definition),n}))}},{key:"afterCreate",value:function(){var e=this;I(P(r.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(i){e.changeDefinitionList(i)}),this.on(Nt,function(i){e.renderItemList(e.config.list,i.to)}),this.player.definitionList.length&lt;2&amp;&amp;this.hide()}},{key:"show",value:function(e){!this.config.list||this.config.list.length&lt;2||c.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,i=e.list,n=e.defaultDefinition;if(i.length&gt;0){var s=null;i.map(function(u){u.definition===n&amp;&amp;(s=u)}),s||(s=i[0]),this.changeDefinition(s)}}},{key:"renderItemList",value:function(){var e=this,i=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:this.config.list||[],n=arguments.length&gt;1?arguments[1]:void 0,s=n&amp;&amp;n.definition?n.definition:this.config.defaultDefinition;n&amp;&amp;i.forEach(function(f){f.selected=!1});var u=0,l=i.map(function(f,h){var d=U(U({},f),{},{showText:e.getTextByLang(f)||f.definition,selected:!1});return(f.selected||f.definition&amp;&amp;f.definition==s)&amp;&amp;(d.selected=!0,u=h),d});I(P(r.prototype),"renderItemList",this).call(this,l,u)}},{key:"changeDefinitionList",value:function(e){Array.isArray(e)&amp;&amp;(this.config.list=e.map(function(i){return!i.text&amp;&amp;i.name&amp;&amp;(i.text=i.name),i.text||(i.text=i.definition),i}),this.renderItemList(),this.config.list.length&lt;2?this.hide():this.show())}},{key:"changeDefinition",value:function(e,i){this.player.changeDefinition(e,i)}},{key:"onItemClick",value:function(e,i){var n=this.player.definitionList;I(P(r.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:i.from,to:i.to});for(var s=0;s&lt;n.length;s++)i.to&amp;&amp;n[s].definition===i.to.definition&amp;&amp;(i.to.url=n[s].url),i.from&amp;&amp;n[s].definition===i.from.definition&amp;&amp;(i.from.url=n[s].url);this.player.changeDefinition(i.to,i.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return U(U({},qe.defaultConfig),{},{position:H.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),r})(qe),ms=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),e.curRate=1,e}return S(r,[{key:"beforeCreate",value:function(e){var i=e.player.config.playbackRate,n=i?Array.isArray(i)?i:e.config.list:[];Array.isArray(n)&amp;&amp;(e.config.list=n.map(function(s){return typeof s=="number"?s={rate:s,text:"".concat(s,"x")}:!s.text&amp;&amp;s.rate&amp;&amp;(s.text="".concat(s.rate,"x")),s}))}},{key:"afterCreate",value:function(){var e=this;I(P(r.prototype),"afterCreate",this).call(this),this.on(Ri,function(){e.curValue!==e.player.playbackRate&amp;&amp;e.renderItemList()}),this.renderItemList()}},{key:"show",value:function(e){!this.config.list||this.config.list.length===0||I(P(r.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,i){I(P(r.prototype),"onItemClick",this).call(this,e,i);var n=e.delegateTarget,s=Number(n.getAttribute("rate"));if(!s||s===this.curValue)return!1;var u={playbackRate:{from:this.player.playbackRate,to:s}};this.emitUserAction(e,"change_rate",{props:u}),this.curValue=s,this.player.playbackRate=s}},{key:"renderItemList",value:function(){var e=this,i=this.player.playbackRate||1;this.curValue=i;var n=-1,s=this.config.list.map(function(u,l){var f={rate:u.rate};return f.rate===i&amp;&amp;(f.selected=!0,n=l),f.showText=e.getTextByLang(u),f});I(P(r.prototype),"renderItemList",this).call(this,s,n)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,i=this.curIndex&lt;e.length?this.curIndex:0,n=e[i],s="";!n||this.curIndex&lt;0?s="".concat(this.player.playbackRate,"x"):s=this.getTextByLang(n,"iconText"),this.find(".icon-text").innerHTML=s}}},{key:"destroy",value:function(){I(P(r.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return U(U({},qe.defaultConfig),{},{position:H.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),r})(qe),ys=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(n){n.preventDefault(),n.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(Oe,function(i){e.onError(i)})}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{},i=this.player,n=e.errorType,s=i.errorNote?this.i18n[i.errorNote]:"";if(!s)switch(n){case"decoder":s=this.i18n.MEDIA_ERR_DECODE;break;case"network":s=this.i18n.MEDIA_ERR_NETWORK;break;default:s=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=s,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'&lt;span class="xgplayer-error-refresh"&gt;').concat(this.i18n.REFRESH,"&lt;/span&gt;")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return`&lt;xg-error class="xgplayer-error"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xgplayer-errornote"&gt;</span>
<span class="cstat-no" title="statement not covered" >       &lt;span class="xgplayer-error-text"&gt;&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >       &lt;span class="xgplayer-error-tips"&gt;&lt;em class="xgplayer-error-refresh"&gt;&lt;/em&gt;&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-error&gt;`}}],[{key:"pluginName",get:function(){return"error"}}]),r})(F),_s=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(i){(e.config.onClick||e.customOnClick)&amp;&amp;(i.preventDefault(),i.stopPropagation(),e.customOnClick?e.customOnClick(i):e.config.onClick(i))}),this.player.showPrompt=function(){e.showPrompt.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(e){var i=this;Object.keys(e).map(function(n){i.root.style[n]=e[n]})}},{key:"showPrompt",value:function(e){var i=this,n=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:{},s=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:function(){};if(e){this.customOnClick=s;var u=this.config.interval;this.intervalId&amp;&amp;(clearTimeout(this.intervalId),this.intervalId=null),c.addClass(this.root,"show"),n.mode==="arrow"&amp;&amp;c.addClass(this.root,"arrow"),typeof e=="string"?this.find(".xgplayer-prompt-detail").innerHTML=e:this.find(".xgplayer-prompt-detail").innerHTML="".concat(e.text||"")+"".concat(e.highlight?'&lt;i class="highlight"&gt;'.concat(e.highlight,"&lt;/i&gt;"):""),n.style&amp;&amp;this.setStyle(n.style);var l=typeof n.autoHide=="boolean"?n.autoHide:this.config.autoHide;if(l){var f=n.interval||u;this.intervalId=setTimeout(function(){i.hide()},f)}}}},{key:"hide",value:function(){c.removeClass(this.root,"show"),c.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'&lt;xg-prompt class="xgplayer-prompt '.concat(C.CONTROLS_FOLLOW,`"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;span class="xgplayer-prompt-detail"&gt;&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-prompt&gt;`)}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),r})(F),Ti={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function on(o){Object.keys(Ti).map(function(a){o[a]===void 0&amp;&amp;(o[a]=Ti[a])})}var bi={_updateDotDom:function(a,r){if(r){var t=this.calcuPosition(a.time,a.duration),e=a.style||{};e.left="".concat(t.left,"%"),e.width="".concat(t.width,"%"),r.setAttribute("data-text",a.text),r.setAttribute("data-time",a.time),t.isMini?c.addClass(r,"mini"):c.removeClass(r,"mini"),Object.keys(e).map(function(i){r.style[i]=e[i]})}},initDots:function(){var a=this;this._ispots.map(function(r){a.createDot(r,!1)}),this.ispotsInit=!0},createDot:function(a){var r=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:!0,t=this.player.plugins.progress;if(t&amp;&amp;(r&amp;&amp;(on(a),this._ispots.push(a)),!(!this.ispotsInit&amp;&amp;r))){var e=this.calcuPosition(a.time,a.duration),i=a.style||{};i.left="".concat(e.left,"%"),i.width="".concat(e.width,"%");var n="xgspot_".concat(a.id," xgplayer-spot");e.isMini&amp;&amp;(n+=" mini");var s=a.template?'&lt;div class="xgplayer-spot-pop"&gt;'.concat(a.template,"&lt;/div&gt;"):"",u=c.createDom("xg-spot",s,{"data-text":a.text,"data-time":a.time,"data-id":a.id},n);Object.keys(i).map(function(l){u.style[l]=i[l]}),t.outer&amp;&amp;t.outer.appendChild(u),this.positionDot(u,a.id)}},findDot:function(a){if(this.player.plugins.progress){var r=this._ispots.filter(function(t,e){return t.id===a});return r.length&gt;0?r[0]:null}},updateDot:function(a){var r=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:!1,t=this.player.plugins.progress;if(t){var e=this.findDot(a.id);if(e&amp;&amp;Object.keys(a).map(function(n){e[n]=a[n]}),!!this.ispotsInit){var i=t.find('xg-spot[data-id="'.concat(a.id,'"]'));i&amp;&amp;(this._updateDotDom(a,i),r&amp;&amp;this.showDot(a.id))}}},deleteDot:function(a){var r=this._ispots,t=this.player.plugins.progress;if(t){for(var e=[],i=0;i&lt;r.length;i++)r[i].id===a&amp;&amp;e.push(i);for(var n=e.length,s=n-1;s&gt;=0;s--)if(r.splice(e[s],1),this.ispotsInit){var u=t.find('xg-spot[data-id="'.concat(a,'"]'));u&amp;&amp;u.parentElement.removeChild(u)}}},deleteAllDots:function(){var a=this.player.plugins.progress;if(a){if(!this.ispotsInit){this._ispots=[];return}for(var r=a.root.getElementsByTagName("xg-spot"),t=r.length-1;t&gt;=0;t--)a.outer.removeChild(r[t]);this._ispots=[]}},updateAllDots:function(){var a=this,r=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:[],t=this.player.plugins.progress;if(t){if(!this.ispotsInit){this._ispots=r;return}this._ispots=[];var e=t.root.getElementsByTagName("xg-spot"),i=e.length;if(i&gt;r.length)for(var n=i-1;n&gt;r.length-1;n--)t.outer.removeChild(e[n]);r.forEach(function(s,u){u&lt;i?(e[u].setAttribute("data-id","".concat(s.id)),a._ispots.push(s),a.updateDot(s)):a.createDot(s)})}},positionDots:function(){var a=this,r=this._ispots,t=this.playerSize,e=this.player.sizeInfo,i=this.player.plugins.progress;!i||e.width===t.width||(t.width=e.width,t.left=e.left,r.forEach(function(n){var s=i.find('xg-spot[data-id="'.concat(n.id,'"]'));s&amp;&amp;a.positionDot(s,n.id)}))},positionDot:function(a,r){var t=c.findDom(a,".xgplayer-spot-pop");if(t){var e=this.playerSize,i=a.getBoundingClientRect(),n=t.getBoundingClientRect(),s=i.left-e.left,u=e.width-s-i.width/2;if(s&lt;n.width/2||e.width&lt;n.width){var l=n.width/2-s;t.style.left="".concat(l,"px")}else if(u&lt;n.width/2){var f=u-n.width/2+i.width/2;t.style.left="".concat(f,"px")}else t.style.left="50%"}},updateDuration:function(){var a=this,r=this.player.plugins.progress;if(r){var t=this._ispots;t.forEach(function(e){var i=r.find('xg-spot[data-id="'.concat(e.id,'"]'));a._updateDotDom(e,i)})}},getAllDotsDom:function(){var a=this.player.plugins.progress;if(!a)return[];var r=a.root.getElementsByTagName("xg-spot");return r},getDotDom:function(a){var r=this.player.plugins.progress;if(r)return r.find('xg-spot[data-id="'.concat(a,'"]'))}};function Cs(o){var a=o.config,r=o.player;Object.keys(bi).map(function(e){o[e]=bi[e].bind(o)});var t=r.config.progressDot||a.ispots||[];o._ispots=t.map(function(e){return on(e),e}),o.ispotsInit=!1,o.playerSize={left:r.sizeInfo.left,width:r.sizeInfo.width},o.on(ue,function(){o.ispotsInit?o.updateDuration():o.initDots()}),o.on(ge,function(){o.positionDots()})}var we={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},ks=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),m(v(e),"onMousemove",function(i){if(!e.config.disable){if(c.hasClass(i.target,"xg-spot-content")&amp;&amp;e.config.isHideThumbnailHover){e.player.plugins.progress.onMouseLeave(i);return}(e._state.f||c.hasClass(i.target,"xg-spot-content"))&amp;&amp;(c.event(i),i.stopPropagation())}}),m(v(e),"onMousedown",function(i){e.config.disable||(e._state.f||c.hasClass(i.target,"xg-spot-content"))&amp;&amp;(c.event(i),i.stopPropagation())}),m(v(e),"onMouseup",function(i){if(e.isDrag){var n=e.player.plugins.progress;n&amp;&amp;n.pos&amp;&amp;(n.onMouseUp(i),!n.pos.isEnter&amp;&amp;n.onMouseLeave(i))}}),m(v(e),"onDotMouseLeave",function(i){if(!e.config.disable){e._curDot.removeEventListener("mouseleave",e.onDotMouseLeave),e.blurDot(i.target),e._curDot=null;var n=e.player.plugins.progress;n&amp;&amp;n.enableBlur(),e.show()}}),m(v(e),"onProgressMouseOver",function(i,n){if(!e.config.disable&amp;&amp;c.hasClass(n.target,"xgplayer-spot")&amp;&amp;!e._curDot){e._curDot=n.target,e.focusDot(n.target),e._curDot.children.length&gt;0&amp;&amp;e.hide();var s=e.player.plugins.progress;s&amp;&amp;s.disableBlur(),e._curDot.addEventListener("mouseleave",e.onDotMouseLeave)}}),e._ispots=[],e.videoPreview=null,e.videothumbnail=null,e.thumbnail=null,e.timeStr="",e._state={now:0,f:!1},e}return S(r,[{key:"beforeCreate",value:function(e){var i=e.player.plugins.progress;i&amp;&amp;(e.root=i.root)}},{key:"afterCreate",value:function(){var e=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(i,n){n.seekTime&amp;&amp;e.player.seek(n.seekTime)}),this.transformTimeHook=this.hook("transformTime",function(i){e.setTimeContent(c.format(i))}),Cs(this),this.on(ue,function(){e.show()}),this.config.disable&amp;&amp;this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var i=this;e&amp;&amp;Object.keys(e).map(function(n){i.config[n]=e[n]})}},{key:"onPluginsReady",value:function(){var e=this.player;e.plugins.progress&amp;&amp;(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this,i=this.player.plugins.progress;if(i&amp;&amp;(Object.keys(we).map(function(s){e[we[s]]=e[we[s]].bind(e),i.addCallBack(s,e[we[s]])}),L.device!=="mobile")){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var n=this.hook("previewClick",function(){});this.handlerPreviewClick=function(s){s.stopPropagation(),n(parseInt(e._state.now*1e3,10)/1e3,s),i&amp;&amp;i.onMouseUp(s)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(e,i){this.config.disable||!this.player.duration||this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!0,this.videoPreview&amp;&amp;c.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!1,this.videoPreview&amp;&amp;c.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(e,i){this.config.disable||c.hasClass(i.target,"xgplayer-spot")&amp;&amp;(i.stopPropagation(),i.preventDefault(),["time","id","text"].map(function(n){e[n]=i.target.getAttribute("data-".concat(n))}),e.time&amp;&amp;(e.time=Number(e.time)),this.handlerSpotClick(i,e))}},{key:"updateLinePos",value:function(e,i){var n=this.root,s=this.previewLine,u=this.player,l=this.config,f=u.controls.mode,h=f==="flex",d=n.getBoundingClientRect().width;if(!(!d&amp;&amp;this._hasThumnail)){d=this._hasThumnail&amp;&amp;d&lt;l.width?l.width:d;var g=e-d/2,p;g&lt;0&amp;&amp;!h?(g=0,p=e-d/2):g&gt;i-d&amp;&amp;!h?(p=g-(i-d),g=i-d):p=0,p!==void 0&amp;&amp;(s.style.transform="translateX(".concat(p.toFixed(2),"px)")),n.style.transform="translateX(".concat(g.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var i=this.timeText,n=this.timePoint;i.innerHTML=e,!this.thumbnail&amp;&amp;(n.innerHTML=e)}},{key:"updatePosition",value:function(e,i,n,s){var u=this.root,l=this.config,f=this._state;if(u){f.now=n,this.transformTimeHook(n);var h=this.timeStr;s&amp;&amp;s.target&amp;&amp;c.hasClass(s.target,"xgplayer-spot")?(this.showTips(s.target.getAttribute("data-text"),!1,h),this.focusDot(s.target),f.f=!0,l.isFocusDots&amp;&amp;f.f&amp;&amp;(f.now=parseInt(s.target.getAttribute("data-time"),10))):l.defaultText?(f.f=!1,this.showTips(l.defaultText,!0,h)):(f.f=!1,this.hideTips("")),this.updateTimeText(h),this.updateThumbnails(f.now),this.updateLinePos(e,i)}}},{key:"setTimeContent",value:function(e){this.timeStr=e}},{key:"updateThumbnails",value:function(e){var i=this.player,n=this.videoPreview,s=this.config,u=i.plugins.thumbnail;if(u&amp;&amp;u.usable){this.thumbnail&amp;&amp;u.update(this.thumbnail,e,s.width,s.height);var l=n&amp;&amp;n.getBoundingClientRect();this.videothumbnail&amp;&amp;u.update(this.videothumbnail,e,l.width,l.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{};if(L.device!=="mobile"){var i=this.player,n=this.config,s=i.getPlugin("thumbnail");if(s&amp;&amp;s.setConfig(e),!s||!s.usable||!n.isShowThumbnail){c.addClass(this.root,"short-line no-thumbnail");return}else c.removeClass(this.root,"short-line no-thumbnail");n.mode==="short"&amp;&amp;c.addClass(this.root,"short-line"),this._hasThumnail=!0;var u=this.find(".xg-spot-thumbnail");this.thumbnail=s.createThumbnail(u,"progress-thumbnail"),n.isShowCoverPreview&amp;&amp;(this.videoPreview=c.createDom("xg-video-preview","",{},"xgvideo-preview"),i.root.appendChild(this.videoPreview),this.videothumbnail=s.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(e,i){var n=this.player.plugins.progress,s=this.player,u=n.root.getBoundingClientRect().width,l=s.duration/u*6;return e+i&gt;s.duration&amp;&amp;(i=s.duration-e),e/s.duration*100,i/s.duration,{left:e/s.duration*100,width:i/s.duration*100,isMini:i&lt;l}}},{key:"showDot",value:function(e){var i=this.findDot(e);if(i){var n=this.root.getBoundingClientRect(),s=n.width,u=i.time/this.player.duration*s;this.updatePosition(u,s,i.time)}}},{key:"focusDot",value:function(e,i){e&amp;&amp;(i||(i=e.getAttribute("data-id")),c.addClass(e,"active"),this._activeDotId=i)}},{key:"blurDot",value:function(e){if(!e){var i=this._activeDotId;e=this.getDotDom(i)}e&amp;&amp;(c.removeClass(e,"active"),this._activeDotId=null)}},{key:"showTips",value:function(e,i){var n=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:"";c.addClass(this.root,"no-timepoint"),e&amp;&amp;(c.addClass(this.find(".xg-spot-content"),"show-text"),i&amp;&amp;this.config.mode==="production"?(c.addClass(this.root,"product"),this.tipText.textContent=e):(c.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?e:"".concat(n," ").concat(e)))}},{key:"hideTips",value:function(){c.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",c.removeClass(this.find(".xg-spot-content"),"show-text"),c.removeClass(this.root,"product")}},{key:"hide",value:function(){c.addClass(this.root,"hide")}},{key:"show",value:function(e){c.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,i=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&amp;&amp;e.isShowThumbnail&amp;&amp;this.registerThumbnail(i.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,i=this.player.plugins.progress;i&amp;&amp;Object.keys(we).map(function(n){i.removeCallBack(n,e[we[n]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&amp;&amp;this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return L.device==="mobile"||this.playerConfig.isMobileSimulateMode==="mobile"?"":'&lt;div class="xg-spot-info hide '.concat(this.config.mode==="short"?"short-line":"",`"&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xg-spot-content"&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;div class="xg-spot-thumbnail"&gt;</span>
<span class="cstat-no" title="statement not covered" >          &lt;span class="xg-spot-time"&gt;&lt;/span&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;div class="xg-spot-text"&gt;&lt;span class="spot-inner-text"&gt;&lt;/span&gt;&lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xgplayer-progress-point"&gt;00:00&lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xg-spot-ext-text"&gt;&lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >      &lt;div class="xg-spot-line"&gt;&lt;/div&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/div&gt;`)}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),r})(F),Ts=(function(o){w(r,o);var a=x(r);function r(t){var e;return E(this,r),e=a.call(this,t),e.ratio=1,e.interval=null,e._preloadMark={},e}return S(r,[{key:"afterCreate",value:function(){var e=this;this.usable&amp;&amp;this.initThumbnail(),this.on([ue],function(){var i=e.config,n=i.pic_num,s=i.interval;e.usable&amp;&amp;(e.interval=s&gt;0?s:Math.round(e.player.duration*1e3/n)/1e3)})}},{key:"setConfig",value:function(e){var i=this;if(e){var n=Object.keys(e);n.length&lt;1||(n.forEach(function(s){i.config[s]=e[s]}),this.usable&amp;&amp;this.initThumbnail())}}},{key:"usable",get:function(){var e=this.config,i=e.urls,n=e.pic_num;return i&amp;&amp;i.length&gt;0&amp;&amp;n&gt;0}},{key:"initThumbnail",value:function(){var e=this.config,i=e.width,n=e.height,s=e.pic_num,u=e.interval;this.ratio=i/n*100,this.interval=u||Math.round(this.player.duration/s),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e&gt;=0&amp;&amp;e&lt;this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var i=this;if(!this._preloadMark[e]){var n=this.config.urls,s=n.length,u=[];e&gt;0&amp;&amp;u.push(e-1),u.push(e),e&gt;0&amp;&amp;e&lt;s-1&amp;&amp;u.push(e+1),u.map(function(l){!i._preloadMark[l]&amp;&amp;l&gt;=0&amp;&amp;l&lt;s&amp;&amp;(i._preloadMark[l]=1,c.preloadImg(n[l],function(){i._preloadMark[l]=2}))})}}},{key:"getPosition",value:function(e){var i=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:0,n=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:0,s=this.config,u=s.pic_num,l=s.row,f=s.col,h=s.width,d=s.height;this.interval=Math.round(this.player.duration/u);var g=Math.ceil(e/this.interval);g=g&gt;u?u:g;var p=g&lt;l*f?0:Math.ceil(g/(l*f))-1,y=g-p*(f*l),_=y&gt;0?Math.ceil(y/f)-1:0,b=y&gt;0?y-_*f-1:0,T=0,k=0;if(i&amp;&amp;n){var D=i/n;D&lt;h/d?(k=n,T=k*(h/d)):(T=i,k=T/(h/d))}else n?i||(k=n||d,T=k*(h/d)):(T=i||h,k=T/(h/d));var A=this.getUrlByIndex(p);return{urlIndex:p,rowIndex:_,colIndex:b,url:A,height:k,width:T,style:{backgroundImage:"url(".concat(A,")"),backgroundSize:"".concat(T*f,"px auto"),backgroundPosition:"-".concat(b*T,"px -").concat(_*k,"px"),width:"".concat(T,"px"),height:"".concat(k,"px")}}}},{key:"update",value:function(e,i){var n=arguments.length&gt;2&amp;&amp;arguments[2]!==void 0?arguments[2]:0,s=arguments.length&gt;3&amp;&amp;arguments[3]!==void 0?arguments[3]:0,u=arguments.length&gt;4&amp;&amp;arguments[4]!==void 0?arguments[4]:"",l=this.config,f=l.pic_num,h=l.urls;if(!(f&lt;=0||!h||h.length===0)){var d=this.getPosition(i,n,s);this.preload(d.urlIndex),Object.keys(d.style).map(function(g){e.style[g]=d.style[g]}),Object.keys(u).map(function(g){e.style[g]=u[g]})}}},{key:"changeConfig",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,i){var n=c.createDom("xg-thumbnail","",{},"thumbnail ".concat(i));return e&amp;&amp;e.appendChild(n),n}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),r})(F);function mt(o){return o?"background:".concat(o,";"):""}var bs=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"onTimeupdate",function(){var s=t.player.ended,u=v(t),l=u.offsetDuration,f=t.currentTime;f=c.adjustTimeByDuration(f,l,s),t.update({played:f},l)}),t}return S(r,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"currentTime",get:function(){var e=this.player,i=e.offsetCurrentTime,n=e.currentTime;return i&gt;=0?i:n}},{key:"afterCreate",value:function(){var e=this;this.root&amp;&amp;(this.on(q,this.onTimeupdate),this.on(ke,function(){e.reset()}))}},{key:"reset",value:function(){this.update({played:0,cached:0},0)}},{key:"update",value:function(){var e=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:{cached:0,played:0},i=arguments.length&gt;1?arguments[1]:void 0;!i||!this.root||(e.cached&amp;&amp;(this.find("xg-mini-progress-cache").style.width="".concat(e.cached/i*100,"%")),e.played&amp;&amp;(this.find("xg-mini-progress-played").style.width="".concat(e.played/i*100,"%")))}},{key:"render",value:function(){var e=this.playerConfig,i=e.commonStyle,n=e.miniprogress;if(n){var s=this.config,u=s.mode,l=s.height,f={cached:mt(i.cachedColor),played:mt(i.playedColor),progress:mt(i.progressColor),height:l&gt;0&amp;&amp;l!==2?"height: ".concat(l,"px;"):""},h=u==="show"?"xg-mini-progress-show":"";return'&lt;xg-mini-progress class="xg-mini-progress '.concat(h,'" style="').concat(f.progress," ").concat(f.height,`"&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;xg-mini-progress-cache class="xg-mini-progress-cache" style="`).concat(f.cached,`"&gt;&lt;/xg-mini-progress-cache&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;xg-mini-progress-played class="xg-mini-progress-played" style="`).concat(f.played,`"&gt;&lt;/xg-mini-progress-played&gt;</span>
<span class="cstat-no" title="statement not covered" >    &lt;/xg-mini-progress&gt;`)}}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{mode:"auto",height:2}}}]),r})(F),xe={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",POSTER:"poster"};function Es(){try{return parseInt(window.performance.now(),10)}catch(o){return new Date().getTime()}}function Ss(){try{var o=document.createElement("canvas").getContext;return!!o}catch(a){return!1}}var Be=null,ws=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"onLoadedData",function(s){t.player&amp;&amp;(t._frameCount=t.config.startFrameCount,t.stop(),t.renderOnTimeupdate(s),t.off(q,t.renderOnTimeupdate),t.on(q,t.renderOnTimeupdate))}),m(v(t),"onVisibilitychange",function(s){document.visibilityState==="visible"?t._checkIfCanStart()&amp;&amp;t.start():document.visibilityState==="hidden"&amp;&amp;t.stop()}),m(v(t),"renderOnTimeupdate",function(s){if(t._frameCount&gt;0)t.renderOnce(),t._frameCount--;else{t._isLoaded=!0,t.off(q,t.renderOnTimeupdate);var u=t.config.startInterval;!t.player.paused&amp;&amp;t._checkIfCanStart()&amp;&amp;t.start(0,u)}}),m(v(t),"start",function(s,u){var l=t.player.video,f=Es(),h=t.checkVideoIsSupport(l);!h||!t.canvasCtx||(u||(u=t.interval),t.stop(),l.videoWidth&amp;&amp;l.videoHeight&amp;&amp;(t.videoPI=l.videoHeight&gt;0?parseInt(l.videoWidth/l.videoHeight*100,10):0,(t.config.mode===xe.REAL_TIME||f-t.preTime&gt;=u)&amp;&amp;(l&amp;&amp;l.videoWidth&amp;&amp;t.update(h,t.videoPI),t.preTime=f)),t.frameId=t._loopType==="timer"?c.setTimeout(v(t),t.start,u):c.requestAnimationFrame(t.start))}),m(v(t),"stop",function(){t.frameId&amp;&amp;(t._loopType==="timer"?c.clearTimeout(v(t),t.frameId):c.cancelAnimationFrame(t.frameId),t.frameId=null)}),t}return S(r,[{key:"afterCreate",value:function(){var e=this;this.playerConfig.dynamicBg===!0&amp;&amp;(this.config.disable=!1),r.isSupport||(this.config.disable=!0);var i=this.config,n=i.disable,s=i.mode,u=i.frameRate;n||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/u,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==xe.REAL_TIME&amp;&amp;this.interval&gt;=1e3?"timer":"animation",this.once(Je,function(){e.player&amp;&amp;(e.init(),e.renderByPoster(),e.player.paused||e.start())}),s!==xe.POSTER&amp;&amp;(s!==xe.FIRST_FRAME&amp;&amp;(this.on(ke,function(){e.stop()}),this.on(Z,function(){var l=e.config.startInterval;e._checkIfCanStart()&amp;&amp;e.start(0,l)}),this.on(Ae,function(){e.stop()})),this.on(oe,this.onLoadedData),this.on(Lt,function(){e._isLoaded=!1,e.stop()}),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(e){var i=this;Object.keys(e).forEach(function(n){n==="root"&amp;&amp;e[n]!==i.config[n]?i.reRender(e[n]):n==="frameRate"?i.interval=parseInt(1e3/e[n],10):n==="disable"&amp;&amp;e[n]&amp;&amp;i.stop(),i.config[n]=e[n]})}},{key:"init",value:function(e){var i=this.player,n=this.config;this.canvasFilter=r.supportCanvasFilter();try{var s=e||n.root;s||(s=n.isInnerRender&amp;&amp;i.innerContainer||i.root),s.insertAdjacentHTML("afterbegin",'&lt;div class="xgplayer-dynamic-bg" data-index="'.concat(n.index,`"&gt;&lt;canvas&gt;</span>
<span class="cstat-no" title="statement not covered" >        &lt;/canvas&gt;&lt;xgmask&gt;&lt;/xgmask&gt;&lt;/div&gt;`)),this.root=s.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=n.filter,this.canvas.style.webkitFilter=n.filter),this.mask=this.find("xgmask"),n.addMask&amp;&amp;(this.mask.style.background=n.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(u){O.logError("plugin:DynamicBg",u)}}},{key:"reRender",value:function(e){var i=this.config.disable;if(!(!i&amp;&amp;!this.root)){this.stop();var n=this.root?this.root.parentElement:null;if(n!==e&amp;&amp;n.removeChild(this.root),!e){this.root=null;return}this.init(e),this.renderOnce();var s=this.config.startInterval;this._checkIfCanStart()&amp;&amp;this.start(0,s)}}},{key:"checkVideoIsSupport",value:function(e){if(!e)return null;var i=e&amp;&amp;e instanceof window.HTMLVideoElement?e:e.canvas?e.canvas:e.flyVideo?e.flyVideo:null;if(i&amp;&amp;!(L.browser==="safari"&amp;&amp;c.isMSE(i)))return i;var n=i?i.tagName.toLowerCase():"";return n==="canvas"||n==="img"?i:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var i=c.typeOf(e)==="String"?e:c.typeOf(e.poster)==="String"?e.poster:null;this.updateImg(i)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&amp;&amp;!this.player.paused&amp;&amp;e!==xe.FIRST_FRAME&amp;&amp;e!==xe.POSTER}},{key:"renderOnce",value:function(){var e=this.player.video;if(!(!e.videoWidth||!e.videoHeight)){this.videoPI=parseInt(e.videoWidth/e.videoHeight*100,10);var i=this.checkVideoIsSupport(e);i&amp;&amp;this.update(i,this.videoPI)}}},{key:"updateImg",value:function(e){var i=this;if(e){var n=this.canvas.getBoundingClientRect(),s=n.width,u=n.height,l=new window.Image;l.onload=function(){if(!(!i.canvas||i.frameId||i.isStart)){i.canvas.height=u,i.canvas.width=s;var f=parseInt(s/u*100,10);i.update(l,f),l=null}},l.src=e}}},{key:"update",value:function(e,i){if(!(!this.canvas||!this.canvasCtx||!i))try{var n=this._pos,s=this.config,u=this.canvas.getBoundingClientRect(),l=u.width,f=u.height;if(l!==n.width||f!==n.height||n.pi!==i){var h=parseInt(l/f*100,10);n.pi=i,n.width!==l&amp;&amp;(n.width=this.canvas.width=l),n.height!==f&amp;&amp;(n.height=this.canvas.height=f);var d=f,g=l;h&lt;i?g=parseInt(f*i/100,10):h&gt;i&amp;&amp;(d=parseInt(l*100/i,10)),n.rwidth=g*s.multiple,n.rheight=d*s.multiple,n.x=(l-n.rwidth)/2,n.y=(f-n.rheight)/2}this.canvasFilter&amp;&amp;(this.canvasCtx.filter=s.filter),this.canvasCtx.drawImage(e,n.x,n.y,n.rwidth,n.rheight)}catch(p){O.logError("plugin:DynamicBg",p)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return typeof Be=="boolean"||(Be=Ss()),Be}},{key:"supportCanvasFilter",value:function(){return!(L.browser==="safari"||L.browser==="firefox")}}]),r})(F),xs={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:""},mse:{code:2,msg:""},parse:{code:3,msg:""},format:{code:4,msg:""},decoder:{code:5,msg:""},runtime:{code:6,msg:""},timeout:{code:7,msg:""},other:{code:8,msg:""}},HAVE_NOTHING:"/",HAVE_METADATA:"/",HAVE_CURRENT_DATA:"/",HAVE_FUTURE_DATA:"",HAVE_ENOUGH_DATA:"",NETWORK_EMPTY:"/",NETWORK_IDLE:"/",NETWORK_LOADING:"",NETWORK_NO_SOURCE:"/",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"/",REPLAY:"",ERROR:"",PLAY_TIPS:"",PAUSE_TIPS:"",PLAYNEXT_TIPS:"",DOWNLOAD_TIPS:"",ROTATE_TIPS:"",RELOAD_TIPS:"",FULLSCREEN_TIPS:"",EXITFULLSCREEN_TIPS:"",CSSFULLSCREEN_TIPS:"",EXITCSSFULLSCREEN_TIPS:"",TEXTTRACK:"",PIP:"",SCREENSHOT:"",LIVE:"",OFF:"",OPEN:"",MINI_DRAG:"",MINISCREEN:"",REFRESH_TIPS:"",REFRESH:"",FORWARD:"",LIVE_TIP:""}},Le="info",yt=Yi,Ps=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"_recordUserActions",function(s){var u=t._getTime(),l=Object.assign({},s,{msg:s.msg||s.action});t._stats[Le].push(U(U({type:"userAction"},u),{},{payload:l}))}),m(v(t),"_onReset",function(){t.reset()}),m(v(t),"_recordInfo",function(s){t.info(s)}),m(v(t),"_downloadStats",function(){var s=t.getStats(),u=new Blob([JSON.stringify(s)],{type:"application/json"}),l=window.URL.createObjectURL(u),f=document.createElement("a");f.style.display="none",f.href=l,f.download="player.txt",f.disabled=!1,f.click()}),t}return S(r,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(Ke,this._recordUserActions),this.on(yt.STATS_INFO,this._recordInfo),this.on(yt.STATS_DOWNLOAD,this._downloadStats),this.on(yt.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(e){e.profile?this._infoProfile(e):this._info(e)}},{key:"_info",value:function(e){var i=this._getTime();this._stats[Le].push(U(U({},i),{},{payload:e}))}},{key:"_infoProfile",value:function(e){if(e&amp;&amp;e.startMs){var i=Date.now(),n=i-e.startMs,s=U({cat:"function",dur:n,name:e.name||e.msg,ph:"X",pid:0,tid:0,ts:e.startMs,profile:!0},e);this._info(s)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(e={},m(e,Le,[]),m(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player,i=e.media,n=[],s=0;s&lt;i.buffered.length;s++)n.push({start:i.buffered.start(s),end:i.buffered.end(s)});var u={currentTime:i.currentTime,readyState:i.readyState,buffered:n,paused:i.paused,ended:i.ended};return this._stats.media=u,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){var e=this._stats[Le],i=e.map(function(n){var s=n.payload.data,u="";try{s instanceof Error?u=s.msg:s!==void 0&amp;&amp;(u=JSON.stringify(s))}catch(l){}return"[".concat(n.timeFormat,"] : ").concat(n.payload.msg," ").concat(u," ")});return i}},{key:"_getProfile",value:function(){var e={traceEvents:[]},i=this._stats[Le];return i.forEach(function(n){n.payload.profile&amp;&amp;e.traceEvents.push(n.payload)}),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),r})(pe),un=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"onGapJump",function(){var s=v(t),u=s.player,l=s.config;if(u.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(u.media.seeking){if(!t.seekingEventReceived)return}else t.seekingEventReceived=!1;if(!(u.media.paused&amp;&amp;u.media.currentTime!==0&amp;&amp;t.hasPlayed)){var f=u.media.buffered,h=l.smallGapLimit||.5,d=l.gapDetectionThreshold||.3,g=u.media.currentTime,p=t._getIndex(f,g,d);if(!(p===null||p===0)){f.start(p),f.end(p);var y=f.start(p)+.1,_=u.media.duration;if(!(y&gt;_)){var b=y-g,T=b&lt;=h;b&lt;r.BROWSER_GAP_TOLERANCE||T&amp;&amp;(l.useGapJump!==!1&amp;&amp;(u.media.currentTime=t.isSafari?y+.1:y),t.player&amp;&amp;t.player.emit("detectGap"),u.media.currentTime,g-u.media.currentTime,y!==.08&amp;&amp;u&amp;&amp;u.emit("log",{type:"oneevent",end_type:"gap",vid:u.config.vid,ext:{video_postion:Math.floor(y*1e3)}}))}}}}}),t}return S(r,[{key:"afterCreate",value:function(){var e=this,i=this.config.useGapJump;i!==!1&amp;&amp;(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&amp;&amp;!/Chrome/.test(navigator.userAgent)&amp;&amp;!/BlackBerry/.test(navigator.platform),this.on(Me,this.onGapJump),this.on(Z,function(){e.hasPlayed=!0}),this.on(Ze,function(){e.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(e,i,n){if(!e||!e.length||e.length===1&amp;&amp;e.end(0)-e.start(0)&lt;1e-6)return null;for(var s=this._getBuffered(e),u=null,l=0;l&lt;s.length;l++){var f=s[l];if(f.start&gt;i&amp;&amp;(l===0||s[l-1].end-i&lt;=n)){u=l;break}}return u}},{key:"_getBuffered",value:function(e){if(!e)return[];for(var i=[],n=0;n&lt;e.length;n++)i.push({start:e.start(n),end:e.end(n)});return i}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),r})(F);un.BROWSER_GAP_TOLERANCE=.001;var Is=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"onWaiting",function(){var s=v(t),u=s.config;t.jumpCnt&gt;u.jumpCntMax||t.timer||u.useWaitingTimeoutJump===!1||(t.timer=setTimeout(t.onJump,u.waitingTime*1e3))}),m(v(t),"onJump",function(){var s=v(t),u=s.player,l=s.config;if(clearTimeout(t.timer),t.timer=null,!(t.jumpCnt&gt;l.jumpCntMax||l.useWaitingTimeoutJump===!1)&amp;&amp;!(u.media.paused&amp;&amp;u.media.currentTime!==0&amp;&amp;t.hasPlayed)){t.jumpSize=l.jumpSize*(t.jumpCnt+1),t.jumpCnt===l.jumpSize&amp;&amp;t.jumpSize&lt;6&amp;&amp;(t.jumpSize=6);var f=u.currentTime+t.jumpSize,h=u.media.duration;f&gt;h||(t.jumpCnt++,u.currentTime=f)}}),t}return S(r,[{key:"afterCreate",value:function(){var e=this,i=this.config,n=i.useWaitingTimeoutJump,s=i.jumpSize;n!==!1&amp;&amp;(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=s,this.on(Me,this.onWaiting),this.on([At,se],function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize}),this.on(Z,function(){e.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),r})(F),Pe="cdn",He=["cdn"],As=(function(o){w(r,o);var a=x(r);function r(){var t;E(this,r);for(var e=arguments.length,i=new Array(e),n=0;n&lt;e;n++)i[n]=arguments[n];return t=a.call.apply(a,[this].concat(i)),m(v(t),"getSpeed",function(){var s=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:Pe;if(!t.speedListCache||!t.speedListCache[s]||t.speedListCache[s].length&lt;=0)return 0;var u=0;return t.speedListCache[s].map(function(l){u+=l}),Math.floor(u/t.speedListCache[s].length)}),m(v(t),"startTimer",function(){c.isMSE(t.player.video)||(t.initSpeedList(),t.cnt=0,t.timer=setTimeout(t.testSpeed,t.config.testTimeStep))}),m(v(t),"initSpeedList",function(){t.speedListCache={},He.forEach(function(s){t.speedListCache[s]=[]})}),m(v(t),"_onRealSpeedChange",function(s){s.speed&amp;&amp;t.appendList(s.speed,s.type||Pe)}),m(v(t),"testSpeed",function(){if(clearTimeout(t.timer),t.timer=null,!(!t.player||!t.config.openSpeed)){var s=t.config,u=s.url,l=s.loadSize,f=s.testCnt,h=s.testTimeStep,d=u+(u.indexOf("?")&lt;0?"?testst=":"&amp;testst=")+Date.now();if(!(t.cnt&gt;=f)){t.cnt++;try{var g=new Date().getTime(),p=null,y=new XMLHttpRequest;t.xhr=y,y.open("GET",d);var _={},b=Math.floor(Math.random()*10);_.Range="bytes="+b+"-"+(l+b),_&amp;&amp;Object.keys(_).forEach(function(T){y.setRequestHeader(T,_[T])}),y.onreadystatechange=function(){if(y.readyState===4){t.xhr=null,p=new Date().getTime();var T=y.getResponseHeader("Content-Length")/1024*8,k=Math.round(T*1e3/(p-g));t.appendList(k),t.timer=setTimeout(t.testSpeed,h)}},y.send()}catch(T){console.error(T)}}}}),m(v(t),"appendList",function(s){var u=arguments.length&gt;1&amp;&amp;arguments[1]!==void 0?arguments[1]:Pe;if(!(!t.speedListCache||!t.speedListCache[u])){var l=t.config.saveSpeedMax;t.speedListCache[u].length&gt;=l&amp;&amp;t.speedListCache[u].shift(),t.speedListCache[u].push(s);var f=v(t),h=f.player;h&amp;&amp;(u===Pe?h.realTimeSpeed=s:h[t.getSpeedName("realTime",u)]=s),t.updateSpeed(u)}}),m(v(t),"updateSpeed",function(){var s=arguments.length&gt;0&amp;&amp;arguments[0]!==void 0?arguments[0]:Pe,u=t.getSpeed(s),l=v(t),f=l.player;if(f)if(s===Pe)(!f.avgSpeed||u!==f.avgSpeed)&amp;&amp;(f.avgSpeed=u,f.emit(Et,{speed:u,realTimeSpeed:f.realTimeSpeed}));else{var h=t.getSpeedName("avg",s);(!f[h]||u!==f[h])&amp;&amp;(f[h]=u,f.emit(Et,{speed:u,realTimeSpeed:f.realTimeSpeed}))}}),t}return S(r,[{key:"afterCreate",value:function(){var e=this.config,i=e.openSpeed,n=e.addSpeedTypeList;(n==null?void 0:n.length)&gt;0&amp;&amp;He.push.apply(He,ee(n)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,i&amp;&amp;this.on([oe,je],this.startTimer)}},{key:"getSpeedName",value:function(e,i){return e+"Speed"+i.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&amp;&amp;this.timer){clearTimeout(this.timer),this.timer=null;return}if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([oe,je],this.startTimer),He.forEach(function(i){e.speedListCache&amp;&amp;e.speedListCache[i]&amp;&amp;(e.speedListCache[i]=[])}),this.speedListCache&amp;&amp;(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&amp;&amp;this.xhr.readyState!==4&amp;&amp;(this.xhr.cancel&amp;&amp;this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:200*1024,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),r})(F),Ls=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r,[{key:"afterCreate",value:function(){var e=this,i=this.player,n=this.config,s=i.media||i.video;if(this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],!n.disabled){var u=s.getVideoPlaybackQuality;u&amp;&amp;(this.on(Z,function(){e._startTick()}),this.on(Ae,function(){e._stopTick()}),this.on(Ce,function(){e._stopTick()}),this.on(ke,function(){e._stopTick()}))}}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout(function(){e._checkDecodeFPS(),e._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(e,i){for(var n=!1,s=[],u=0;u&lt;i.length;u++){var l=i.start(u),f=i.end(u);if(s.push({start:l,end:f}),l&lt;=e&amp;&amp;e&lt;=f-1){n=!0;break}}return{enoughBuffer:n,buffers:s}}},{key:"_checkStuck",value:function(e,i,n,s){var u=this.player.media||this.player.video,l=document.hidden,f=u.paused,h=u.readyState,d=u.currentTime,g=u.buffered;if(!(l||f||h&lt;4)){var p=this._checkBuffer(d,g),y=p.enoughBuffer,_=p.buffers;y&amp;&amp;(e&lt;=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:d,buffers:_,curDecodedFrames:e,totalVideoFrames:i,droppedVideoFrames:n,checkInterval:s}),this._currentStuckCount&gt;=this.config.stuckCount&amp;&amp;(this.emit($i,this._payload),this._reset())):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){var e=this.player.media||this.player.video;if(e){var i=e.getVideoPlaybackQuality(),n=i.totalVideoFrames,s=i.droppedVideoFrames,u=performance.now();if(n&amp;&amp;this._lastCheckPoint){var l=n-this._lastDecodedFrames,f=u-this._lastCheckPoint;this._checkStuck(l,n,s,f)}this._lastDecodedFrames=n,this._lastCheckPoint=u}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),r})(F);Ie.use(xs);var Ds=S(function o(a,r){var t,e,i;E(this,o);var n=r&amp;&amp;r.isMobileSimulateMode==="mobile",s=r.isLive,u=s?[]:[Qr,nn,bs,ks,rn],l=[].concat(u,[tn,en,ts,as,vs,ms,hs,ds,sn,rs]),f=[Mr,Nr,Br,Jr,Hr,ys,_s,Ts,Wr];this.plugins=[Ps,Rr].concat(ee(l),f,[un,Is]);var h=n?"mobile":L.device;switch(h){case"pc":(t=this.plugins).push.apply(t,[Ci,pt,xt,As,Ls]);break;case"mobile":(e=this.plugins).push.apply(e,[Xr]);break;default:(i=this.plugins).push.apply(i,[Ci,pt,xt])}(L.os.isIpad||h==="pc")&amp;&amp;this.plugins.push(ws),L.os.isIpad&amp;&amp;this.plugins.push(pt),this.ignores=[],this.i18n=[]}),W=(function(o){w(r,o);var a=x(r);function r(){return E(this,r),a.apply(this,arguments)}return S(r)})(tt);m(W,"defaultPreset",Ds);m(W,"Util",c);m(W,"Sniffer",L);m(W,"Errors",Ve);m(W,"Events",er);m(W,"Plugin",F);m(W,"BasePlugin",pe);m(W,"I18N",Ie);m(W,"STATE_CLASS",C);m(W,"InstManager",Qi);m(W,"PlayIcon",tn);m(W,"TimeIcon",rn);m(W,"Progress",nn);m(W,"FullscreenIcon",en);m(W,"CssFullscreenIcon",xt);m(W,"VolumeIcon",sn);const Rs=Si({__name:"VideoPlayer",props:{url:{type:String,default:"",required:!0},poster:{type:String,default:""}},setup(o,{expose:a}){const r=o,t=_t(),e=_t(),i=()=&gt;{de(e)&amp;&amp;(t.value=new W(Gt(Wt({autoplay:!1},r),{el:de(e)})))};return gn(()=&gt;{i()}),pn(()=&gt;r,n=&gt;it(null,null,function*(){var s;yield xi(),n&amp;&amp;((s=de(t))==null||s.setConfig(n))}),{deep:!0}),vn(()=&gt;{var n;(n=de(t))==null||n.destroy()}),a({playerExpose:()=&gt;de(t)}),(n,s)=&gt;(wi(),mn("div",{ref_key:"videoEl",ref:e},null,512))}}),Os=Si({__name:"VideoPlayerViewer",props:{show:{type:Boolean,default:!1},url:{type:String,default:"",required:!0},poster:{type:String,default:""},id:{type:String,default:""}},setup(o){const a=o,r=_t(a.show),t=()=&gt;it(null,null,function*(){r.value=!1,yield xi();const e=document.getElementById(a.id);e&amp;&amp;document.body.removeChild(e)});return(e,i)=&gt;yn((wi(),Cn(de(wn),{onClick:t},{default:kn(()=&gt;[zt("div",{class:"w-full h-full flex justify-center items-center relative",onClick:t},[zt("div",{class:"w-44px h-44px color-[#fff] bg-[var(--el-text-color-regular)] rounded-full border-[#fff] flex justify-center items-center cursor-pointer absolute top-40px right-40px",onClick:t},[Ct(de(bn),{icon:"vi-ep:close",size:24})]),Ct(de(Rs),{url:o.url,poster:o.poster},null,8,["url","poster"])])]),_:1},512)),[[_n,r.value]])}});let Ei=null;function Hs(o){if(!En)return;const{url:a,poster:r}=o,t={},e=document.createElement("div"),i=Sn();e.id=i,t.url=a,t.poster=r,t.show=!0,t.id=i,document.body.appendChild(e),Ei=Ct(Os,t),Tn(Ei,e)}export{Rs as _,Hs as c};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-08-25T04:37:24.182Z
            </div>
        <script src="../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../sorter.js"></script>
        <script src="../../../block-navigation.js"></script>
    </body>
</html>
    