
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for admin-vue/dist-pro/assets/Waterfall-DnL442hz.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../index.html">All files</a> / <a href="index.html">admin-vue/dist-pro/assets</a> Waterfall-DnL442hz.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >var K=Object.defineProperty,Q=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var N=(e,t,a)=&gt;t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,B=(e,t)=&gt;{for(var a in t||(t={}))U.call(t,a)&amp;&amp;N(e,a,t[a]);if(D)for(var a of D(t))q.call(t,a)&amp;&amp;N(e,a,t[a]);return e},z=(e,t)=&gt;Q(e,R(t));var E=(e,t,a)=&gt;new Promise((j,w)=&gt;{var o=i=&gt;{try{f(a.next(i))}catch(n){w(n)}},y=i=&gt;{try{f(a.throw(i))}catch(n){w(n)}},f=i=&gt;i.done?j(i.value):Promise.resolve(i.value).then(o,y);f((a=a.apply(e,t)).next())});import{p as u,b as X,H as Y,J as Z,a as _,G as ee}from"./index-BEu9Qr3B.js";import{I as te}from"./element-plus-BmofUjmf.js";import{x as P,r as x,w as ae,j as le,u as l,y as p,z as v,H as se,Q as M,C as I,I as H,a4 as O,P as S,J as A,n as J,K as oe,L as ne,V as re}from"./vue-chunks-Cb_T6hIW.js";import{_ as ie}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BgEaYxDA.js";/* empty css                *//* empty css                  */const ce=["src"],ue=["src"],fe=P({__name:"Waterfall",props:{data:u.arrayOf(u.any),reset:u.bool.def(!0),width:u.number.def(200),gap:u.number.def(20),props:u.objectOf(u.string).def({src:"src",height:"height"}),cols:u.number.def(void 0),loadingText:u.string.def("加载中..."),loading:u.bool.def(!1),end:u.bool.def(!1),endText:u.string.def("没有更多了"),autoCenter:u.bool.def(!0),layout:u.oneOf(["javascript","flex"]).def("flex")},emits:["loadMore"],setup(e,{emit:t}){const{getPrefixCls:a}=X(),j=a("waterfall"),w=t,o=e,y=x(),f=x([]),i=x(0),n=x(0),d=x(),h=x(0),g=x([]),F=()=&gt;E(null,null,function*(){var T;g.value=[];const{props:m,width:$,gap:s}=o,r=o.data;yield J();const b=l(y);if(!b)return;h.value=(T=o.cols)!=null?T:Math.floor(b.clientWidth/($+s));const k=r.length;for(let c=0;c&lt;k;c++)if(c&lt;l(h))f.value[c]=r[c][m.height],g.value.push(z(B({},r[c]),{top:0,left:c*($+s)}));else{let C=f.value[0],L=0;for(let W=1;W&lt;l(h);W++)l(f)[W]&lt;C&amp;&amp;(C=l(f)[W],L=W);f.value[L]+=r[c][m.height]+s,g.value.push(z(B({},r[c]),{top:C+s,left:L*($+s)}))}i.value=Math.max(...l(f)),n.value=l(h)*($+s)-s}),G=()=&gt;E(null,null,function*(){var T;const{width:m,gap:$}=o,s=o.data;yield J();const r=l(y);if(!r)return;h.value=(T=o.cols)!=null?T:Math.floor(r.clientWidth/(m+$));const b=s.length,k=new Array(l(h)).fill([]);for(let c=0;c&lt;b;c++){const C=c%l(h);k[C]=[...k[C],s[c]]}g.value=k}),V=()=&gt;{const{layout:m}=o;m==="javascript"?F():m==="flex"&amp;&amp;G()};return ae(()=&gt;[o.data,o.cols],()=&gt;{V()},{immediate:!0}),le(()=&gt;{l(o.reset)&amp;&amp;Y(window,"resize",te(V,300)),Z(l(d),([{isIntersecting:m}])=&gt;{m&amp;&amp;!o.loading&amp;&amp;!o.end&amp;&amp;w("loadMore")},{threshold:.1})}),(m,$)=&gt;(v(),p("div",{class:A([l(j),"flex","items-center",{"justify-center":e.autoCenter}]),ref_key:"wrapEl",ref:y,style:M({height:`${e.layout==="javascript"?i.value+40:"auto"}px`})},[e.layout==="javascript"?(v(),p("div",{key:0,class:"relative",style:M({width:`${n.value}px`,height:`${i.value+40}px`})},[(v(!0),p(H,null,O(g.value,(s,r)=&gt;(v(),p("div",{class:A([`${l(j)}-item__${r}`,{absolute:e.layout==="javascript"}]),key:`water-${r}`,style:M({width:`${e.width}px`,height:`${s[e.props.height]}px`,top:`${s.top}px`,left:`${s.left}px`})},[I("img",{src:s[e.props.src],class:"w-full h-full block",alt:"",srcset:""},null,8,ce)],6))),128)),I("div",{ref_key:"loadMore",ref:d,class:"h-40px flex justify-c</span></span>enter absolute w-full",style:M({top:`${i.value+e.gap}px`})},S(e.end?e.endText:e.loadingText),5)],4)):e.layout==="flex"?(v(),p("div",{key:1,class:"relative flex pb-40px",style:M({width:e.cols?"100%":"auto"})},[(v(!0),p(H,null,O(g.value,(s,r)=&gt;(v(),p("div",{key:`waterWrap-${r}`,class:"flex-1",style:M({marginRight:r===g.value.length-1?"0":`${e.gap}px`})},[(v(!0),p(H,null,O(s,(b,k)=&gt;(v(),p("div",{key:`waterWrap-${r}-${k}`,style:M({marginBottom:`${e.gap}px`,width:e.cols?"100%":`${e.width}px`,height:e.cols?"auto":`${b[e.props.height]}px`})},[I("img",{src:b[e.props.src],class:"w-full h-full block",alt:"",srcset:""},null,8,ue)],4))),128))],4))),128)),I("div",{ref_key:"loadMore",ref:d,class:"h-40px flex justify-center absolute w-full items-center",style:{bottom:0}},S(e.end?e.endText:e.loadingText),513)],4)):se("",!0)],6))}}),pe=P({__name:"Waterfall",setup(e){const t=x([]),a=(n,d)=&gt;Math.floor(Math.random()*(d-n+1))+n,j=(n,d)=&gt;`https://picsum.photos/${n}/${d}?random=${Math.random()}`,w=()=&gt;{const n=[];for(let d=0;d&lt;20;d++){const h=a(100,500),g=a(100,500);n.push({width:g,height:h,id:ee(),image_uri:j(g,h)})}t.value=[...l(t),...n],l(t).length&gt;=60&amp;&amp;(f.value=!0)};w();const{t:o}=_(),y=x(!1),f=x(!1),i=()=&gt;{y.value=!0,setTimeout(()=&gt;{w(),y.value=!1},1e3)};return(n,d)=&gt;(v(),oe(l(ie),{title:l(o)("router.waterfall")},{default:ne(()=&gt;[re(l(fe),{data:t.value,loading:y.value,end:f.value,props:{src:"image_uri",height:"height"},onLoadMore:i},null,8,["data","loading","end"])]),_:1},8,["title"]))}});export{pe as default};</span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-08-25T04:37:24.182Z
            </div>
        <script src="../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../sorter.js"></script>
        <script src="../../../block-navigation.js"></script>
    </body>
</html>
    